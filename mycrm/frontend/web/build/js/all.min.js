"use strict";function loadError(e,t){var s=t.error;s.status&&s.statusText?(t.message="Выберите заведение",t.details="Ajax error: "+s.statusText+", status code = "+s.status):(t.message="Custom error: "+t.message,t.details="An error occurred during loading: "+s)}function preselectStaffPermissionsTree(){var e=jQuery.map(jQuery("#permissions_tree").fancytree("getRootNode").tree.getSelectedNodes(),function(e){return e.key});$("#staff_user_permissions").val(JSON.stringify(e))}function preselectStaffServiceTree(){var e=jQuery.map(jQuery("#services_tree").fancytree("getRootNode").tree.getSelectedNodes(),function(e){if($.isNumeric(e.key))return e.key});$("#staff_service_ids").val(JSON.stringify(e))}initColorPicker('select[name="Staff[color]"]'),$("#staff-division_id.single-division").trigger("change"),$("#staff-create_user").on("change",function(){this.checked?($(".inner-inputs-list .control-group").fadeIn("fast"),0===$("#staff-username").val().length&&$("#staff-username").val($("#staff-phone").val())):$(".inner-inputs-list .control-group").fadeOut("fast")}),$("#staff-create_user").change(),$(".staff-form form").submit(function(){return preselectStaffServiceTree(),preselectStaffPermissionsTree(),!0}),$("#staff-has_calendar").change(function(e){this.checked?($(".staff_color").fadeIn("fast"),$(".staff_services").fadeIn("fast")):($(".staff_color").fadeOut("fast"),$(".staff_services").fadeOut("fast"))}),$("#staff-name, #staff-surname").on("keyup",function(e){-1===$(this).val().toLowerCase().indexOf(String.fromCharCode(e.keyCode).toLowerCase())||$(this).capitalize()});
"use strict";function addNewPosition(){var e=prompt("Введите новое значение для списка");$.post("/company/position/add/",{name:e},function(e){if(e.success){var t=$("#staff-company_position_ids");$("<option></option>").attr("selected",!0).text(e.name).val(e.id).appendTo(t),t.trigger("change.select2")}else console.log(e.message)},"json")}function add_hours_to_hovered_slots(e){if("month"!=e.name){var t=get_column_width(),o=$(".fc-view:visible .fc-slats"),a=o.find(".fc-axis:first").outerWidth(),n=o.offset().left+a;$(".fc-time-helper").remove(),o.find('td.fc-widget-content:not(".fc-axis")').unbind("mousenter").unbind("mousemove").unbind("mouseleave").on("mouseenter mousemove",function(e){var o=Math.max(Math.floor((e.pageX-n)/t)),i=t*o+a,r=$(this).parent().attr("data-time").substring(0,5);$(this).html("<div class='fc-time-helper' style='left: "+i+"px'>"+r+" Новая запись</div>")}).on("mouseleave",function(){$(".fc-time-helper").remove()})}}function get_column_width(){return $(".fc-view:visible .fc-time-grid .fc-bg td.fc-day:first").outerWidth()}function alertMessage(e,t){bootbox.alert(e,t)}function dialogMessage(e,t,o){initDialog(bootbox.dialog({message:e,title:o,buttons:t}))}function confirmMessage(e,t){bootbox.confirm({message:e,callback:t})}function initDialog(e){e.init(function(){e.attr("tabindex","")})}function initColorPicker(e){var t=$(e);t.simplecolorpicker({picker:!0}).on("change",function(){$(".simplecolorpicker.icon").prop("class","simplecolorpicker icon "+$(this).val())}),$(".simplecolorpicker.icon").prop("class","simplecolorpicker icon "+t.val()),$("span.color").each(function(){var e=$(this);e.prop("class",e.attr("data-color"))}),$("body>span.simplecolorpicker").prop("class","simplecolorpicker picker color")}function initializeTree(e,t,o){var a={source:t,checkbox:!0,icon:!1,expanded:!0,selectMode:3,strings:{loading:"Загрузка...",loadError:"Произошла ошибка!",moreData:"Еще...",noData:"Нет данных."}};o&&(a.loadError=o),$(e).fancytree(a)}function printElem(e){var t=window.open("","PRINT");return t.document.write("<html><head><title>"+document.title+"</title>"),t.document.write("</head><body >"),t.document.write(e.html()),t.document.write("</body></html>"),t.print(),t.close(),!0}function addOption(e,t){$("#"+e).append($("<option></option>").attr("value",t.id).text(t.name))}$(function(){function e(e,t,o){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),n=-1!==e.indexOf("?")?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+o+"$2"):e+n+t+"="+o}function t(e,t){this.id=e,this.classname=t}$("#menu-toggler").click(function(){$("body").hasClass("sidebar-active")?$("body").removeClass("sidebar-active"):($("body").addClass("sidebar-active"),$("body").css("overflow","visible"))}),$("button[title], .titled[title]").qtip({style:"higher-zindex"}),$('[data-toggle="tooltip"]').tooltip(),$("#btn-show-more").on("click",function(e){var t=$(e.target);""!=t.attr("data-toggle")?(t.attr("data-toggle",""),$(".optional").removeClass("hidden")):(t.attr("data-toggle","optional"),$(".optional").addClass("hidden"))}),$(document).ajaxStart(function(){$("#loading_indicator").show()}),$(document).ajaxStop(function(){$("#loading_indicator").hide()}),$(".filter-per-page").change(function(t){var o=$(t.target),a=o.val(),n=o.attr("name");window.location.href=e(window.location.href,n,a)});var o=$(".division-form"),a=o.find("a.add-item");if(a.length){var n=function(e){var t=$(e.target),o=t.attr("data-target");$("#"+o).remove()};o.find(".remove-item").click(n);var i=function(e){var t=$(e.target),o=t.attr("data-target"),a=$("#"+o),i=a.closest(".controls"),r=a.clone(!1),c=$(".field-division-phones:last"),s=c.attr("id"),l="phones-"+(Number(s.replace("phones-",""))+1),d=r.find(".add-item");d.removeClass("add-item btn-primary"),d.addClass("remove-item btn-danger"),d.attr("data-target",l),d.find(".fa").prop("class","fa fa-minus"),d.click(n),r.prop("id",l),r.find("label").text(""),r.find("input").val("").inputmask("+7 999 999 99 99",{clearIncomplete:!0}),r.appendTo(i)};a.click(i)}t.prototype.submit=function(e){var t=$("#"+this.id),o=t.attr("action"),a=this;$.post(o,t.serialize()).done(function(t){t=JSON.parse(t),t.errors&&a.setErrors(t.errors),"success"==t.status&&e()}).fail(function(){alertMessage("Произошла ошибка")})},t.prototype.setErrors=function(e){var t=this;$.each(e,function(e,o){$(".field-"+t.classname+"-"+e).find(".help-block").text(o[0])})};var r=$("#btn-edit-categories");if(r.length){var c=$(".btn-add-category"),s={success:{label:"Сохранить",className:"btn-primary",callback:function(){var e=new t("category-form","servicecategory"),o=function(){bootbox.hideAll(),l.refreshTree()};return e.submit(o),!1}},danger:{label:"Отмена",className:"btn-default"}},l={addButtonsListeners:function(){var e=$(".btn-edit-category"),t=$(".btn-delete-category");e.click(l.editCategory),t.click(l.confirmDelete)},confirmDelete:function(e){confirmMessage("Вы уверены? Удаление приведет к потере данных.",function(){l.deleteCategory(e)})},deleteCategory:function(e){var t=$(e.target).attr("data-url");$.post(t).done(function(e){l.refreshTree()}).fail(function(){alertMessage("Произошла ошибка при удалении")})},editCategory:function(e){var t=$(e.target).attr("data-url");$.get(t).done(function(e){dialogMessage(e,s,"Категория")}).fail(function(){alertMessage("Произошла ошибка")})},loadTree:function(e){var t=r.attr("data-url");$.get(t).done(function(e){r.remove(),l.modifySidenav(e),l.showSidenavButtons(),l.addButtonsListeners()}).fail(function(){alertMessage("Произошла ошибка")})},modifySidenav:function(e){var t=$("#sidenav");t.find(".tree_options").remove(),t.find(".tree").replaceWith(e),t.css("background-color","rgb(255, 255, 255)")},refreshTree:function(){var e=r.attr("data-url");$.get(e).done(function(e){$("#sidenav").find(".simple-tree").replaceWith(e),l.addButtonsListeners()}).fail(function(){alertMessage("Произошла ошибка")})},showSidenavButtons:function(){c.show(),$(".btn-done").show()}};r.click(l.loadTree),c.click(l.editCategory)}$("#fullscreen").click(function(e){$(this).fadeOut()}),$("#js-edit-cash").click(function(e){e.preventDefault(),$("#cash-modal").modal("show")}),$("#js-transfer-cash").click(function(e){e.preventDefault(),$("#cash-transfer-modal").modal("show")}),$("#js-delete-cash").click(function(e){e.preventDefault();var t=e.target.href;confirmMessage("Вы уверены, что хотите удалить данную кассу?",function(e){e&&$.post({url:t,dataType:"json"}).done(function(e){e.error?$.jGrowl(e.error,{group:"flash_alert"}):($.jGrowl(e.message,{group:"flash_notice"}),window.location.href="index")}).fail(function(e){return $.jGrowl("Произошла ошибка при удалении. ",{group:"flash_alert"})})})})}),"undefined"!=typeof bootbox&&(bootbox.addLocale("ru",{OK:"Продолжить",CANCEL:"Отменить",CONFIRM:"Подтвердить"}),bootbox.setDefaults({locale:"ru"}));var formatRepoSelection=function(e){var t=e.element.innerHTML;return"<span class='select2-selection__choice__name' style='background-color: "+$(e.element).attr("back-color")+"; color: "+$(e.element).attr("font-color")+"'><i class='fa fa-tag'></i> "+t+"</span>"};$.fn.capitalize=function(){return $.each(this,function(){for(var e=this.value.split(" "),t=0,o=e.length;t<o;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1).toLowerCase();this.value=e.join(" ")}),this};
"use strict";function renderFiles(e){e.forEach(renderFile)}function renderFile(e){var i=decodeURI(e.path),l=i.replace(/^.*[\\\/]/,""),n=i;l.match(/.(jpg|jpeg|png|gif)$/i)||(n="/image/download.png");var e=$('<div class="col-sm-4"><figure class="img-thumbnail row-col"><div class="img-zoom-btn text-center"><i class="fa fa-search-plus"></i></div><img src="'+n+'" class="img img-responsive"><figcaption class="text-center"><span>'+l+'</span><a href="/timetable/delete-file?id='+e.id+'" class="js-delete-file pull-right"><span class="glyphicon glyphicon-trash"></span></a><a href="'+i+'" target="_blank" class="pull-right"><span class="glyphicon glyphicon-download"></span></a></figcaption></figure></div>');addFileListener(e),$(".order-files").append(e)}function addFileListener(e){e.find(".js-delete-file").click(function(e){e.preventDefault();var i=this;confirmMessage("Вы уверены, что хотите удалить файл?",function(e){e&&deleteFile(i)})}),e.find("img").click(function(e){var i=$(this).attr("src");$("#fullscreen img").attr("src",i),$("#fullscreen").fadeIn()})}function addFilesListener(){$(".js-delete-file").click(function(e){e.preventDefault();var i=this;confirmMessage("Вы уверены, что хотите удалить файл?",function(e){e&&deleteFile(i)})})}function deleteFile(e){$.get({url:e.href,dataType:"json"}).done(function(i){200==i.status&&($(e).closest(".col-sm-4").remove(),$.jGrowl(i.message,{group:"flash_notice"}))}).fail(function(e){$.jGrowl("Произошла ошибка при удалении файла",{group:"flash_error"})})}function clearFiles(){$("#files").find("input[name=file]").fileinput("clear"),$(".order-files").html("")}
"use strict";$(function(){function t(t){var e="Создать дневник";return r(t)&&(e="Открыть дневник"),"\n            <tr>\n                <td>"+moment(t.datetime).format("DD MMMM YYYY HH:mm")+"</td>\n                <td>"+t.staff_position+"</td>\n                <td>"+t.staff.fullname+'</td>\n                <td><a class="js-open-med-exam" href="#" data-visit-id="'+t.id+'">'+e+"</a></td>\n            </tr>\n        "}function e(t){return z.filter(function(e){return r(e)&&e.datetime<t.datetime}).reduce(function(t,e){return t&&t.datetime>e.datetime?t:e},void 0)}function n(){$(".js-open-med-exam").click(function(t){t.preventDefault();var n=$(t.target).data("visit-id");I=z[n];var a=[],o=[],i=[];if(r(I))o=I.medCard.tabs.map(function(t){return t.teeth}).reduce(function(t,e){return t.concat(e)},[]),i=I.medCard.tabs.map(function(t){return t.childTeeth}).reduce(function(t,e){return t.concat(e)},[]),a=I.medCard.tabs,H=o.map(function(t){return t.teeth_num});else{var d=e(I);d&&(o=d.medCard.tabs.map(function(t){return t.teeth}).reduce(function(t,e){return t.concat(e)},[]),i=d.medCard.tabs.map(function(t){return t.childTeeth}).reduce(function(t,e){return t.concat(e)},[]))}x(o),i.length>0&&M(),h(a),$("#medcard-modal").show("modal")})}function a(){$("#medcard-modal").hide("modal"),$(".selected-teeth").text(""),$(".medcard-tabs > tbody").html(""),I=null,C()}function r(t){return t.medCard}function o(){var t=[18,21,55,61,48,31,85,71],e=[11,28,51,65,41,38,81,75],n=[18,55,48,85],a="",r=I.medCard.tabs.map(function(t){return t.teeth}).reduce(function(t,e){return t.concat(e)},[]),o=r.filter(function(t){return d(t.teeth_num)});return $.each($(".teeth-view .order-tooth-img"),function(c,s){var m=parseInt(s.getAttribute("class").replace(/[^\d]*/,"")),h=d(m);if(!h||h&&o.length>0){var l=r.find(function(t){return t.teeth_num==m}),u=l?l.diagnosis_id:null,f=A[u],p=D(u)||"&nbsp;";if(t.indexOf(m)>-1){var g="text-align: left;";n.indexOf(m)>-1&&(g="text-align: right;"),a+='<div style="width: 50%; display: inline-block; box-sizing: border-box; padding: 4px 10px; '+g+'">'}a+=i(m,p,f),e.indexOf(m)>-1&&(a+="</div>")}}),a}function i(t,e,n){var a='<div style="display: inline-block; height: 45px; text-align: center; width: 35px; vertical-align: top;">';(t<29||t>=51&&t<=65)&&(a+='<span style="font-weight: 700; font-size: 13px;">'+t+"</span>"),a+='<span style="background-color: '+n+';display: inline-block;-webkit-print-color-adjust: exact;"><img src="/image/teeth.png" height="35" width="35" /></span>';return a+='<span style="margin-top: -13px; font-weight: 700; font-size: 12px; top: -16px; position: relative; display: block;">'+e+"</span>",(t>70||t>=31&&t<=48)&&(a+='<span style="font-weight: 700; font-size: 13px;">'+t+"</span>"),a+="</div>"}function d(t){return[[55,51],[65,61],[85,81],[75,71]].reduce(function(e,n){return e||n[0]>=t&&n[1]<=t},!1)}function c(t){var e="";return e+='<table style="float: right; padding-top: 20px"><tr><td align="right">'+t.staff.fullname+'</td></tr><tr><td style="border-bottom: 1px solid #000000; padding-top: 20px"></td></tr></table>'}function s(){var t=I.medCard.tabs.map(function(t){return t.services}).reduce(function(t,e){return t.concat(e)},[]),e="";if(t.length>0){e='<h4 align="center"><strong>Услуги</strong></h4>',e+='<table border="1" width="100%" cellspacing="0" cellpadding="10">',e+="<tr>",e+="<th>Название</th>",e+="<th>Количество</th>",e+="<th>Скидка, %</th>",e+="<th>Итого за услугу, тг.</th>",e+="</tr>",e+=t.reduce(function(t,e){var n="<tr>";return n+="<td>"+e.division_service_name+"</td>",n+='<td align="center">'+e.quantity+"</td>",n+='<td align="center">'+e.discount+"</td>",n+='<td align="center">'+e.price+"</td>",n+="</tr>",t+n},""),e+="</table><br/>";e+="<strong>Итого: "+t.reduce(function(t,e){return t+Number(e.price)},0)+" тг.</strong>"}return e}function m(){var t=[];return I.medCard.tabs.map(function(t){return t.comments}).reduce(function(t,e){return t.concat(e)},[]).forEach(function(e){void 0!==t[e.category_id]?t[e.category_id]+=" "+e.comment+";":t[e.category_id]=e.comment+";"}),t.reduce(function(t,e,n){var a=$("#comment-heading-"+n+" a").text();return""==e.replace(/^[0-9, :;]*/,"")?t:t+"<p><strong>"+a+"</strong></p><p>"+e+"</p>"},"")}function h(t){$(".medcard-tabs > tbody").html(t.reduce(function(t,e){return t+l(e)},"")),w(".medcard-tabs > tbody")}function l(t){var e=[];return t.teeth.length>0&&e.push("Детали: "+t.teeth.map(function(t){return t.teeth_num}).join(", ")),t.services.length>0&&e.push("Услуги: "+t.services.map(function(t){return t.division_service_name}).join(", ")),'<tr data-tab-id="'+t.id+'">\n            <td>\n                '+e.map(function(t){return t}).join("<hr/>")+'\n            </td>\n            <td class="text-right">\n                <a href="#" class=\'js-edit-medcard-tab\' data-tab-id="'+t.id+'"><i class="fa fa-pencil"></i></a>\n                <a href="#" class=\'js-delete-medcard-tab\' data-tab-id="'+t.id+'"><i class="fa fa-trash"></i></a>\n            </td>\n        </tr>'}function u(t){var e='<table class="table table-bordered">    <tr>        <th>Время</th>        <th>Сотрудник</th>        <th>Диагноз</th>    </tr>';return $.isArray(t)&&t.length?t.forEach(function(t){var n=moment(t.datetime).format("DD MMMM YYYY HH:mm");e+="    <tr>        <td>"+n+"</td>        <td>"+t.staff_name+"</td>        <td>"+t.diagnosis_name+"</td>    </tr>"}):e+='    <tr>        <td colspan="3" align="center">Нет изменении</td>    </tr>',e+="</table>"}function f(){$("#medcard-modal").hide("modal"),$("#medcard-tab-modal").show("modal")}function p(t){t.forEach(function(t){var e=$(".teeth-form"),n=e.find(".order-tooth-wrapper-"+t);n.find(".tooth-number").hide(),n.find(".order-tooth-img").hide(),n.find(':input[name^="MedCard[teeth]['+t+']"]').prop("disabled",!0)})}function g(){$(".teeth-form .order-tooth-wrapper .order-tooth-img").show(),$(".teeth-form .order-tooth-wrapper .tooth-number").show(),$(".teeth-form .order-tooth-wrapper :input").prop("disabled",!1)}function b(){$.post({url:"/med-card/default/create?order_id="+I.id,data:$("#medcard-tab-form").serialize(),dataType:"json"}).done(function(t){t.errors&&t.errors.teeth?$.jGrowl(t.errors.teeth,{group:"flash_alert"}):($.jGrowl("Успешно сохранено",{group:"flash_notice"}),I.medCard||(I.medCard=t.medCard,I.medCard.tabs=[],$(".js-open-med-exam[data-visit-id="+I.id+"]").text("Открыть дневник")),I.medCard.tabs.push(t.tab),$(".medcard-tabs > tbody").append(l(t.tab,!1)),w(".medcard-tabs > tbody > tr:last"),H=H.concat(t.tab.teeth.map(function(t){return t.teeth_num})),j())}).fail(function(){$.jGrowl("Произошла ошибка при сохранении",{group:"flash_alert"})})}function v(t){$.post({url:"/med-card/default/update?tab_id="+t,data:$("#medcard-tab-form").serialize(),dataType:"json"}).done(function(e){if(e.errors&&e.errors.teeth)$.jGrowl(e.errors.teeth,{group:"flash_alert"});else{$.jGrowl("Успешно сохранено",{group:"flash_notice"});var n=I.medCard.tabs.find(function(e){return e.id==t}),a=n.teeth.map(function(t){return t.teeth_num});H=H.filter(function(t){return!(a.indexOf(t)>-1)}),H=H.concat(e.tab.teeth.map(function(t){return t.teeth_num})),n.diagnosis_id=e.tab.diagnosis_id,n.diagnosis=e.tab.diagnosis,n.comments=e.tab.comments,n.teeth=e.tab.teeth,n.childTeeth=e.tab.childTeeth,n.services=e.tab.services,$(".medcard-tabs > tbody tr[data-tab-id="+n.id+"]").find("td:first").text(n.teeth.map(function(t){return t.teeth_num}).join(",")),j()}}).fail(function(){$.jGrowl("Произошла ошибка при сохранении",{group:"flash_alert"})})}function _(t){$.post({url:"/med-card/default/delete?tab_id="+t,dataType:"json"}).done(function(e){var n=I.medCard.tabs.find(function(e){return e.id==t}),a=I.medCard.tabs.filter(function(e){return e.id!=t});I.medCard.tabs=a;var r=n.teeth.map(function(t){return t.teeth_num});H=H.filter(function(t){return!(r.indexOf(t)>-1)}),r.forEach(function(t){$(".order-tooth-img-"+t).html('<img src="/image/teeth.png" width="35" height="35"/>').css("background-color","").data("company_customer_id","")}),$(".medcard-tabs > tbody tr[data-tab-id="+t+"]").remove(),$.jGrowl("Успешно удалено",{group:"flash_notice"})}).fail(function(){$.jGrowl("Произошла ошибка при удалении",{group:"flash_alert"})})}function y(t){var e=$("#js-diagnoses-list");if(t.diagnosis_id){if(!e.find("option[value='"+t.diagnosis_id+"']").length){var n="("+t.diagnosis.code+") "+t.diagnosis.name,a=new Option(n,t.diagnosis_id,!0,!0);e.append(a)}e.val(t.diagnosis_id).trigger("change")}else e.val("").trigger("change.select2")}function w(t){$(t).find(".js-edit-medcard-tab").click(function(t){t.preventDefault();var e=$(this).data("tab-id");if($(".js-save-medcard-tab").data("tab-id",e),I.medCard){var n=I.medCard.tabs.find(function(t){return t.id==e}),a=n.teeth.map(function(t){return t.teeth_num});$("#medcard-tab-modal").find(".modal-title").text("Область"),y(n),G(n.teeth),N(n.comments),n.childTeeth.length>0&&M("teeth-form"),renderMedCardServices(n.services),p(H.filter(function(t){return!(a.indexOf(t)>-1)}))}f()}),$(t).find(".js-delete-medcard-tab").click(function(t){var e=$(this).data("tab-id");confirmMessage("Вы уверены, что хотите удалить данные?",function(t){t&&_(e)})})}function j(t){$("#medcard-tab-modal").hide("modal"),$("#medcard-modal").show("modal"),g(),k(),$(".comments-form .panel-collapse.collapse").collapse("hide"),$(".order_comment_item").val(""),$("#js-diagnoses-list").val("").trigger("change.select2"),$("#med_card_services_table").html(""),$("#med_card_services_tabbed_table tbody").html(""),$("#med_card_services_tabbed_table").hide(),$("#js-med-card-add-service").hide(),$(".field-medcard-services .select2").show()}function x(t){$.each(t,function(t,e){O(e.diagnosis_id,e.teeth_num);var n=D(e.diagnosis_id);n&&T(e.teeth_num,'<img src="/image/teeth.png" width="35" height="35"/><span class="tooth-number tooth-abbreviation">'+n+"</span>"),E(e.teeth_num)})}function C(){$(".order-tooth-img").html('<img src="/image/teeth.png" width="35" height="35"/>').css("background-color",""),Y("teeth-view"),H=[]}function k(){$(".teeth-form .order-tooth-img").html('<img src="/image/teeth.png" width="35" height="35"/>').css("background-color",""),Y("teeth-form"),$("#medcard-tab-form")[0].reset(),$(".order-mobility").hide(),S=[]}function M(t){var e=$("."+t+" .order-tooth-controls a");e.text(e.data("title-off")),e.data("enabled",1),$("."+t+" .child-tooth-row").show()}function Y(t){var e=$("."+t+" .order-tooth-controls a");e.text(e.data("title-on")),e.data("enabled",0),$("."+t+" .child-tooth-row").hide()}function O(t,e){t?$(".order-tooth-img-"+e).css("background-color",A[t]).data("company_customer_id",I.company_customer_id):$(".order-tooth-img-"+e).css("background-color","").data("company_customer_id",I.company_customer_id)}function D(t){return X.hasOwnProperty(t)?X[t]:1==t?"X":null}function E(t){$(".order-tooth-img-"+t).data("company_customer_id",I.company_customer_id)}function T(t,e){$(".order-tooth-img-"+t).html(e)}function G(t){t.forEach(function(t,e){$(".teeth-form .order-tooth-wrapper-"+t.teeth_num+" select").val(t.diagnosis_id).change()})}function N(t){t.forEach(function(t,e){t.comment?$("#comment-collapse-"+t.category_id).collapse("show"):$("#comment-collapse-"+t.category_id).collapse("hide"),$("#js-order_comment_"+t.category_id).val(t.comment)})}var z=[],H=[],I=null,S=[],X=$(".order-tooth").data("abbreviations"),A=$(".order-tooth").data("colors");window.loadMedCards=function(e){$.getJSON(api_host+"/v2/order",{company_customer_id:e,"access-token":user_token,expand:"medCard,staff,customer,staff_position",pagination:!1}).done(function(e){$.each(e,function(e,n){z[n.id]=n,$("#med-exams tbody").append(t(n))}),n()})},window.clearMedCards=function(){z=[],$("#med-exams > tbody").html("")},$(".js-close-medcard").click(a),$(".js-print-medcard").click(function(t){$(".print-division-logo").hide(),$("#print-division-logo-"+I.division_id).show();var e=$("#js-print-header").html();if(r(I)){var n=""==company_phone?"":"Телефон: <b>"+company_phone+"</b>",a=""==I.customer.phone?"":"Телефон: <b>"+I.customer.phone+"</b>";a="";var i="<div style='width: 700px; margin: 0 auto;'>\n                <table width='100%'>\n                    <tr>\n                        <td colspan=\"2\" align=\"center\">\n                            "+e+"\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"2\" align='right'>Дата приема: <b>"+moment(I.datetime).format("DD MMMM YYYY HH:mm")+"</b></td>\n                    </tr>\n                    <tr>\n                        <td>Пациент: <b>"+I.customer.fullname+"</b></td>\n                        <td align='right'>Врач: <b>"+I.staff.fullname+"</b></td>\n                    </tr>\n                    <tr>\n                        <td>"+a+"</td>\n                        <td align='right'>"+n+"</td>\n                    </tr>\n                </table>\n                <br>\n                <h3 align='CENTER'><strong>Дневник истории болезни № "+I.medCard.number+"</strong></h3>\n            ";i+=o(),i+=m(),i+=s(),i+=c(I),i+="</table></div>",printElem($(i))}}),$(".js-create-medcard-tab").click(function(t){$(".teeth-form .order-tooth-img").html('<img src="/image/teeth.png" width="35" height="35"/>').css("background-color",""),$(".js-save-medcard-tab").removeData("tab-id"),$("#medcard-tab-modal").find(".modal-title").text("Новая область"),p(H),f()}),$(".js-teeth-history").click(function(t){var e=$(this).data("teeth");$("#js-teeth-number").html(e);var n=$(".order-tooth-img-"+e).data("company_customer_id");void 0!==n?$.getJSON("/med-card/default/history",{teeth:e,company_customer_id:n}).done(function(t){$("#medcard-teeth-history").find(".modal-body").html(u(t))}):$("#medcard-teeth-history").find(".modal-body").html(u([])),$("#medcard-modal").hide("modal"),$("#medcard-teeth-history").show("modal")}),$(".js-save-medcard-tab").click(function(t){var e=$(".js-save-medcard-tab").data("tab-id");e?v(e):b()}),$(".js-close-teeth-history").on("click",function(){$("#medcard-teeth-history").hide("modal"),$("#medcard-teeth-history").find(".modal-body").html(""),$("#medcard-modal").show("modal")}),$(".js-close-medcard-tab").click(j),$(".js-select-tooth-diagnosis").change(function(t){var e=parseInt(t.target.dataset.tooth),n=D(t.target.value);n?T(e,'<img src="/image/teeth.png" width="35" height="35"/><span class="tooth-number tooth-abbreviation">'+n+"</span>"):T(e,'<img src="/image/teeth.png" width="35" height="35"/>'),8==t.target.value?$('.tooth-mobility[name="MedCard[teeth]['+e+'][mobility]"]').show():($('.tooth-mobility[name="MedCard[teeth]['+e+'][mobility]"]').hide(),$(this).closest(".popover").popoverX("hide")),O(t.target.value,e);var a=S.join(", ")+": ";isNaN(parseInt(t.target.value))?S=S.filter(function(t){return t!=e}):-1==S.indexOf(e)&&S.push(e);var r=S.join(", ")+": ";$.each($(".order_comment_item"),function(t,e){var n=e.value;n=n.search(a)>-1?n.replace(a,r):r+n,$(e).val(n)})}),$(".tooth-mobility").change(function(t){var e=t.target.dataset.tooth;isNaN(t.target.value)||(T(e,'<img src="/image/teeth.png" width="35" height="35"/><span class="tooth-number">'+t.target.value+"</span>"),$(this).closest(".popover").popoverX("hide"))}),$(".order-tooth-controls a").click(function(t){t.preventDefault();var e=$(this).data("enabled"),n=$(this).data("container");parseInt(e)?Y(n):M(n)})});
"use strict";!function(t){t.fn.tableHeadFixer=function(n){function i(){var i=function(n){n.each(function(n,i){var i=t(i),o=t(i).parent(),r=i.css("background-color");r="transparent"==r||"rgba(0, 0, 0, 0)"==r?null:r;var e=o.css("background-color");e="transparent"==e||"rgba(0, 0, 0, 0)"==e?null:e;var a=e||"white";a=r||a,i.css("background-color",a)})},o=function(n,i){for(var o=a.left,r=1,e=1;e<=o;e+=r){var c=r>1?e-1:e,f=t(n).find("> *:nth-child("+c+")"),l=f.prop("colspan");f.cellPos().left<o&&i(f),r=l}},r=function(n,i){for(var o=a.right,r=1,e=1;e<=o;e+=r){var c=r>1?e-1:e,f=t(n).find("> *:nth-last-child("+c+")"),l=f.prop("colspan");i(f),r=l}},e={head:!0,foot:!1,left:0,right:0,"z-index":0},a=t.extend({},e,n);a.table=this,a.parent=t(a.table).parent(),function(){var n=t(a.parent),i=t(a.table);n.append(i),n.css({"overflow-x":"auto","overflow-y":"auto"}),n.scroll(function(){var t=n[0].scrollWidth,i=n[0].clientWidth,o=n[0].scrollHeight,r=n[0].clientHeight,e=n.scrollTop(),c=n.scrollLeft();a.head&&this.find("thead tr > *").css("top",e),a.foot&&this.find("tfoot tr > *").css("bottom",o-r-e),a.left>0&&a.leftColumns.css("left",c),a.right>0&&a.rightColumns.css("right",t-i-c)}.bind(i))}(),1==a.head&&function(){var n=t(a.table).find("thead"),o=(n.find("tr"),n.find("tr > *"));i(o),o.css({position:"relative"})}(),1==a.foot&&function(){var n=t(a.table).find("tfoot"),o=(n.find("tr"),n.find("tr > *"));i(o),o.css({position:"relative"})}(),a.left>0&&function(){var n=t(a.table);a.leftColumns=t(),n.find("tr").each(function(t,n){o(n,function(t){a.leftColumns=a.leftColumns.add(t)})}),a.leftColumns.each(function(n,o){var o=t(o);i(o),o.css({position:"relative"})})}(),a.right>0&&function(){var n=t(a.table);a.right;a.rightColumns=t(),n.find("tr").each(function(t,n){r(n,function(t){a.rightColumns=a.rightColumns.add(t)})}),a.rightColumns.each(function(n,o){var o=t(o);i(o),o.css({position:"relative"})})}(),function(){var n=t(a.table);if(a.head){if(a.left>0){var i=n.find("thead tr");i.each(function(n,i){o(i,function(n){t(n).css("z-index",a["z-index"]+1)})})}if(a.right>0){var i=n.find("thead tr");i.each(function(n,i){r(i,function(n){t(n).css("z-index",a["z-index"]+1)})})}}if(a.foot){if(a.left>0){var i=n.find("tfoot tr");i.each(function(n,i){o(i,function(n){t(n).css("z-index",a["z-index"])})})}if(a.right>0){var i=n.find("tfoot tr");i.each(function(n,i){r(i,function(n){t(n).css("z-index",a["z-index"])})})}}}(),t(a.parent).trigger("scroll"),t(window).resize(function(){t(a.parent).trigger("scroll")})}return this.each(function(){i.call(this)})}}(jQuery),function(t){function n(n){var i=[];n.children("tr").each(function(n,o){t(o).children("td, th").each(function(o,r){var e,a,c=t(r),f=0|c.attr("colspan"),l=0|c.attr("rowspan");for(f=f||1,l=l||1;i[n]&&i[n][o];++o);for(e=o;e<o+f;++e)for(a=n;a<n+l;++a)i[a]||(i[a]=[]),i[a][e]=!0;var s={top:n,left:o};c.data("cellPos",s)})})}t.fn.cellPos=function(t){var i=this.first(),o=i.data("cellPos");if(!o||t){n(i.closest("table, thead, tbody, tfoot"))}return o=i.data("cellPos")}}(jQuery);
"use strict";function setSchedule(e,a,t,d){e.children(".workdate-title").hide(),e.children(".spinner").show(),$.ajax({type:a,url:t,data:d,success:function(a){e.children(".spinner").hide(),200==a.error?(!0===a.has_schedule?(e.data("start",d.start),e.data("end",d.end),e.data("break_start",d.break_start),e.data("break_end",d.break_end),e.addClass("has_schedule"),e.find(".workdate-title").text(d.start+"\n"+d.end)):e.removeClass("has_schedule"),$("select[name*=break]").val("")):500===a.error&&e.hasClass("has_schedule")&&e.find(".workdate-title").text(e.data("start")+"\n"+e.data("end")),e.find(".workdate-title").show()},error:function(a){e.children(".workdate-title").show(),e.children(".spinner").fadeOut("fast"),400===a.status&&alertMessage(a.responseJSON.message,function(){setBreak(d.break_start,d.break_end),$("#schedule-modal").modal("show")})},dataType:"json"})}function addSchedule(e){setSchedule(e,"GET","add",{staff_id:e.data("staff"),division_id:e.data("division"),date:e.data("date"),start:e.data("start"),end:e.data("end")})}function editSchedule(e,a,t,d,s){setSchedule(e,"GET","edit",{staff_id:e.data("staff"),division_id:e.data("division"),date:e.data("date"),start:a,end:t,break_start:d,break_end:s})}function deleteSchedule(e){var a={staff_id:e.data("staff"),division_id:e.data("division"),date:e.data("date")};e.find(".workdate-title").text(""),setSchedule(e,"GET","delete",a)}function setBreak(e,a){e&&($("select[name=break_start_hour]").val(e.split(":")[0]),$("select[name=break_start_minute]").val(e.split(":")[1])),a&&($("select[name=break_end_hour]").val(a.split(":")[0]),$("select[name=break_end_minute]").val(a.split(":")[1]))}$(function(){$("#staff-schedule-table").tableHeadFixer({left:1});var e=!1;$(".workdate").on("click",function(){e=$(this);var a=e.data("start"),t=e.data("end"),d=e.data("break_start"),s=e.data("break_end");$("select[name=start_hour]").val(a.split(":")[0]),$("select[name=start_minute]").val(a.split(":")[1]),$("select[name=end_hour]").val(t.split(":")[0]),$("select[name=end_minute]").val(t.split(":")[1]),setBreak(d,s),$(".btn-delete").addClass("hidden"),e.hasClass("has_schedule")?($(".btn-delete").removeClass("hidden"),$("#schedule-modal").modal("show")):addSchedule(e)});var a=$(".btn-save"),t=function(){if(e){var a=$("select[name=start_hour]").val()+":"+$("select[name=start_minute]").val(),t=$("select[name=end_hour]").val()+":"+$("select[name=end_minute]").val(),d=$("select[name=break_start_hour]").val(),s=$("select[name=break_start_minute]").val(),l=$("select[name=break_end_hour]").val(),n=$("select[name=break_end_minute]").val(),i=null,r=null;d&&s&&(i=d+":"+s),l&&n&&(r=l+":"+n),$("#schedule-modal").modal("hide"),editSchedule(e,a,t,i,r)}},d=$(".btn-delete"),s=function(){e&&($("#schedule-modal").modal("hide"),deleteSchedule(e))};a.click(t),d.click(s)}),$("#schedule-modal").on("hide.bs.modal",function(){$("select[name*=break]").val("")});
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}$(function(){function e(){$("#pendingorder-id").val(null),$("#pending-order-form")[0].reset(),$("#pending-order-modal").modal("hide")}function t(e){var t=$(this).data("id"),a=$(this).data("event"),i=moment(a.datetime).format("YYYY-MM-DD");$("#pendingorder-id").val(t),$("#pendingorder-date").val(i),$("#pendingorder-company_customer_id").val(a.company_customer_id),$("#pendingorder-customer_name").val(a.customer_name),$("#pendingorder-customer_phone").val(a.customer_phone),$("#pendingorder-staff_id").val(a.staff_id),$("#pendingorder-note").val(a.note),$("#pendingorder-division_id").val(a.division_id),$("#pending-order-modal").find(".js-delete-pending-order").show(),$("#pending-order-modal").modal("show")}function a(e){return $('\n            <tr class="draggable-order" data-id="'+e.id+'">'+i(e)+"</tr>\n        ").data("event",e)}function i(e){var t=moment(e.datetime).format("YYYY-MM-DD"),a=$(".checkboxuser[data-entity-id="+e.staff_id+"]").data("entity-name");return"\n            <td>"+e.customer_name+"<br>"+e.customer_phone+"</td>\n            <td>"+t+"<br>"+a+"</td>\n        "}var n=$("#calendar"),r=n.find("#timetable-calendar");if(r.length){var o=function(e){if($("#formModal .modal-footer button").attr("disabled",!1),$("#formModal .modal-footer button").not(".save-order-button").hide(),e){$(".save-order-button").text("Сохранить"),e.status==X?($(".save-order-button").attr("disabled",!0),$(".return-order-button").show()):e.status==Z?($(".save-order-button").attr("disabled",!0),$(".delete-order-button").show(),$(".return-order-button").show()):($(".checkout-order-button").show(),$(".disable-order-button").show());$("#timetable-division_id :selected").data("can-print")&&$(".print-order-button").show()}else $(".save-order-button").text("Создать запись")},d=function(e){var t=$("#order-form"),a=t.data("yiiActiveForm");return $.each(a.attributes,function(){this.status=2}),t.yiiActiveForm("validate"),0==t.find(".has-error").length&&b(t),!1},s=function e(t){$.ajax({url:"/timetable/checkout-event?id="+t,type:"post",data:$("#order-form").serialize(),success:function(a){if(a.errors)if(a.errors&&a.errors.ignore_stock){var i=a.errors.ignore_stock,n={success:{label:"Изменить",className:"btn-primary pull-right",callback:function(){$("#formModal .modal-footer button").attr("disabled",!1)}},danger:{label:"Все равно сохранить",className:"btn-default pull-right",callback:function(){$("#order-ignore_stock").val(1),e(t)}}};I(i,n)}else j(a.errors);else y(),r.fullCalendar("refetchEvents")},dataType:"json"})},l=function(e){$.ajax({url:"/timetable/return-event?id="+e,type:"get",success:function(t){y();var a=r.fullCalendar("clientEvents",e)[0];a.status=Q,a.editable=!0,a.className=a.color||$("input[data-entity-id="+a.staff_id+"]").attr("data-entity-color"),r.fullCalendar("updateEvent",a)},error:function(){alertMessage("Произошла ошибка при возврате записи"),$("#formModal .modal-footer button").attr("disabled",!1)},dataType:"json"})},c=function(){$(":checkbox").change(function(){var e=$(this),t=parseInt(e.data("entity-id"));if(t){if(this.checked)e.closest(".entity_list_item").addClass("active"),m(t,e.data("entity-division_id"),e.data("entity-name"),e.data("entity-color"),!0);else{if(1==ae.length)return this.checked=!0,alertMessage("Минимум один сотрудник должен быть выбран."),!1;e.closest(".entity_list_item").removeClass("active"),u(t,!0)}r.fullCalendar("refetchEvents")}})},m=function(e,t,a,i,n){ae.push(e),n&&r.fullCalendar("addResource",{id:e,staff_id:e,division_id:t,title:a,eventClassName:i})},u=function(e,t){var a=ae.indexOf(e);ae.splice(a,1),t&&r.fullCalendar("removeResource",e)},f=function(){$('input:radio[name="entities[]"]').change(function(){$(".entity_list_item").removeClass("active");var e=$(this);e.closest(".entity_list_item").addClass("active"),r.fullCalendar("refetchEvents"),te=e.attr("data-entity-id")})},v=function(e){$("#event-staff_id").val(e.staff_id),$("#order-company_cash_id option").attr("selected",!1),$.each(e,function(e,t){if("start"==e){var a=moment(t);$("#order-datetime").val(moment(t).format("YYYY-MM-DD HH:mm")),$("#order-datetimepicker").val(E(a.format("DD ")+a.format("MMMM ")+a.format("YYYY HH:mm")))}else"division_id"==e?$("#order-"+e).val(t).change():"customer"==e?($("#order-customer_source_id").val(t.source_id).change(),$("#order-customer_name").val(t.name),$("#order-customer_phone").val(t.phone)):"datetime"!=e&&$("#order-"+e).val(t)}),renderServices(e.services),renderProducts(e.products),renderContacts(e.contactCustomers),renderPayments(e),B(e.documents),renderFiles(e.files),calcServiceTotal(),calcProductsTotal(),calcTotal(),loadCustomer(e.company_customer_id),k(e.id),Y(e.company_customer_id),$("#order-referrer_id").trigger("change")},p=function(e,t){$.ajax({url:"/timetable/update-event-duration?id="+e.id,type:"post",data:{end:e.end.format("YYYY-MM-DD HH:mm:ss")},success:function(a){if(0==a.error)return e.services=a.services,g(e.end),!0;t()},error:function(){t()},dataType:"json"})},h=function(e,t){var a=e.resourceId;a||(a=e.staff_id),$.ajax({url:"/timetable/update-event-drop?id="+e.id,type:"post",data:{staff:a,start:e.start.format("YYYY-MM-DD HH:mm:ss")},success:function(i){if(0==i.error)return e.staff_id=a,e.datetime=e.start.format("YYYY-MM-DD HH:mm:ss"),g(e.end),!0;var n={success:{label:"Продолжить",className:"btn-primary pull-right",callback:t()}};I(i.message,n)},error:function(){t()},dataType:"json"})},b=function e(t){var a=!!$("#order-id").val(),i=r.fullCalendar("clientEvents",$("#order-id").val())[0],n=a?"/timetable/update-event?id="+i.id+"&expand=documents,files,products,services,payments,staff,contactCustomers,title,customer":"/timetable/add-event?expand=documents,files,products,services,payments,staff,contactCustomers,title,customer";$.ajax({url:n,type:"post",data:t.serialize(),success:function(n){if(n.errors)if(n.errors.customer_name){var o=n.errors.customer_name,d={success:{label:"Изменить",className:"btn-primary pull-right",callback:function(){}},danger:{label:"Все равно сохранить",className:"btn-default pull-right",callback:function(){$("#order-ignorenamewarning").val(1),e(t)}}};I(o,d)}else j(n.errors);else{a?($.each(n,function(e,t){i.hasOwnProperty(e)&&(i[e]=t)}),i.status==X&&(i.className="past_event"),r.fullCalendar("updateEvent",i),$.jGrowl("Запись сохранена успешно",{group:"flash_notice"})):(r.fullCalendar("renderEvent",n,!1),$.jGrowl("Запись создана успешно",{group:"flash_notice"})),y();var s=moment(n.end);g(s)}},dataType:"json"})},g=function(e,t){t=t||!1;var a=r.fullCalendar("getView");if("month"!=a.name&&e){var i=a.start,n=a.end,o=r.fullCalendar("option","maxTime"),d=r.fullCalendar("getDate"),s=e;t||(s=e.format("HH:mm")),(e>i&&e<n||t)&&s>o&&(r.fullCalendar("destroy"),r.fullCalendar($.extend(ce,{maxTime:s,defaultView:a.name,defaultDate:d})))}},_=function(e,t){if($.each($("input[name='entities[]']"),function(){$(this).prop("checked",!1).removeClass("active"),u($(this).data("entity-id"),t)}),0==e.length){var a=$("#timetable-division_id :selected").text();return void alertMessage('У филиала "'+a+'" не настроен график сотрудников. <a href="../schedule/index">Настроить график работы</a>')}$.each(e,function(e,a){var i=$(".checkboxuser[data-entity-id="+a.id+"]");m(a.id,i.attr("data-entity-division_id"),i.attr("data-entity-name"),i.attr("data-entity-color"),t),i.closest(".entity_list_item").addClass("active"),i.prop("checked",!0)})},y=function(){$("#formModal").modal("hide"),$("#order-id").val(""),$("#order-ignorenamewarning").val(0),$("#order-form")[0].reset(),$("#servicesTable tr").remove(),$("#payments table").remove(),$("#tabbedTable").hide(),$("#js-add-service").hide(),$("#order-division_service_id option").remove(),$(".field-order-division_service_id .select2").show(),$("#order-contacts").empty(),W(),clearFiles(),$("#products").find(".products-table > table > tbody").empty(),S(),clearMedCards(),R()},w=function(e,t){var a=$("#timetable-division_id").val();te=$(".checkboxuser[data-entity-division_id="+a+"]:first").data("entity-id"),$("."+e).each(function(e,i){var n=$(i),r=!1,o=parseInt(n.attr("data-entity-id")),d=n.data("entity-division_id")!=a;switch(t){case"radio":o==te&&(r=!0,n.closest(".entity_list_item").addClass("active"));break;case"checkbox":$.inArray(o,ae)>=0&&(r=!0,n.closest(".entity_list_item").addClass("active"))}n.replaceWith($("<input>",{type:t,class:"checkboxuser",name:n.attr("name"),value:n.attr("value"),checked:r,disabled:d,"data-entity-id":n.data("entity-id"),"data-entity-division_id":n.data("entity-division_id"),"data-entity-name":n.data("entity-name"),"data-entity-color":n.data("entity-color"),"data-entity-position":n.data("entity-position")}))})},k=function(e){$.getJSON("/timetable/history",{id:e}).done(function(e){var t="";e.forEach(function(e){t+="<tr><td>"+e.created_at+"</td><td>"+e.action+"</td><td>"+e.datetime+"</td><td>"+e.status+"</td><td>"+e.user+"</td></tr>"}),$("#history table > tbody").html(t)})},Y=function(e){$("#visits_tab").show(),$.get("/customer/customer/visits",{id:e},function(e){$("#visits").html(e)})},x=function(e,t){$("#"+e).length&&($("#"+e).autocomplete({source:"/timetable/search",minLength:1,select:function(e,a){return t(a),!1}}).autocomplete("instance")._renderItem=function(e,t){return $("<li>").append("<p style='padding: 6px 12px'>"+t.name+" "+t.lastname+" "+t.phone+" </p>").appendTo(e)})},M=function(e){$("#order-company_customer_id").val(e.item.id),$("#order-customer_name").val(e.item.name),$("#order-customer_phone").val(e.item.phone),$("input[data-attr=discount]").val(e.item.discount).change(),orderDiscount=e.item.discount,loadCustomer(e.item.id),Y(e.item.id)},D=function(e){$("#pendingorder-customer_name").val(e.item.name),$("#pendingorder-customer_phone").val(e.item.phone),$("#pendingorder-company_customer_id").val(e.item.id)},C=function(e){if($("#info_tab").hasClass("active")||$("#info_tab").addClass("active"),e){$(".tab").removeClass("active").show(),$("li.divider").show();$("#timetable-division_id :selected").data("can-print")?$("#tooth_tab").show():($("#tooth_tab").hide(),$("#docs_tab").hide())}else $(".tab").removeClass("active").hide(),$("li.divider").hide();$("#info").hasClass("active")||($(".tab-pane").removeClass("active"),$("#info").addClass("active"))},H=function(e,t){var a=!1;return $.each(e,function(e,i){var n=i.name.replace(/Order|[[\]]/gi,"");if(t.hasOwnProperty(n)){var r=""===t[n]?null:t[n],o=""===i.value?null:i.value;"datetime"==n&&(r=t.start.format("YYYY-MM-DD HH:mm")),r!=o&&(a=!0)}}),a},j=function(e){var t="";$.each(e,function(e,a){t+=a+"<br>"}),I(t,{success:{label:"Продолжить",className:"btn-primary pull-right",callback:function(){}}})},T=function(e){e>0?$("#js-order-use-cashback-button").show():$("#js-order-use-cashback-button").hide()},N=function(e){e<=0&&($("#payments").find(".payment_cashback_input").hide(),$("#payments").find(".payment-cashback").text(e),$("#payments").find(".payment-cashback").show())},E=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},I=function(e,t,a,i){a=a||"Внимание",bootbox.dialog({message:e,title:a,buttons:t,className:i||null})},O=function(e,t){$(".modal-datetime-title").text(t+"\n")},A=function(){$(".modal-datetime-controls").hide(),$(".modal-datetime-title").hide(),$(".modal-datetime").show()},S=function(){$(".modal-datetime-controls").show(),$(".modal-datetime-title").show(),$(".modal-datetime").hide()},q=function(){$("#formModal").modal("show")},F=function(e){$.each(e,function(t,a){var i="",n="input";switch(t){case"categories":case"source_id":case"gender":n="select",i=e[t+"_title"];break;case"sms_birthday":case"sms_exclude":i=e[t+"_title"];break;default:i=a}if($.isNumeric(i)||null!=i&&i.length||(i="Не задано"),$(".field-"+t).find(".info-block").text(i),"birth_date"!=t&&"insurance_expire_date"!=t||(a=moment(a).format("DD/MM/YYYY")),"debt"==t&&$(".js-pay-debt-button").data("debt",a),"sms_exclude"==t||"sms_birthday"==t)$(".field-"+t).find(n).prop("checked",a);else if("image"==t)$(".customer-form .avatar img").prop("src",a);else if("categories"==t){var r=a?a.map(function(e){return e.id}):[];$(".field-"+t).find(n).val(r).change()}else $(".field-"+t).find(n).val(a).change();"balance"==t&&($("#payments").data("balance",a),toggleBalanceButton(a),paymentList.calculateBalance(a)),"cashback_balance"==t&&($("#payments").data("cashback",a),T(a),N(a),$("#payments").find(".payment-cashback").text(a)),"insurance_company_id"==t&&0==oe&&$("#order-insurance_company_id").val(a).change()})},P=function(){var e=new FormData(document.getElementById("customer-form"));$.post({url:"/customer/customer/edit?expand=categories,debt,deposit,revenue,canceledOrders,finishedOrders,lastVisit,categories_title,source_id_title",data:e,processData:!1,contentType:!1}).done(function(e){"error"==e.status?$.each(e.errors,function(e,t){$(".customer-form .field-"+e).find(".help-block").html("<span class='text-danger'>"+t+"</span>")}):"success"==e.status&&(F(e.data),R())}).fail(function(e){alertMessage("Произошла ошибка при cохранении данных клиента")})},R=function(){$(".js-show-customer-form").text("Изменить данные клиента"),me=!1,$(".customer-form .info-block").show(),$(".customer-form .field-block").hide(),$(".customer-form .help-block").text(""),$("#imagefile").val(null)},z=function(e,t){r.fullCalendar("clientEvents",e)[0].documents.push(t)},V=function(e){var t="<tr>\n                <td>"+e.date+"</td>\n                <td>"+e.userName+"</td>\n                <td>"+e.templateName+'</td>\n                <td><a href="'+e.link+'">Открыть</a></td>\n                </tr>\n            ';$(".order-documents table > tbody").append(t)},B=function(e){e.forEach(V)},W=function(){$(".order-documents table > tbody").html("")},G=function(e){$("select[name=template_id]").empty(),$.get("/order/document/templates",{division_id:e}).done(function(e){$.each(e,function(e,t){$("select[name=template_id]").append($("<option>",{value:t.id}).text(t.name))})}).fail(function(){alertMessage("Произошла ошибка при загрузке списка документов")})},L=function(e){return moment.utc(e,"YYYY-MM/-DD HH:mm")},J=function(e){return moment(e).format("YYYY-MM-DD")},U=function(){return L(moment().format("YYYY-MM-DD HH:mm"))},K=function(e){e=e||r.fullCalendar("getView");var t=$(".fc-time-grid:visible .fc-slats").parent(),a=t.children(".timeline"),i=t.children(".timeline-arrow"),n=U(),o=moment.duration(ie),d=moment.utc(J(moment())).add(o),s=t.find(".fc-slats tr:first").height();if(0==a.length&&(a=$("<hr>").addClass("timeline"),i=$("<b></b>").addClass("timeline-arrow caret"),t.prepend(a),t.prepend(i)),!(e.start<n&&e.end>n))return a.hide(),void i.hide();a.show(),i.show();var l=+$("#timetable-interval").val().toString().substr(3,2),c=Math.floor(Math.floor(n.diff(d)/1e3/60/l)*s+s-1);if(a.css("top",c+"px"),i.css("top",c-4+"px"),"agendaWeek"==e.name){var m=$(".fc-today:visible"),u=m.position().left,f=m.outerWidth();a.css({left:u+"px",width:f+"px"})}else{var v=$(".fc-widget-header:visible .fc-axis").outerWidth();a.css("left",v+"px"),a.css("width",$(".fc-agenda-view:visible").outerWidth()-v-1+"px")}},Q=1,X=3,Z=4,ee=n.find("#timetable-selected-users"),te=ee.data("selected-user"),ae=ee.data("selected-users"),ie=r.data("duration-min"),ne=r.data("duration-max");n.find("#datepicker").datepicker({dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1,onSelect:function(e,t){var a=moment(e,"DD.MM.YYYY");$.getJSON("/timetable/working-period",{start:a.format("YYYY-MM-DD"),end:a.format("YYYY-MM-DD")}).done(function(e){r.fullCalendar("option","minTime",e.min),r.fullCalendar("option","maxTime",e.max),r.fullCalendar("gotoDate",a)})}}),$(".ui-datepicker-next.ui-corner-all").removeAttr("title"),$(".ui-datepicker-prev.ui-corner-all").removeAttr("title");var re=$(window).height(),oe=!1,de=void 0,se=localStorage.getItem("slotInterval")||"00:05:00",le=moment().subtract(.5,"hour").format("HH:mm:00"),ce={locale:"ru",defaultView:"agendaDay",timezone:"Asia/Almaty",allDayText:"весь день",allDaySlot:!1,slotDuration:se,slotLabelInterval:"01:00:00",weekNumbers:!0,displayEventTime:!0,displayEventEnd:!0,displayAnnotation:!0,selectHelper:!0,scrollTime:le,minTime:ie,maxTime:ne,contentHeight:re-110,aspectRatio:.001,axisFormat:"HH:mm",slotLabelFormat:"HH:mm",selectable:!0,editable:!0,droppable:!0,dropAccept:".draggable-order",eventDurationEditable:!0,eventOverlap:!0,events:{url:"/timetable/events?expand=documents,files,products,services,payments,staff,contactCustomers,title,customer",data:function(){var e=r.fullCalendar("getView").name,t={viewName:e,_csrf:$("meta[name=csrf-token]").attr("content"),division_id:$("#timetable-division_id").val(),position_id:$("#timetable-position_id").val()},a=[];return $.each($("input.checkboxuser:checked"),function(){a.push($(this).data("entity-id"))}),"agendaDay"!=e&&(t.staffs=a),t},type:"POST",error:function(){clearInterval(de),alertMessage("Проблемы с обновлением записей. Возможно, у вас проблемы с интернетом")},success:function(e){var t=r.fullCalendar("option","maxTime");void 0!==e&&e.length>0&&e[0].id&&(t=e[0].maxTime,g(t,!0))}},refetchResourcesOnNavigate:!0,resources:function(e,t,a,i){var n=r.fullCalendar("getView").name,o=r.fullCalendar("getDate");$.getJSON("/timetable/active-staff",{date:o.format("DD.MM.YYYY"),division_id:$("#timetable-division_id").val(),position_id:$("#timetable-position_id").val()}).done(function(t){"agendaDay"==n&&_(t,!1),e(t)})},resourceOrder:"staff_id",resourceRender:function(e,t,a){var i="Нет расписания",n=$(".checkboxuser[data-entity-id="+e.id+"]").data("entity-position");if(e.schedule){var r=moment(e.schedule.start_at).format("HH:mm"),o=moment(e.schedule.end_at).format("HH:mm");"00:00"==o&&(o="24:00"),i=r+" - "+o}return t.append('<div data-annotations-col="0" class="fc-annotation">'+i+"<br>"+n+"</div>")},select:function(e,t,a,i,n){o(),$("#payments").data("balance",0),$("#order-company_customer_id").val("");var d=n?n.eventClassName:$("input.checkboxuser:checked").data("entity-color");$("#order-color").val(d).change(),C(!1),O(0,e.format("DD MMMM YYYY HH:mm")),renderPayments(n),q();var s=n?n.id:$("input.checkboxuser:checked").data("entity-id"),l=n?n.division_id:$("input.checkboxuser:checked").data("entity-division_id");$("#order-hours_before").val(division_notification[l]),$("#event-staff_id").val(s),$("#order-division_id").val(l).change(),$("#order-datetime").val(e.format("YYYY-MM-DD HH:mm")),$("#order-datetimepicker").val(E(e.format("DD ")+e.format("MMMM ")+e.format("YYYY HH:mm"))),oe=!1,r.fullCalendar("unselect")},eventClick:function(e,t){o(e),v(e),C(!0),O(0,E(e.start.format("DD MMMM YYYY HH:mm"))),G(e.division_id),loadMedCards(e.company_customer_id),q(),oe=e},eventDrop:function(e,t,a,i,n,r){e.status==X&&a(),h(e,a)},eventResize:function(e,t,a){e.status==X&&a(),p(e,a)},eventRender:function(e,t){if(e.id){t.addClass(e.color);var a="<div class='js-show-event-tip fc-event-tip'><i class='fa fa-info'></i></div>";e.customer&&e.customer.balance<0&&(a+="<div class='js-show-customer-debt-tip fc-event-tip fc-event-tip_red'><i class='fa fa-dollar-sign'></i></div>"),e.customer&&0==e.customer.finishedOrders&&(a+="<div class='js-show-customer-new-tip fc-event-tip fc-event-tip_green'>Н</div>"),t.find(".fc-time").append(a)}},eventAfterRender:function(e,t,a){if(e.id){var i="";$.each(e.services,function(e,t){i+=t.service_name+"("+t.duration+"мин, "+t.price+"〒)<br>"});var n="";null!=e.end&&(n="<div class='event-description-item'><b>"+e.start.format("HH:mm")+" - "+e.end.format("HH:mm")+"</b></div>\n                            <div class='event-description-item'>"+e.customer.name+"</div>\n                            <div class='event-description-item'>"+e.customer.phone+"</div>\n                            <div class='event-description-item'>"+i+"</div>\n                            <div class='event-description-item'>"+e.note+"</div>\n                        ");var o={my:"left center",at:"right center"},d=r.fullCalendar("getResources"),s=Math.max.apply(Math,_toConsumableArray(d.map(function(e){return e.staff_id})));("agendaDay"!=a.name&&7==e.start.isoWeekday()||"agendaDay"==a.name&&s==e.staff_id)&&(o.my="right center",o.at="left center"),t.find(".js-show-event-tip").qtip({overwrite:!0,content:n,style:{classes:"qtip-light qtip-shadow qtip-calendar"},position:o}),t.find(".js-show-customer-new-tip").qtip({overwrite:!0,content:"Новый клиент",style:{classes:"qtip-light qtip-shadow qtip-calendar"},position:o}),t.find(".js-show-customer-debt-tip").qtip({overwrite:!0,content:"У клиента есть непогашенный долг",style:{classes:"qtip-light qtip-shadow qtip-calendar"},position:o})}},defaultTimedEventDuration:"00:30:00",eventReceive:function(e){e.documents=[],e.files=[]},drop:function(e,t,a,i){var n=this,o=$(this).data("id");o&&$.post({url:"/timetable/enable-pending?id="+o,dataType:"json"},{start:e.format("YYYY-MM-DD HH:mm:ss")}).done(function(e){return $(n).remove()}).fail(function(e){$.jGrowl("Произошла ошибка при добавлении записи в график.",{group:"flash_alert"}),r.fullCalendar("removeEvents",o)})},customButtons:{print:{text:"печать",click:function(){window.print()}}},header:{left:"prev,next today print",center:"title",right:"month,agendaWeek,agendaDay"},buttonText:{today:"сегодня",month:"месяц",week:"неделя",day:"день"},weekNumberTitle:"нед",views:{month:{columnFormat:"ddd"},agenda:{columnFormat:"ddd M/D"},week:{titleFormat:"DD MMM YYYY"},day:{titleFormat:"dddd, DD MMM YYYY"}},viewRender:function(e){"agendaDay"!=e.name?($(".entity_list_item").removeClass("active"),w("checkboxuser","radio"),f()):($(".entity_list_item").removeClass("active"),w("checkboxuser","checkbox"),c()),add_hours_to_hovered_slots(e),K(e)},lazyFetching:!1};r.fullCalendar(ce),setInterval(K,3e4),initColorPicker('select[name="Order[color]"]'),$("#timetable-division_id").change(function(){var e=$(this).val();$(".checkboxuser[data-entity-division_id!="+e+"]").prop("checked",!1).prop("disabled",!0).closest(".entity_list_item").removeClass("active");var t=".checkboxuser[data-entity-division_id="+e+"]";"agendaDay"!=r.fullCalendar("getView").name&&(t=".checkboxuser[data-entity-division_id="+e+"]:first"),$(t).prop("checked",!0).prop("disabled",!1).closest(".entity_list_item").addClass("active"),r.fullCalendar("refetchResources"),r.fullCalendar("refetchEvents")}),$("#timetable-position_id").change(function(){$("#timetable-division_id").change()}),function(e){$("#timetable-interval").val(e)}(se),function(){$("#timetable-interval").change(function(e){var t=$(this).val();localStorage.setItem("slotInterval",t),$("#timetable-calendar").fullCalendar("destroy"),$("#timetable-calendar").fullCalendar($.extend(ce,{slotDuration:t}))})}(),$(".close-order-button").on("click",function(){var e=!1;if(oe&&oe.status!=X){var t=$("#order-form"),a=t.serializeArray();e=H(a,oe)}else oe||(e=$("#order-customer_name").val()||$("#order-customer_phone").val());e?bootbox.dialog({message:"При закрытии данного окна все несохраненные данные будут утеряны. Продолжить?",title:"Вы уверены?",buttons:{success:{label:"Подтвердить",className:"btn-primary pull-left",callback:function(){return y()}},danger:{label:"Отменить",className:"btn-default pull-right"}}}):y()}),$(".delete-order-button").on("click",function(e){bootbox.dialog({message:"При изменении статуса запись исчезнет из таблицы.<br/>Но вы сможете просмотреть во вкладке 'Обзор'.<br/>Продолжить?",title:"Вы уверены?",buttons:{success:{label:"Подтвердить",className:"btn-danger pull-left",callback:function(){var e=$("#order-id").val();$.post("/timetable/delete-event?id="+e,{_csrf:$("meta[name=csrf-token]").attr("content")}).done(function(t){r.fullCalendar("removeEvents",e),y()}).fail(function(e){alertMessage("Что-то пошло не так. Проверьте подключение и попробуйте еще раз")})}},danger:{label:"Отменить",className:"btn-default pull-right",callback:function(){}}}})}),$(".cancel-order-button").on("click",function(e){var t=$("#order-id").val(),a=r.fullCalendar("clientEvents",t)[0];$.post("/timetable/cancel-event?id="+t,{_csrf:$("meta[name=csrf-token]").attr("content")}).done(function(e){a.status=Z,a.className="canceled_event",r.fullCalendar("updateEvent",a),$.jGrowl("Запись отменена успешно.",{group:"flash_notice"}),y()}).fail(function(e){alertMessage("Что-то пошло не так. Проверьте подключение и попробуйте еще раз")})}),$(".print-order-button").on("click",function(e){var t=$("#order-id").val(),a=r.fullCalendar("clientEvents",t)[0],i=$("#order-print").clone(),n=$("#timetable-division_id option[value="+a.division_id+"]"),o=$(".checkboxuser[data-entity-id="+a.staff_id+"]").data("entity-name");i.find(".division-name").text(n.text()),i.find(".division-address").text(n.data("address")),n.data("logo")?(i.find(".division-info > .logo > img").attr("src",n.data("logo")),i.find(".division-info > .logo").show()):i.find(".division-info > .logo").hide(),i.find(".staff-name").text(o),i.find(".order-key").text(a.number),i.find(".order-datetime").text(a.start.format("DD.MM.YYYY HH:mm")),i.find(".date-created").text(moment().format("DD.MM.YYYY HH:mm"));var d=[a.customer.name,a.customer.lastname,a.customer.patronymic].join(" ");i.find(".customer-fullname").text(d);var s=$("#servicesTable").find("tr");$.each(s,function(e,t){var a=$("<tr></tr>"),n=$(t).find("input[data-attr=discount]").val(),r=$(t).find("input[data-attr=price]").val(),o=$(t).find("input[data-attr=quantity]").val();a.append("<td>"+$(t).find(".order-service-column_name").text()+"</td>"),a.append("<td>"+r+"тг</td>"),a.append("<td>"+o+"</td>"),a.append("<td>"+n+"%</td>"),a.append("<td>"+Number(r*(100-n)/100)+"тг</td>"),i.find("table.services tbody").append(a)}),i.find(".order-price").text($("#order-price").val()+"тг"),i.find(".order-paid").text($("#order-paid").val()+"тг"),i.find(".order-debt").text($(".payment-debt").text()+"тг"),printElem(i)}),$(".return-order-button").on("click",function(e){e.stopImmediatePropagation(),$("#formModal .modal-footer button").attr("disabled",!0),l($("#order-id").val())}),$(".checkout-order-button").on("click",function(e){e.stopImmediatePropagation(),$("#formModal .modal-footer button").attr("disabled",!0),s($("#order-id").val())}),$(".save-order-button").on("click",function(e){return d()}),x("order-customer_name",M),x("order-customer_phone",M),x("pendingorder-customer_name",D),x("pendingorder-customer_phone",D),$("#order-customer_name").on("keyup",function(){$(this).capitalize()}),$("#order-price").on("change paste keyup",function(){calcTotal(),$(".order_payment_item").change()}),$(".change-datetime").click(function(){A()});var me=!1;window.loadCustomer=function(e){$("li.divider").show(),$("#customer_tab").show(),$("input[name=company_customer_id]").val(e),$.get("/customer/customer/info?expand=categories,debt,deposit,revenue,canceledOrders,finishedOrders,lastVisit,categories_title,source_id_title",{id:e}).done(function(e){F(e)}).fail(function(){alertMessage("Произошла ошибка при загрузке данных клиента")}),$(".js-pay-debt-button").data("company-customer",e)},$(".js-show-customer-form").click(function(e){e.preventDefault(),me?P():($(e.target).text("Сохранить данные клиента"),$(".customer-form .info-block").hide(),$(".customer-form .field-block").show(),me=!0)}),$(".js-generate-doc").click(function(e){var t=$("#order-id").val(),a=$("select[name=template_id]").val();$.get("/order/document/generate",{order_id:t,template_id:a}).done(function(e){z(t,e),V(e)}).fail(function(){alertMessage("Произошла ошибка при формировании документа")})})}$(".js-add-pending-order").click(function(e){$("#pendingorder-id").val(null),$("#pending-order-form")[0].reset(),$("#pending-order-modal").find(".js-delete-pending-order").hide(),$("#pending-order-modal").modal("show")}),$("#pending-order-form").on("beforeSubmit",function(e){var n=$("#pendingorder-id").val(),r="/timetable/add-pending";return n&&(r="/timetable/update-pending?id="+n),$.post({url:r,data:$("#pending-order-form").serialize(),dataType:"json"}).done(function(e){if(n){$("#waiting_list > table > tbody > tr[data-id="+n+"]").html(i(e));var r=$("#waiting_list > table > tbody > tr[data-id="+n+"]").data("event");$.each(e,function(e,t){r.hasOwnProperty(e)&&(r[e]=t)})}else $("#waiting_list > table > tbody").prepend(a(e)),$("#waiting_list > table > tbody > tr[data-id="+e.id+"]").click(t),$("#waiting_list > table > tbody > tr[data-id="+e.id+"]").draggable({helper:"clone",start:function(e,t){$(t.helper).css("width",$(e.target).width()+"px")},zIndex:999,revert:!0,revertDuration:0});$("#pendingorder-id").val(null),$("#pending-order-form")[0].reset(),$("#pending-order-modal").modal("hide")}).fail(function(e){alertMessage("Произошла ошибка при cохранении данных клиента")}),!1}),$(".js-delete-pending-order").click(function(t){confirmMessage("Вы уверены, что хотите удалить эту запись из листа ожидания?",function(t){if(t){var a=$("#pendingorder-id").val();$.post({url:"/timetable/delete-pending?id="+a,dataType:"json"}).done(function(t){t.error?$.jGrowl(t.message,{group:"flash_alert"}):(e(),$("#waiting_list > table > tbody > tr[data-id="+a+"]"),$.jGrowl(t.message,{group:"flash_notice"}))})}})}),$(".draggable-order").click(t),$(".draggable-order").draggable({helper:"clone",start:function(e,t){$(t.helper).css("width",$(e.target).width()+"px")},zIndex:999,revert:!0,revertDuration:0}),window.servicesSelectEvent=function(e){var t=$("#tabbedTable"),a=$("#servicesTable");t.show();var i=document.getElementById("servicesTable").rows.length,n={id:e.params.data.id,duration:e.params.data.element.dataset.duration,name:e.params.data.text,price:e.params.data.element.dataset.price,quantity:1,service_name:e.params.data.element.dataset.service_name,service_price:e.params.data.element.dataset.price},r=renderService(i,n);a.append(r),$(".field-order-division_service_id .select2").hide(),$("#js-add-service").show(),$("#order-division_service_id").val("").change(),loadProducts(e.params.data.id),calcServiceTotal()},$(".js-reset-customer").click(function(e){return e.preventDefault(),$("#order-company_customer_id").val(null),$("#order-customer_name").val(null),$("#order-customer_phone").val(null),!1}),window.servicesCloseEvent=function(e){document.getElementById("servicesTable").rows.length>=1&&($(".field-order-division_service_id .select2").hide(),$("#js-add-service").show())}});
"use strict";function checkIO(){setTimeout(function(){"function"!=typeof io||isNaN(id)?checkIO():setupIO()},1e3)}function setupIO(){socket=io("https://crm.mycrm.kz/"),socket.on("connect",function(){socket.emit("join",{client_id:$("#myid").val()}),socket.on("message",function(t){t.msg&&(t.type&&"jGrowl"==t.type?$.jGrowl(t.msg,{group:t.group}):addBox(t.msg))})}),socket.on("disconnect",function(){socket=io("https://crm.mycrm.kz/")})}function addBox(t){var o=$("<div>");o.html(t),o.addClass("notification"),o.css({transform:"translate(0px,100px)"}),$(".notifications").prepend(o),o.click(function(){$(this).addClass("removed"),$(this).bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){$(this).unbind(t),$(this).remove(),positionBoxes()})}),positionBoxes(o),document.getElementById("sound").play()}function positionBoxes(){timeoutId&&clearTimeout(timeoutId),$.each($(".notification"),function(t,o){var i={transform:"translate(0px,-"+165*t+"px)"};$(o).css(i),0===t&&(timeoutId=setTimeout(function(){$(o).remove(),positionBoxes()},1e4))})}var id=$("#myid").val(),socket,timeoutId;checkIO();
"use strict";$(document).ready(function(){var e=$(".customer-index"),t=!1,o=function(e){var t=$(".js-selected");e?t.removeClass("disabled"):t.addClass("disabled")};$(e).on("change","input[type=checkbox]",function(e){var t=$("#customers").yiiGridView("getSelectedRows");o(t.length>0)});e.on("click","#js-export-fetched",function(){downloadURL("export?mode=0")}),e.on("click","#js-export-all",function(){downloadURL("export?mode=1")});var a;e.on("click",".js-selected",function(){t=!1,a=$("#customers").yiiGridView("getSelectedRows"),$(".js-modal-customer-size").text(a.length)}),e.on("click",".js-fetched",function(){t=!1,a=$('input[name="js-fetched-customers"]').val(),a=JSON.parse(a),$(".js-modal-customer-size").text(a.length)}),e.on("click",".js-all",function(){t=!0;var e=$('input[name="js-customers-count"]').val();$(".js-modal-customer-size").text(e)});var s=function(e){var t=$("#js-modal-category-items").val(),o={customers:e,categories:t};$.post(l,o,function(e){$("#js-modal-category").modal("hide"),$("#customers-container").addClass("loading"),$.pjax.reload({container:"#pjax-container",timeout:1e4})})},n=function(e){var o=$("#js-modal-request-text").val(),a={all:t,customers:e,message:o};$.post(d,a,function(e){$("#js-modal-request").modal("hide"),"success"==e.status?($.jGrowl(e.message,{group:"flash_notice"}),$("#customers-container").addClass("loading"),$.pjax.reload({container:"#pjax-container",timeout:1e4})):$.jGrowl(e.message,{group:"flash_alert"})})},c=function(e){var t={customers:e};$.post(u,t,function(e){$("#customers-container").addClass("loading"),$.pjax.reload({container:"#pjax-container",timeout:1e4})})},r=function(e){var t=$("#merged-customers").find("input[name=primary_merge_id]:checked").val();if(!t)return!1;var o={customer_ids:e.filter(function(e){return e!=t})};$.post("merge?id="+t,o).done(function(e){$.jGrowl(e,{group:"flash_notice"}),$("#customers-container").addClass("loading"),location.reload()}).fail(function(){$.jGrowl("Произошла ошибка",{group:"flash_alert"})})};e.on("click",".js-button-request:not(.disabled)",function(){$("#js-modal-request").modal("show")}),e.on("click",".js-button-category:not(.disabled)",function(){$("#js-modal-category").modal("show")}),e.on("click",".js-button-delete:not(.disabled)",function(){1==confirm("Вы уверены что хотите удалить данных клиентов?")&&a&&c(a)}),e.on("click",".js-merge-selected:not(.disabled)",function(){var e="<table id='merged-customers' class='table table-bordered'><thead><tr><th></th><th>ID</th><th>Клиент</th></tr></thead>";a.forEach(function(t){var o=$("#customers-container").find("table tr[data-key="+t+"]").clone();o.find("td:gt(2)").remove(),$(o).find("input").attr({type:"radio",name:"primary_merge_id"}),e+="<tr>"+o.html()+"</tr>"}),e+="</table>",dialogMessage(e,{success:{label:"Сохранить",className:"btn-primary",callback:function(){a&&r(a)}},danger:{label:"Отмена",className:"btn-default"}},"Выберите основного клиента")}),$("#js-modal-category-submit").on("click",function(){a&&s(a)}),$("#js-modal-request-submit").on("click",function(){(a||t)&&n(a)}),$("#js-modal-request-text").keyup(function(){var e=$(".js-modal-request-symbols"),t=$(".js-modal-request-count"),o=$(this).val();e.text(o.length);var a=0;a=-1!==o.search(/[^a-zA-z0-9._?~!@#$%^&*()`\[\]{}\"\';:,.\/<>?| ]/)?parseInt(o.length/70)+1:parseInt(o.length/160)+1,t.text(a)});var i,l="add-categories",d="send-request",u="delete-customers";window.downloadURL=function(e){i?i.attr("src",e):i=$("<iframe>",{id:"idown",src:e}).hide().appendTo("body")},e.on("click",".js-customers-search",function(){$("#customers-container").addClass("loading")})});
"use strict";$(document).ready(function(){function o(){$(".js-form-discount").hide(),$(".js-form-rank").hide(),$(".js-form-category").hide(),$("#js-form-discount").val()}$("#ajaxCrudModal").on("change","#js-form-mode",function(){var s=$("#js-form-mode").val();o(),0==s&&$(".js-form-discount").show(),1!=s&&3!=s||$("#js-form-discount").val(0),2==s&&$(".js-form-rank").show(),4!=s&&5!=s||$(".js-form-category").show()})});
"use strict";$(function(){function r(r){$("#order-grid-form").submit()}$(".js-reset-order").click(r)});
"use strict";$(function(){var e,t="import";$("#js-import,.js-import").click(function(){function a(){$.ajax({url:"process",success:function(t){var a=$(".progress-bar");a.attr("aria-valuenow",t),a.css("width",t+"%"),a.html(t+"%"),100==t&&(window.clearInterval(e),e=window.setInterval(o,1e3))}})}function o(){var t=$(".progress-bar");t.css("width","100%"),t.html("100%"),t.html("Завершено"),window.clearInterval(e)}var s=$("[name='csrf-token']").attr("content"),r="<div><form id='upload-form' action='import' method='post' enctype='multipart/form-data'><input type='hidden' name='_csrf' value='"+s+"'><label class='upload-area' style='width:100%;text-align:center;' for='fupload'><input id='fupload' name='fupload' type='file' style='display:none;' multiple='true'><i class='fa fa-cloud-upload fa-3x'></i><br />Нажмите чтобы выбрать файл</label><br /><span style='margin-left:5px !important;' id='fileList'></span></div><div class='clearfix'></div></form>",l=$(this).data("url");l&&(t=l),bootbox.dialog({message:r,title:"Импорт файла",buttons:{success:{label:"Импорт",className:"btn-default",callback:function(){var r=$("#fupload").prop("files")[0],l=new FormData;l.append("ImportForm[excelFile]",r),l.append("_csrf",s),$.ajax({url:t,dataType:"json",cache:!1,contentType:!1,processData:!1,data:l,type:"post",success:function(e){$("#progress-message").html(e.message).show(),$(".bootbox-close-button").prop("disabled",!1),$(".js-close-import").prop("disabled",!1),e.incorrect&&e.incorrect.length&&$("#import-incorrect-rows").html("Следующие строки содержат замечания: "+e.incorrect.reduce(function(e,t){return e+"<p>"+t.row+": "+t.error+"</p>"},"")).show(),o()},error:function(){window.clearInterval(e),$.jGrowl("Произошла ошибка при импорте.",{group:"flash_alert"}),bootbox.hideAll()}}),bootbox.dialog({closeButton:!0,title:"Импорт...",message:'\n            <div class="progress">\n                <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0"\n                        aria-valuemin="0" aria-valuemax="100" style="width:0%">\n                    \'0%\'\n                </div>\n            </div>\n            <div id="progress-message" class="alert alert-info" style="display:none"></div>\n            <div id="import-incorrect-rows" class="alert alert-danger" style="display:none"></div>\n        ',buttons:{cancel:{label:"Закрыть",className:"btn-primary pull-right js-close-import",callback:function(){bootbox.hideAll(),location.reload()}}}}),$(".bootbox-close-button").prop("disabled",!0),$(".js-close-import").prop("disabled",!0),e=window.setInterval(a,2e3)}}}}),document.getElementById("fupload").addEventListener("change",function(e){for(var t="",a=0;a<this.files.length;a++)t+='<div class="col-xs-12 file-list text-center">'+this.files[a].name+"</div>";$("#fileList").html(t)},!1)}),$("#js-download-template").click(function(){downloadURL("template")})});
"use strict";$(function(){function e(e,i){var c=i.discount||orderDiscount,s=$("<tr></tr>");s.data("service_price",i.service_price);var n='<td class="order-service-column_name">'+i.division_service_name+"</td>",p=$('<input type="number" name="MedCard[services]['+e+'][quantity]" value="'+i.quantity+'" class="order-service-input form-control" data-key="'+e+'" data-attr="quantity">'),v=$('<input type="hidden" name="MedCard[services]['+e+'][division_service_id]" class="order-service-input" value="'+i.division_service_id+'" data-key="'+e+'" data-attr="division_service_id">'),o=$('<input type="hidden" name="MedCard[services]['+e+'][order_service_id]" class="order-service-input" value="'+i.order_service_id+'" data-key="'+e+'" data-attr="order_service_id">'),u=$('<input type="number" name="MedCard[services]['+e+'][discount]" value="'+c+'" class="order-service-input form-control" data-key="'+e+'" data-attr="discount">'),l=$('<input type="number" name="MedCard[services]['+e+'][price]" value="'+i.price+'" class="order-service-input order-service-input_price form-control" data-key="'+e+'" data-attr="price">'),m=$('<a class="js-remove-service css-remove-service" href="#"><i class="icon sprite-delete"></i></a>');return m.click(a),u.bind("change keyup input",d),l.bind("change keyup input",t),p.bind("change keyup input",r),s.append(n),s.append($("<td></td>").append("кол-во ").append(p)),s.append($("<td></td>").append(v).append(o).append("скидка: ").append(u).append(" %")),s.append($("<td></td>").append("цена: ").append(l).append("〒")),s.append($("<td></td>").append(m)),s}function a(e){e.preventDefault();var a=document.getElementById("med_card_services_table").rows.length,t=$(e.target).closest("tr");t.find("input[data-attr=price]").val(),t.find("input[data-attr=discount]").val();t.remove(),1==a&&($("#med_card_services_tabbed_table").hide(),$("#js-med-card-add-service").hide(),$(".field-medcard-services .select2").show()),i()}function t(e){e.target.defaultValue=e.target.value,i()}function d(e){var a=$(e.target).closest("tr"),t=a.find('input[data-attr="quantity"]').val(),d=a.data("service_price"),r=e.target.value,c=Number(d*t*(100-r)/100);a.find('input[data-attr="price"]').val(c).change(),i()}function r(e){var a=e.target.value,t=$(e.target).closest("tr"),d=t.data("service_price"),r=t.find('input[data-attr="discount"]').val(),c=Number(d*a*(100-r)/100);e.target.defaultValue=a,t.find('input[data-attr="price"]').val(c).change(),i()}function i(){var e=0;$("#js-med-card-tab-services").find('input[data-attr="discount"]').filter(function(){var a=($(this).val(),$(this).closest("tr")),t=a.find('input[data-attr="price"]').val();a.find('input[data-attr="quantity"]').val();e+=Number(t)}),$("#medcard-price").val(e).change()}$("#js-med-card-add-service").click(function(e){$(e.target).hide(),$(".field-medcard-services .select2").show(),$("#medcard-services").select2("open")}),window.medCardServicesSelectEvent=function(a){var t=$("#med_card_services_table"),d=document.getElementById("med_card_services_table").rows.length,r={division_service_id:a.params.data.id,duration:a.params.data.options.duration,name:a.params.data.name,price:a.params.data.options.price,quantity:1,division_service_name:a.params.data.options.service_name,service_price:a.params.data.options.price},c=e(d,r);t.append(c),$(".field-medcard-services .select2").hide(),$("#js-med-card-add-service").show(),$("#med_card_services_tabbed_table").show(),$("#js-med-card-tab-services .control-label").hide(),i()},window.medCardServicesCloseEvent=function(e){document.getElementById("med_card_services_table").rows.length>=1&&($(".field-medcard-services .select2").hide(),$("#js-med-card-add-service").show())},window.renderMedCardServices=function(a){if(a&&a.length>0){var t=$("#med_card_services_table"),d=$("#med_card_services_tabbed_table");$.each(a,function(a,d){t.append(e(a,d))}),d.show(),$(".field-medcard-services .select2").hide(),$("#js-med-card-add-service").show(),i()}}});
"use strict";$(function(){$(".js-pay-debt-button").on("click",showDebtPaymentModal)}),window.toggleBalanceButton=function(t){t<0?$(".js-pay-debt-button").show():$(".js-pay-debt-button").hide(),t>0?$("#js-order-use-deposit-button").show():$("#js-order-use-deposit-button").hide()},window.showDebtPaymentModal=function(t){t.preventDefault();var o=$(this).attr("href"),e=$(this).data("company-customer"),n=$(this).data("debt"),a=$(this).data("reload");bootbox.prompt({title:"Погашение долга (Общий долг: "+n+")",inputType:"number",callback:function(t){t?$.get(o,{id:e,amount:t}).done(function(t){void 0!==a?window.location.reload():loadCustomer(e),$.jGrowl("Долг погашен",{group:"flash_notice"})}).fail(function(t){$.jGrowl(t.responseJSON.message,{group:"flash_alert"})}):$.jGrowl("Погашения долга отменено",{group:"flash_alert"})}})};
"use strict";function linebreak(n){return n.replace(two_line,"<p></p>").replace(one_line,"<br>")}function capitalize(n){return n.replace(first_char,function(n){return n.toUpperCase()})}function startRecognition(n){init_transcript=n.val(),recognition.onresult=function(i){for(var o="",t=0;t<i.results.length;++t)o+=i.results[t][0].transcript;n.val(init_transcript+" "+o)},recognizing=!0,recognition.start()}function stopRecognition(){$.jGrowl("Диктование текста завершено",{group:"flash_notice"}),recognizing=!1,recognition.stop()}var recognizing=!1,init_transcript="",target=void 0,recognition=void 0;"webkitSpeechRecognition"in window?(recognition=new webkitSpeechRecognition,recognition.continuous=!0,recognition.interimResults=!0,recognition.lang="ru-RU",recognition.onend=function(){recognizing&&(console.log("Внимение! Идет перезагрузка диктовки! Пожалуйста, остановите диктование текста."),$.jGrowl("Внимение! Идет перезагрузка диктовки! Пожалуйста, остановите диктование текста.",{group:"flash_alert"}),init_transcript=target.val(),recognition.start())},recognition.onerror=function(n){console.log(n.error),recognizing=!1,n.error,n.error,n.error}):(console.log("not working"),$(".js-voice-recognition").hide());var two_line=/\n\n/g,one_line=/\n/g,first_char=/\S/;$(".js-voice-recognition").bind("click",function(n){if(n.preventDefault(),recognizing)$(".js-voice-recognition").show(),$(this).text("Диктовать"),recognizing=!1,stopRecognition();else{$(".js-voice-recognition").hide(),$(this).text("Остановить диктование"),$(this).show();var i=$(this).data("target");target=$("#"+i),startRecognition(target)}});
"use strict";$(function(){$(".js-image-field").on("change",function(e){var i=$(this).parents(".js-image-field-wrapper");i.hide();var n=i.siblings(".chosen_photo");n.removeClass("hidden"),n.find(".photo_name").html(" "+$(e.target).val())}),$(".chosen_photo a").on("click",function(e){$(".js-image-field").trigger("click")})});
"use strict";function refreshComments(e,t){$.each(completeInputs,function(a,n){void 0!==completeInputs[a]&&$.getJSON(commentsUrl,{"access-token":t,category_id:a,diagnosis_id:e}).done(function(e){completeInputs[a].destroy(),completeInputs[a]=getAwesomeplete("#js-order_comment_"+a,e.map(function(e){return e.comment}))})})}function loadProducts(e,t){t=t||null,t?($.each(t,function(e,t){renderProduct(t),addPayments(t.price*t.quantity)}),calcProductsTotal()):$.get(serviceProductsUrl,{id:e}).done(function(e){e.results&&($.each(e.results,function(e,t){renderProduct(t),addPayments(t.price*t.quantity)}),calcProductsTotal())}).fail(function(){alertMessage("Произошла ошибка")})}function setupCompleteInput(e,t){$.getJSON(commentsUrl,{"access-token":t,category_id:e}).done(function(t){var a=t.map(function(e){return e.comment});completeInputs[e]=getAwesomeplete("#js-order_comment_"+e,a),$("#js-order_comment_"+e).on("focus",function(){completeInputs[e].minChars=0,completeInputs[e].evaluate(),completeInputs[e].open()})})}function getAwesomeplete(e,t){return new Awesomplete(e,{list:t,filter:function(e,t){return t=t.match(/[^: ]*$/)[0],Awesomplete.FILTER_STARTSWITH(e,t.match(/[^;]*$/)[0])},item:function(e,t){return Awesomplete.ITEM(e,t.match(/[^; ]*$/)[0])},replace:function(e){var t=this.input.value.match(/^(.*?):/),a=this.input.value.match(/[^:]*$/)[0].trim();a=a.match(/^.+;\s*|/)[0],t&&(a=t[0]+" "+a),this.input.value=a+e+"; "},sort:function(e,t){return e.toUpperCase()==t.toUpperCase?0:e.toUpperCase()<t.toUpperCase()?-1:1}})}function deleteEmptyRow(e){e.getElementsByTagName("table")[0].getElementsByTagName("tbody")[0].children[0].remove()}function makeProductTextCell(e,t){var a=document.createElement("td");return a.className=e,void 0!==t&&a.appendChild(document.createTextNode(t)),a}function makeProductCell(e,t,a,n,r){var c=document.createElement("td");c.className=e;var i=makeProductInput(t,a,n,r);return c.appendChild(i),c}function makeProductInput(e,t,a,n){var r=document.createElement("input");return r.type=e,r.required=!0,r.value=t||"",r.defaultValue=t||"",r.name=n||"","function"==typeof a&&a(r),r}function initializeProductAutocomplete(e){$(e).autocomplete({source:function(e,t){jQuery.get("../warehouse/product/search",{search:e.term},function(e){t(e.results)})},minLength:1,select:function(t,a){$(e).autocomplete("disable"),selectTimetableProduct(t,a.item)}}).autocomplete("instance")._renderItem=function(e,t){return $("<li class='ui-menu-item'>").append("<a>"+t.text+"</a>").appendTo(e)}}function updateProductPrice(e){var t=$(this).closest("tr").find(".product-quantity > input").val();reducePayments(this.defaultValue*t),this.defaultValue=this.value,addPayments(this.value*t),calcProductsTotal()}function updateProductQuantity(e){var t=$(e.target),a=t.closest(".data_table"),n=(a.attr("data-index"),t.closest("tr")),r=(n.index(),n.find(".product-stock-level").text()),c=n.find(".product-price > input").val();reducePayments(this.defaultValue*c),this.defaultValue=this.value,addPayments(this.value*c),$.isNumeric(r)&&this.value>Number(r)?(t.popover({placement:"left",content:"Недостаточно товара на складе",trigger:"manual"}),t.popover("show")):t.popover("destroy"),calcProductsTotal()}function selectTimetableProduct(e,t){var a=$(e.target).closest("tr");a.find(".ui-autocomplete-input").remove(),a.find(".product_id-input").val(t.id),a.find(".product-name").append(t.text),a.find(".product-unit").text(t.unit),a.find(".product-price input").val(t.price).change(),a.find(".product-stock-level").text(t.stock_level)}function serviceDiscountChanged(e){var t=e.target.value,a=e.target.defaultValue,n=$(this).closest("td").next("td").find('input[data-attr="price"]').val(),r=Number(n*(100-a)/100),c=Number(n*(100-t)/100);reducePayments(r),addPayments(c),e.target.defaultValue=t,calcServiceTotal()}function servicePriceChanged(e){var t=e.target.value,a=e.target.defaultValue,n=$(this).closest("td").prev("td").find('input[data-attr="discount"]').val(),r=Number(a*(100-n)/100),c=Number(t*(100-n)/100);reducePayments(r),addPayments(c),e.target.defaultValue=t,calcServiceTotal()}function serviceQuantityChanged(e){var t=e.target.value,a=$(e.target).closest("tr"),n=a.data("service_price"),r=(a.find('input[data-attr="discount"]').val(),Number(n*t));e.target.defaultValue=t,a.find('input[data-attr="price"]').val(r).change(),calcServiceTotal()}function calcServiceTotal(){var e=0;$('input[data-attr="discount"]').filter(function(){var t=$(this).val(),a=$(this).closest("tr"),n=a.find('input[data-attr="price"]').val();e+=Number(n*(100-t)/100)}),$("#order-price").val(e).change()}function reducePayments(e){$(".order_payment_item").each(function(){var t=$(this).val();t<e?($(this).val(Math.max(0,t-e)),e-=t):($(this).val(t-e),e=0)}),$(".order_payment_item").change()}function addPayments(e){var t=$(".order_payment_item:first");t.val(e+parseInt(t.val())),t.change()}function calcProductsTotal(){var e=0;$.each($("#products").find(".products-table").find(".product-row"),function(t,a){var n=$(a).find(".product-price > input").val(),r=$(a).find(".product-quantity > input").val();e+=Number(n*r)}),$("#order-productsprice").val(e).change()}function calcTotal(){var e=$("#order-price").val(),t=$("#order-productsprice").val(),a=Number(e)+Number(t);$("#order-total-price").val(Math.round(a))}function removeService(e){e.preventDefault();var t=document.getElementById("servicesTable").rows.length,a=$(e.target).closest("tr"),n=a.index(),r=a.find("input[data-attr=price]").val(),c=a.find("input[data-attr=discount]").val();a.remove(),calcServiceTotal(),1==t?($("#tabbedTable").hide(),$("#js-add-service").hide(),$("#order-division_service_id").val("").change(),$(".field-order-division_service_id .select2").show()):updateServiceIndexes(n),reducePayments(Number(r*(100-c)/100))}function renderService(e,t){var a=void 0===t.discount?orderDiscount:t.discount,n=$("<tr></tr>");n.data("service_price",t.service_price);var r='<td class="order-service-column_name">'+t.service_name+"</td>",c=$('<input type="number" name="Order[services]['+e+'][quantity]" value="'+t.quantity+'" class="order-service-input form-control" data-key="'+e+'" data-attr="quantity">'),i=$('<input type="number" name="Order[services]['+e+'][duration]" value="'+t.duration+'" class="order-service-input form-control" data-key="'+e+'" data-attr="duration">'),o=$('<input type="hidden" name="Order[services]['+e+'][division_service_id]" class="order-service-input" value="'+t.id+'" data-key="'+e+'" data-attr="division_service_id">'),d=$('<input type="hidden" name="Order[services]['+e+'][order_service_id]" class="order-service-input" value="'+t.order_service_id+'" data-key="'+e+'" data-attr="order_service_id">'),s=$('<input type="number" name="Order[services]['+e+'][discount]" value="'+a+'" class="order-service-input form-control" data-key="'+e+'" data-attr="discount">'),u=$('<input type="number" name="Order[services]['+e+'][price]" value="'+t.price+'" class="order-service-input order-service-input_price form-control" data-key="'+e+'" data-attr="price">'),l=$('<a class="js-remove-service css-remove-service" href="#"><i class="icon sprite-delete"></i></a>');return l.click(removeService),s.bind("change keyup paste",serviceDiscountChanged),u.bind("change keyup paste",servicePriceChanged),c.bind("change keyup paste",serviceQuantityChanged),addPayments(t.price*(100-a)/100),n.append(r),n.append($("<td></td>").append("кол-во ").append(c)),n.append($("<td></td>").append("мин ").append(i)),n.append($("<td></td>").append(o).append(d).append("скидка: ").append(s).append(" %")),n.append($("<td></td>").append("цена: ").append(u).append("〒")),n.append($("<td></td>").append(l)),n}function renderServices(e){if(e&&e.length>0){var t=$("#servicesTable");t.empty();var a=$("#tabbedTable");$.each(e,function(e,a){var n=renderService(e,a);t.append(n)}),a.show(),$(".field-order-division_service_id .select2").hide(),$("#js-add-service").show()}}function renderContacts(e){if(e&&e.length>0){var t=$("#order-contacts");$.each(e,function(e,a){addContact(e,a,t)})}}function addContact(e,t,a){var n='<div class="row">    <input type="hidden" id="order_contact_id_'+e+'" class="form-control"           name="Order[contacts]['+e+'][id]" value="'+t.id+'">    <div class="col-md-6">        <input type="text" id="order_contact_name_'+e+'" class="form-control"               name="Order[contacts]['+e+'][name]" autocomplete="off" value="'+t.name+'">        <p class="help-block help-block-error"></p>    </div>    <div class="col-md-5">        <input type="text" id="order_contact_phone_'+e+'" class="form-control"               name="Order[contacts]['+e+'][phone]" autocomplete="off"  value="'+t.phone+'">        <p class="help-block help-block-error"></p>    </div>    <div class="col-md-1">        <button type="button" class="btn btn-danger pull-right js-delete-contact">&ndash;</button>    </div>';a.append(n),initializeContactsAutocomplete("#order_contact_name_"+e,e,selectCustomerContact),initializeContactsAutocomplete("#order_contact_phone_"+e,e,selectCustomerContact),$("#order_contact_phone_"+e).inputmask({mask:"+7 999 999 99 99"}),$(".js-delete-contact").on("click",function(){$(this).closest(".row").remove()})}function selectCustomerContact(e,t){$("#order_contact_id_"+t).val(e.item.id),$("#order_contact_name_"+t).val(e.item.name),$("#order_contact_phone_"+t).val(e.item.phone)}function initializeContactsAutocomplete(e,t,a){var n=$(""+e);n.length&&(n.autocomplete({source:searchUrl,minLength:1,select:function(e,n){return a(n,t),!1}}).autocomplete("instance")._renderItem=function(e,t){return $("<li>").append("<p style='padding: 6px 12px'>"+t.name+" "+t.lastname+" "+t.phone+" </p>").appendTo(e)})}function updateServiceIndexes(e){$(".order-service-input").filter(function(){var t=$(this).attr("data-key");if(t>e){var a=t-1,n="Order[services]["+a+"]["+$(this).attr("data-attr")+"]";return $(this).attr("name",n),$(this).attr("data-key",a),!0}return!1})}function PaymentList(e,t){this.payments=t,this.total=0,this.eventStatus=e.status}function renderPayments(e){var t=e.division_id||$("#timetable-division_id").val(),a=JSON.parse(JSON.stringify($("#timetable-division_id option[value="+t+"]").data("payments")));paymentList=new PaymentList(e,a),$.each(e.payments,function(e,t){var a=paymentList.getPayment(t.payment_id);void 0!==a&&(a.amount=t.amount)}),$("#payments").append(paymentList.render()),paymentList.addAmountListener(),paymentList.calculateTotal(),$("#js-order-pay-debt-button").on("click",showDebtPaymentModal),$("#js-order-use-deposit-button").on("click",useDepositInTotalPrice)}function useDepositInTotalPrice(){var e=$(".payment-deposit").text();$(".order_payment_item").each(function(){var t=$(this).val(),a=Math.min(e,t);e-=a,t-=a,$(this).val(t)});var t=$(".payment-debt").text(),a=Math.min(e,t);e-=a,t-=a,$(".payment-debt").text(t),$(".payment-deposit").text(e),$(this).text("Депозит использован")}function renderProducts(e){e&&e.length>0&&($.each(e,function(e,t){renderProduct(t)}),calcProductsTotal())}function renderProduct(e){var t=document.createElement("tr");t.className="product-row";var a=e?e.product_id:null,n=e?e.quantity:1,r=(e&&e.purchase_price,e?e.price+"":0),c=e?e.unit:"",i=e?e.stock_level:"",o=null;o=e?makeProductTextCell("autocomplete-input-cell product-name",e.name):makeProductCell("autocomplete-input-cell product-name","text","",initializeProductAutocomplete);var d=makeProductInput("hidden",a,null,"Order[products]["+productCounter+"][product_id]");d.className="product_id-input",o.appendChild(d),t.appendChild(o),o=makeProductTextCell("product-unit",c),t.appendChild(o),o=makeProductCell("product-price","number",r,null,"Order[products]["+productCounter+"][price]"),t.appendChild(o),o=makeProductCell("product-quantity error-popover","number",n,null,"Order[products]["+productCounter+"][quantity]"),t.appendChild(o),o=makeProductTextCell("product-stock-level",i),t.appendChild(o),o=makeProductTextCell("delete-item-cell");var s=document.createElement("a");s.addEventListener("click",deleteProduct);var u=document.createElement("i");u.className="icon sprite-delete",s.appendChild(u),o.appendChild(s),t.appendChild(o),$(".products-table").find("table").append(t),productCounter++}function addProduct(e){renderProduct(),calcProductsTotal()}function deleteProduct(e){var t=$(e.target).closest("tr");reducePayments(t.find(".product-quantity > input").val()*t.find(".product-price > input").val()),t.remove()}window.orderDiscount=0;var paymentList=null,serviceProductsUrl="/division/service/formula",commentsUrl=api_host+"/v2/comment/default/index",completeInputs=[],productCounter=0;$(".tabs>.tabs-tab").click(function(e){e.preventDefault();var t=$(e.target);if(t.hasClass("active"))return!1;t.hasClass("tabs-tab")||(t=t.closest(".tabs-tab")),$(".tabs>.tabs-tab").removeClass("active"),t.addClass("active");var a=t.attr("data-target");$("#services, #products, #payments").hide(),$("#"+a).show()}),$("#order-productsprice").on("change paste keyup",function(){calcTotal(),$(".order_payment_item").change()});var searchUrl="/timetable/search";$("#js-add-contact").on("click",function(){var e=$("#order-contacts");addContact(e.find(".row").length+1,{id:"",name:"",phone:""},e)}),$("#js-add-service").click(function(e){$(e.target).hide(),$(".field-order-division_service_id .select2").show(),$("#order-division_service_id").select2("open")});var PAYMENT_TYPE_CASHBACK=3;PaymentList.prototype.render=function(){var e="<table><tbody>";$.each(this.payments,function(t,a){var n=a.amount||0,r=a.type==PAYMENT_TYPE_CASHBACK,c=2;r&&(c=1),e+="<tr>",e+='<td><label for="order_payment_'+a.id+'">'+a.name+"</label></td>",e+='<td colspan="'+c+'" >',r&&(e+='<span class="payment-cashback">'+n+'</span><div class="payment_cashback_input" style="display: none">'),e+='<input name="Order[payments]['+a.id+'][payment_id]" type="hidden" value="'+a.id+'">',e+='<input name="Order[payments]['+a.id+'][amount]" type="text" value="'+n+'" id="order_payment_'+a.id+'" \n                class="order_payment_item">',r&&(e+="<div>"),e+="</td>",r&&(e+='<td><a class="btn btn-default" id="js-order-use-cashback-button" style="'+(n<=0?"display:none":"")+'">Использовать кэшбэк</a></td>'),e+="</tr>"});e+='<tr><td><label>Депозит</label></td><td class="payment-deposit"></td><td><a class="btn btn-default" id="js-order-use-deposit-button">Использовать депозит</a></td></tr>';return e+='<tr><td><label>Долг</label></td><td class="payment-debt"></td><td><a class="btn btn-default js-pay-debt-button" id="js-order-pay-debt-button" href="/customer/customer/pay-debt" data-company-customer="0">Оплатить долг</a></td></tr>',e+="</tbody></table>"},PaymentList.prototype.addAmountListener=function(){var e=this;$(".order_payment_item").on("change paste keyup",function(t){var a=$(this).closest("tr").find("input[type=hidden]").val();e.getPayment(a).amount=$(this).val(),e.calculateTotal()})},PaymentList.prototype.getPayment=function(e){var t=this.payments.filter(function(t){return t.id==e});return t?t[0]:null},PaymentList.prototype.calculateTotal=function(){var e=0;$.each(this.payments,function(t,a){var n=a.amount||0;e+=Number(n)}),this.total=e,$("#order-paid").val(this.total);var t=$("#payments").data("balance");this.calculateBalance(t)},PaymentList.prototype.calculateBalance=function(e){var t=0,a=0,n=$("#order-total-price").val();e<0?a=Math.abs(e):t=Math.abs(e),0!=this.eventStatus&&void 0!=this.eventStatus||(this.total>n?t+=this.total-n:this.total<n&&(a+=n-this.total)),$(".payment-deposit").text(t),$(".payment-debt").text(a)},$("#payments").on("click","#js-order-use-cashback-button",function(e){var t=$("#payments").find(".payment-cashback").text();$(".payment_cashback_input .order_payment_item").val(t),$(".order_payment_item").each(function(){var e=$(this).val(),a=Math.min(t,e);t-=a,e-=a,$(this).val(e)}),$("#payments").find(".payment-cashback").hide(),$(this).hide(),$(".payment_cashback_input").show()}),$(".js-new-referrer").click(function(e){e.preventDefault();var t=$(this).attr("href");bootbox.prompt("Добавить направление",function(e){e&&$.post(t,{name:e}).done(function(e){addOption("order-referrer_id",e),$("#order-referrer_id").trigger("change")}).fail(function(e){alertMessage("Произошла ошибка")})})}),$("#products").find(".js-add-product").click(addProduct),$("#products").on("change",".product-price > input",updateProductPrice),$("#products").on("change",".product-quantity > input",updateProductQuantity);
"use strict";function Product(t){this.data=t}function initSelect2Loading(t,e){initS2Loading(t,e),$("span.select2.select2-container").addClass("input-sm"),initS2SelectHandler(t)}function initSelect2DropStyle(t,e,o){initS2Open(t,e,o)}function initS2SelectHandler(t){$("#"+t).on("select2:select",function(t){selectWarehouseProduct(t)})}function selectWarehouseProduct(t){var e=t.params.data,o=$(t.target).closest("tr"),n=o.find(".product-quantity").val(),a=o.find(".product-discount").val();""===n&&(n=0),""===a&&(a=0),e.quantity=n,e.discount=a;var c=$(t.target).attr("id"),r=getProductKey(c);products[r]=new Product(e),fillCells(o,e),calcWarehouseTotal()}function fillCells(t,e){t.find(".product-unit").text(e.unit),t.find(".product-price").val(e.price).change(),t.find(".product-discount").val(e.discount).change(),t.find(".product-cost").text(getProductCost(e.price,e.quantity,e.discount)),t.find(".product-stock-level").text(e.stock_level)}function calcWarehouseTotal(){var t=0,e=0,o=0;$.each(products,function(n,a){var c=0,r=void 0!==a.data?a.data:a,i=getProductCost(r.price,r.quantity,r.discount);$.isNumeric(r.vat)&&0!==r.vat&&(c=+(i/r.vat).toFixed(2)),t+=i,o+=c,e+=i-c}),$(".products-total").text(t),$(".sale-subtotal").text(e),$(".sale-tax").text(o),$("#sale-paid").val(t)}function getProductKey(t){var e=t.indexOf("-");return t.substr(e+1).replace("-product_id","")}function getProductCost(t,e,o){return Math.round((o?(100-o)/100:1)*+e*+t)}var products=[];$(function(){function t(t){var e=void 0;e="customer"==t?function(){var t=function(){bootbox.hideAll()};return a.submit(t),!1}:"companycontractor"==t?function(){var t=function(t,e){bootbox.hideAll(),o("delivery-contractor_id",t,e),$("#delivery-contractor_id").trigger("change")};return a.submit(t),!1}:function(){var t=function(t,e){bootbox.hideAll(),o("product-"+a.className+"_id",t,e)};return a.submit(t),!1},a.dialogButtons.success.callback=e}function e(e,o,n){$.get(o).done(function(o){a.className=e,t(e),dialogMessage(o,a.dialogButtons,n)}).fail(function(){alertMessage("Произошла ошибка")})}function o(t,e,o){var n=$("#"+t);n.append($("<option></option>").attr("value",e).text(o)),n.val(e)}function n(t,e){var o=$(t.target).closest("tr").find("select").attr("id"),n=getProductKey(o);products[n].data[e]=$(t.target).val();var a=getProductCost(products[n].data.price,products[n].data.quantity,products[n].data.discount);$(t.target).closest("tr").find(".product-cost").text(a),calcWarehouseTotal()}var a={className:null,dialogButtons:{success:{label:"Сохранить",className:"btn-primary"},danger:{label:"Отмена",className:"btn-default"}},submit:function(t){var e=$("#"+a.className+"-form"),o=e.attr("action");$.post(o,e.serialize()).done(function(e){e=JSON.parse(e),e.errors&&a.setErrors(e.errors),"success"==e.status&&(e.data?t(e.data.id,e.data.name):t())}).fail(function(){alertMessage("Произошла ошибка")})},setErrors:function(t){$.each(t,function(t,e){var o=$(".field-"+a.className+"-"+t);o.addClass("has-error"),o.find(".help-block").text(e[0])})}};$(".stock_new_entity_link").click(function(t){t.preventDefault();var o=$(t.target).attr("href");e($(t.target).data("model"),o,$(t.target).data("title"))}),$(".product-quantity").change(function(t){n(t,"quantity");var e=$(event.target),o=e.closest("tr").find(".product-stock-level").text();$.isNumeric(o)&&e.val()>Number(o)?(e.popover({placement:"left",content:"Недостаточно товара на складе",trigger:"manual"}),e.popover("show")):e.popover("destroy")}),$(".product-price").change(function(t){n(t,"price")}),$(".product-discount").change(function(t){n(t,"discount")}),$(".dynamicform_wrapper_products").on("afterInsert",function(t,e){$(e).find(".product-quantity").val(1),$(e).find(".product-discount").val(0),$(e).find(".product-quantity").change(function(t){n(t,"quantity")}),$(e).find(".product-price").change(function(t){n(t,"price")}),$(e).find(".product-discount").change(function(t){n(t,"discount")})}),$(".dynamicform_wrapper_products").on("beforeDelete",function(t,e){var o=$(e).find("select").attr("id"),n=getProductKey(o);products.splice(n,1)}),$(".dynamicform_wrapper_products").on("afterDelete",function(t,e){calcWarehouseTotal()}),function(){var t=$("#model-products").data("products");$.each(t,function(t,e){products[t]=new Product(e)})}()});
"use strict";var moveSourcesUrl="/customer/source/move";$(".js-course-move").on("click",function(){var o=$(this).data("source");bootbox.prompt({title:"Перенести клиентов в",inputType:"select",inputOptions:sourcesList,callback:function(t){$.get(moveSourcesUrl,{source:o,destination:t}).done(function(o){$.jGrowl(o.updated+" клиент(а/ов) перенесено",{group:"flash_notice"}),location.reload()}).fail(function(){$.jGrowl("Ошибка переноса клиентов",{group:"flash_alert"})})}})});
"use strict";$(document).ready(function(){var e=$(".product-index"),t=!1,o=function(e){var t=$(".js-selected");e?t.removeClass("disabled"):t.addClass("disabled")};$(e).on("change","input[type=checkbox]",function(e){var t=$("#products").yiiGridView("getSelectedRows");o(t.length>0)});var c=void 0;e.on("click",".js-selected",function(){t=!1,c=$("#products").yiiGridView("getSelectedRows")});var d=function(e){var t={products:e};$.post(n,t,function(e){$("#products-container").addClass("loading"),location.reload()})};e.on("click",".js-button-delete:not(.disabled)",function(){!0===confirm("Вы уверены что хотите удалить данные товары?")&&c&&d(c)});var n="batch-delete"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YWZmLmpzIiwic2l0ZS5qcyIsImZpbGUuanMiLCJtZWRleGFtLmpzIiwidGFibGVIZWFkRml4ZXIuanMiLCJzY2hlZHVsZS5qcyIsInRpbWV0YWJsZS5qcyIsImNsaWVudC5qcyIsImN1c3RvbWVyLmpzIiwiY3VzdG9tZXItbG95YWx0eS5qcyIsIm9yZGVyLmpzIiwiaW1wb3J0LmpzIiwibWVkLWNhcmQtc2VydmljZXMuanMiLCJjdXN0b21lci1kZWJ0LmpzIiwidm9pY2UtcmVjb2duaXRpb24uanMiLCJpbWFnZV91cGxvYWQuanMiLCJ0aW1ldGFibGUtdXNhZ2UuanMiLCJ3YXJlaG91c2UuanMiLCJzb3VyY2UuanMiLCJwcm9kdWN0LmpzIl0sIm5hbWVzIjpbImxvYWRFcnJvciIsImUiLCJkYXRhIiwiZXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwibWVzc2FnZSIsImRldGFpbHMiLCJwcmVzZWxlY3RTdGFmZlBlcm1pc3Npb25zVHJlZSIsInNlbGVjdGlvbiIsImpRdWVyeSIsIm1hcCIsImZhbmN5dHJlZSIsInRyZWUiLCJnZXRTZWxlY3RlZE5vZGVzIiwibm9kZSIsImtleSIsIiQiLCJ2YWwiLCJKU09OIiwic3RyaW5naWZ5IiwicHJlc2VsZWN0U3RhZmZTZXJ2aWNlVHJlZSIsImlzTnVtZXJpYyIsImluaXRDb2xvclBpY2tlciIsInRyaWdnZXIiLCJvbiIsInRoaXMiLCJjaGVja2VkIiwiZmFkZUluIiwibGVuZ3RoIiwiZmFkZU91dCIsImNoYW5nZSIsInN1Ym1pdCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImtleUNvZGUiLCJjYXBpdGFsaXplIiwiYWRkTmV3UG9zaXRpb24iLCJ2YWx1ZSIsInByb21wdCIsInBvc3QiLCJuYW1lIiwic3VjY2VzcyIsInNlbGVjdCIsImF0dHIiLCJ0ZXh0IiwiaWQiLCJhcHBlbmRUbyIsImNvbnNvbGUiLCJsb2ciLCJhZGRfaG91cnNfdG9faG92ZXJlZF9zbG90cyIsInZpZXciLCJjb2x1bW5fd2lkdGgiLCJnZXRfY29sdW1uX3dpZHRoIiwic2xhdHMiLCJheGlzX3dpZHRoIiwiZmluZCIsIm91dGVyV2lkdGgiLCJhIiwib2Zmc2V0IiwibGVmdCIsInJlbW92ZSIsInVuYmluZCIsImYiLCJiIiwiTWF0aCIsIm1heCIsImZsb29yIiwicGFnZVgiLCJ0aW1lIiwicGFyZW50Iiwic3Vic3RyaW5nIiwiaHRtbCIsImFsZXJ0TWVzc2FnZSIsImNhbGxiYWNrIiwiYm9vdGJveCIsImFsZXJ0IiwiZGlhbG9nTWVzc2FnZSIsImJ1dHRvbnMiLCJ0aXRsZSIsImluaXREaWFsb2ciLCJkaWFsb2ciLCJjb25maXJtTWVzc2FnZSIsImNvbmZpcm0iLCJpbml0Iiwic2VsZWN0b3IiLCJjb2xvclNlbGVjdCIsInNpbXBsZWNvbG9ycGlja2VyIiwicGlja2VyIiwicHJvcCIsImVhY2giLCJpdGVtIiwiaW5pdGlhbGl6ZVRyZWUiLCJzb3VyY2UiLCJvcHRzIiwiY2hlY2tib3giLCJpY29uIiwiZXhwYW5kZWQiLCJzZWxlY3RNb2RlIiwic3RyaW5ncyIsImxvYWRpbmciLCJtb3JlRGF0YSIsIm5vRGF0YSIsInByaW50RWxlbSIsImVsZW0iLCJteXdpbmRvdyIsIndpbmRvdyIsIm9wZW4iLCJkb2N1bWVudCIsIndyaXRlIiwicHJpbnQiLCJjbG9zZSIsImFkZE9wdGlvbiIsInNlbGVjdElkIiwib2JqZWN0IiwiYXBwZW5kIiwidXBkYXRlUXVlcnlTdHJpbmdQYXJhbWV0ZXIiLCJ1cmkiLCJyZSIsIlJlZ0V4cCIsInNlcGFyYXRvciIsIm1hdGNoIiwicmVwbGFjZSIsIk1vZGFsRm9ybSIsImNsYXNzbmFtZSIsImNsaWNrIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY3NzIiwicXRpcCIsInN0eWxlIiwidG9vbHRpcCIsInRhcmdldCIsImFqYXhTdGFydCIsInNob3ciLCJhamF4U3RvcCIsImhpZGUiLCJlbGVtZW50IiwibG9jYXRpb24iLCJocmVmIiwiZGl2aXNpb25Db250ZW50IiwiYWRkSXRlbUJ0biIsInJlbW92ZUl0ZW0iLCJ0YXJnZXRJRCIsImNsb25lIiwidGFyZ2V0RWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJjbG9zZXN0IiwiY2xvbmVFbGVtZW50IiwibGFzdEVsZW1lbnQiLCJsYXN0RWxlbWVudElEIiwibmV3SUQiLCJOdW1iZXIiLCJidXR0b24iLCJpbnB1dG1hc2siLCJjbGVhckluY29tcGxldGUiLCJwcm90b3R5cGUiLCJmb3JtIiwidXJsIiwic2VsZiIsInNlcmlhbGl6ZSIsImRvbmUiLCJyZXNwb25zZSIsInBhcnNlIiwiZXJyb3JzIiwic2V0RXJyb3JzIiwiZmFpbCIsImVkaXRDYXRlZ29yaWVzQnRuIiwiYWRkQ2F0ZWdvcnlCdG4iLCJkaWFsb2dCdXR0b25zIiwibGFiZWwiLCJjbGFzc05hbWUiLCJtb2RhbEZvcm0iLCJoaWRlQWxsIiwiU0VSVklDRSIsInJlZnJlc2hUcmVlIiwiZGFuZ2VyIiwiYWRkQnV0dG9uc0xpc3RlbmVycyIsImVkaXRDYXRlZ29yeUJ0biIsImRlbGV0ZUNhdGVnb3J5QnRuIiwiZWRpdENhdGVnb3J5IiwiY29uZmlybURlbGV0ZSIsImRlbGV0ZUNhdGVnb3J5IiwiZ2V0IiwibG9hZFRyZWUiLCJtb2RpZnlTaWRlbmF2Iiwic2hvd1NpZGVuYXZCdXR0b25zIiwiY29udGVudCIsInNpZGVuYXYiLCJyZXBsYWNlV2l0aCIsInByZXZlbnREZWZhdWx0IiwibW9kYWwiLCJyZXN1bHQiLCJkYXRhVHlwZSIsImpHcm93bCIsImdyb3VwIiwiZXJyIiwiYWRkTG9jYWxlIiwiT0siLCJDQU5DRUwiLCJDT05GSVJNIiwic2V0RGVmYXVsdHMiLCJsb2NhbGUiLCJmb3JtYXRSZXBvU2VsZWN0aW9uIiwiaW5uZXJIVE1MIiwiZm4iLCJzcGxpdCIsImkiLCJsZW4iLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiam9pbiIsInJlbmRlckZpbGVzIiwiZmlsZXMiLCJmb3JFYWNoIiwicmVuZGVyRmlsZSIsImZpbGUiLCJwYXRoIiwiZGVjb2RlVVJJIiwiZmlsZW5hbWUiLCJzcmMiLCJhZGRGaWxlTGlzdGVuZXIiLCJfdGhpcyIsImRlbGV0ZUZpbGUiLCJhZGRGaWxlc0xpc3RlbmVyIiwiY2xlYXJGaWxlcyIsImZpbGVpbnB1dCIsInJlbmRlclZpc2l0IiwidmlzaXQiLCJidXR0b25MYWJlbCIsImlzTWVkQ2FyZENyZWF0ZWQiLCJtb21lbnQiLCJkYXRldGltZSIsImZvcm1hdCIsInN0YWZmX3Bvc2l0aW9uIiwic3RhZmYiLCJmdWxsbmFtZSIsImZpbmRQcmV2aW91c0NyZWF0ZWRNZWRFeGFtIiwidmlzaXRzIiwiZmlsdGVyIiwicmVkdWNlIiwicHJldkl0ZW0iLCJjdXJJdGVtIiwidW5kZWZpbmVkIiwiYWRkRXhhbUxpc3RlbmVycyIsInZpc2l0X2lkIiwiY3VycmVudFZpc2l0IiwidGFicyIsInRlZXRoIiwiY2hpbGRUZWV0aCIsIm1lZENhcmQiLCJ0YWIiLCJmbGF0IiwidG9GbGF0dGVuIiwiY29uY2F0Iiwic2F2ZWRUZWV0aCIsInRvb3RoIiwidGVldGhfbnVtIiwicHJldmlvdXNWaXNpdCIsInNlbGVjdFRlZXRoIiwiZW5hYmxlQ2hpbGRUZWV0aCIsInJlbmRlclRhYnMiLCJjbG9zZU1lZGNhcmQiLCJ1bnNlbGVjdFRlZXRoIiwiZ2V0UHJpbnRUZWV0aFNlY3Rpb24iLCJzdGFydCIsImVuZCIsInJpZ2h0Iiwib3V0cHV0IiwiY2hpbGRfdGVldGgiLCJnZXRJc0NoaWxkVG9vdGgiLCJpbmQiLCJ0b290aE51bWJlciIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiaXNDaGlsZFRvb3RoIiwiZGlhZ25vc2lzIiwiZGlhZ25vc2lzX2lkIiwiY29sb3IiLCJjb2xvcnMiLCJhYmJyZXZpYXRpb24iLCJnZXRBYmJyZXZpYXRpb24iLCJ0ZXh0QWxpZ24iLCJyZW5kZXJQcmludFRvb3RoIiwidG9vdGhfbnVtYmVyIiwicmFuZ2UiLCJnZXRQcmludEZvb3RlciIsImdldFByaW50U2VydmljZXNTZWN0aW9uIiwic2VydmljZXMiLCJyb3ciLCJkaXZpc2lvbl9zZXJ2aWNlX25hbWUiLCJxdWFudGl0eSIsImRpc2NvdW50IiwicHJpY2UiLCJnZXRQcmludENvbW1lbnRzU2VjdGlvbiIsImJsb2NrcyIsImNvbW1lbnRzIiwiY29tbWVudCIsImNhdGVnb3J5X2lkIiwicmVuZGVyVGFiIiwiYWRkTWVkQ2FyZFRhYkxpc3RlbmVycyIsInB1c2giLCJzZXJ2aWNlIiwiZ2V0SGlzdG9yeVRhYmxlIiwiaGlzdG9yeSIsImlzQXJyYXkiLCJpbmZvIiwic3RhZmZfbmFtZSIsImRpYWdub3Npc19uYW1lIiwic2hvd01lZENhcmRUYWIiLCJoaWRlRm9ybVRlZXRoIiwidGVldGhGb3JtIiwidG9vdGhXcmFwcGVyIiwic2hvd0Zvcm1UZWV0aCIsImNyZWF0ZU1lZENhcmRUYWIiLCJjbG9zZU1lZENhcmRUYWIiLCJlZGl0TWVkQ2FyZFRhYiIsImRlbGV0ZU1lZENhcmRUYWIiLCJkZWxldGVkVGFiIiwic2V0RGlhZ25vc2lzIiwiZGlhZ25vc2VzTGlzdCIsImNvZGUiLCJuZXdPcHRpb24iLCJPcHRpb24iLCJ0YWJfaWQiLCJ0ZWV0aE51bWJlcnMiLCJsb2FkVGVldGgiLCJsb2FkQ29tbWVudHMiLCJyZW5kZXJNZWRDYXJkU2VydmljZXMiLCJ1bnNlbGVjdEZvcm1UZWV0aCIsImNvbGxhcHNlIiwic2V0VG9vdGhDb2xvciIsInNldFRvb3RoVGl0bGUiLCJzZXRUb290aFRhYiIsImRpc2FibGVDaGlsZFRlZXRoIiwicmVzZXQiLCJzZWxlY3RlZFRlZXRoIiwiY29udGFpbmVyIiwiY29tcGFueV9jdXN0b21lcl9pZCIsImFiYnJldmlhdGlvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsImluZGV4IiwibG9hZE1lZENhcmRzIiwiZ2V0SlNPTiIsImFwaV9ob3N0IiwiYWNjZXNzLXRva2VuIiwidXNlcl90b2tlbiIsImV4cGFuZCIsInBhZ2luYXRpb24iLCJjbGVhck1lZENhcmRzIiwiZGl2aXNpb25faWQiLCJwYWdlX2hlYWRlciIsInBob25lIiwiY29tcGFueV9waG9uZSIsImN1c3RvbWVyX3Bob25lIiwiY3VzdG9tZXIiLCJudW1iZXIiLCJyZW1vdmVEYXRhIiwiZGF0YXNldCIsInBvcG92ZXJYIiwic2VhcmNoIiwiaXNOYU4iLCJyZXBsYWNlU3RyIiwiZWwiLCJlbmFibGVkIiwidGFibGVIZWFkRml4ZXIiLCJwYXJhbSIsInRhYmxlIiwic2V0QmFja2dyb3VuZCIsImVsZW1lbnRzIiwiayIsImVsZW1lbnRCYWNrZ3JvdW5kIiwicGFyZW50QmFja2dyb3VuZCIsImJhY2tncm91bmQiLCJzb2x2ZXJMZWZ0Q29sc3BhbiIsImFjdGlvbiIsImZpeENvbHVtbiIsInNldHRpbmdzIiwiaW5jIiwibnRoIiwiY2VsbCIsImNvbHNwYW4iLCJjZWxsUG9zIiwic29sdmVSaWdodENvbHNwYW4iLCJkZWZhdWx0cyIsImhlYWQiLCJmb290Iiwiei1pbmRleCIsImV4dGVuZCIsIm92ZXJmbG93LXgiLCJvdmVyZmxvdy15Iiwic2Nyb2xsIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInRvcCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJsZWZ0Q29sdW1ucyIsInJpZ2h0Q29sdW1ucyIsImJpbmQiLCJ0aGVhZCIsImNlbGxzIiwicG9zaXRpb24iLCJ0Zm9vdCIsImFkZCIsInRyIiwicmVzaXplIiwiY2FsbCIsInNjYW5UYWJsZSIsIiR0YWJsZSIsIm0iLCJjaGlsZHJlbiIsInkiLCJ4IiwidHgiLCJ0eSIsIiRjZWxsIiwiY3NwYW4iLCJyc3BhbiIsInBvcyIsInJlc2NhbiIsImZpcnN0Iiwic2V0U2NoZWR1bGUiLCJtZXRob2QiLCJhamF4IiwidHlwZSIsImhhc19zY2hlZHVsZSIsImJyZWFrX3N0YXJ0IiwiYnJlYWtfZW5kIiwicmVzcG9uc2VKU09OIiwic2V0QnJlYWsiLCJhZGRTY2hlZHVsZSIsInN0YWZmX2lkIiwiZGF0ZSIsImVkaXRTY2hlZHVsZSIsImRlbGV0ZVNjaGVkdWxlIiwiY3VyRWxlbWVudCIsImJ0blNhdmUiLCJoYW5kbGVTYXZlIiwiYnJlYWtfc3RhcnRfaG91ciIsImJyZWFrX3N0YXJ0X21pbnV0ZXMiLCJicmVha19lbmRfaG91ciIsImJyZWFrX2VuZF9taW51dGVzIiwiYnRuRGVsZXRlIiwiaGFuZGxlRGVsZXRlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJhcnIyIiwiZnJvbSIsImNsb3NlUGVuZGluZ01vZGFsV2luZG93Iiwic2hvd1BlbmRpbmdPcmRlciIsImV2ZW50IiwiY3VzdG9tZXJfbmFtZSIsIm5vdGUiLCJyZW5kZXJQZW5kaW5nT3JkZXIiLCJtb2RlbCIsInJlbmRlclBlbmRpbmdPcmRlckNlbGxzIiwic3RhZmZOYW1lIiwiY2FsZW5kYXJFbCIsInRpbWV0YWJsZUNhbGVuZGFyIiwicmVuZGVyT3JkZXJCdXR0b25zIiwibm90IiwiU1RBVFVTX0ZJTklTSEVEIiwiU1RBVFVTX0NBTkNFTEVEIiwic3VibWl0Rm9ybSIsImF0dHJpYnV0ZXMiLCJ5aWlBY3RpdmVGb3JtIiwic2F2ZU9yZGVyIiwiY2hlY2tvdXRPcmRlciIsImV2ZW50X2lkIiwiZXZlbnRDaGVja291dFVybCIsImlnbm9yZV9zdG9jayIsInNob3dCb290Ym94Iiwic2hvd0Vycm9ycyIsImhpZGVBbmRSZXNldEZvcm0iLCJmdWxsQ2FsZW5kYXIiLCJyZXR1cm5PcmRlciIsImV2ZW50UmV0dXJuVXJsIiwiU1RBVFVTX0VOQUJMRUQiLCJlZGl0YWJsZSIsInNldENoZWNrYm94TGlzdGVuZXIiLCJ1c2VySUQiLCJhZGRUaW1ldGFibGVTdGFmZiIsInNlbGVjdGVkVXNlcnNBcnIiLCJyZW1vdmVUaW1ldGFibGVTdGFmZiIsInN0YWZmSUQiLCJkaXZpc2lvbklEIiwicmVuZGVyUmVzb3VyY2UiLCJldmVudENsYXNzTmFtZSIsInJlbW92ZVJlc291cmNlIiwic3BsaWNlIiwic2V0UmFkaW9MaXN0ZW5lciIsInNlbGVjdGVkVXNlcklEIiwiZmV0Y2hPcmRlciIsImF0dHJpYnV0ZSIsInNvdXJjZV9pZCIsInJlbmRlclNlcnZpY2VzIiwicmVuZGVyUHJvZHVjdHMiLCJwcm9kdWN0cyIsInJlbmRlckNvbnRhY3RzIiwiY29udGFjdEN1c3RvbWVycyIsInJlbmRlclBheW1lbnRzIiwicmVuZGVyRG9jdW1lbnRzIiwiZG9jdW1lbnRzIiwiY2FsY1NlcnZpY2VUb3RhbCIsImNhbGNQcm9kdWN0c1RvdGFsIiwiY2FsY1RvdGFsIiwibG9hZEN1c3RvbWVyIiwibG9hZEhpc3RvcnkiLCJsb2FkVmlzaXRzIiwiY2hhbmdlRXZlbnREdXJhdGlvbiIsInJldmVydEZ1bmMiLCJ1cGRhdGVFdmVudER1cmF0aW9uVXJsIiwiZXh0ZW5kQ2FsZW5kYXIiLCJkcm9wQ2FsZW5kYXJFdmVudCIsInJlc291cmNlSWQiLCJ1cGRhdGVFdmVudERyb3BVcmwiLCJ1cGRhdGUiLCJ1cGRhdGVFdmVudFVybCIsImV2ZW50RmluaXNoIiwiZmluaXNoIiwiYWxyZWFkeUluUmFuZ2UiLCJjYWxlbmRhclN0YXJ0RGF0ZSIsImNhbGVuZGFyRW5kRGF0ZSIsIm1heFRpbWUiLCJkZWZhdWx0RGF0ZSIsIm5ld01heFRpbWUiLCJmY09wdHMiLCJkZWZhdWx0VmlldyIsInNldFRpbWV0YWJsZVN0YWZmIiwiZGl2aXNpb25OYW1lIiwic3RhZmZfZWxlbWVudCIsImVtcHR5IiwiY2xlYXJEb2N1bWVudHMiLCJoaWRlRGF0ZXRpbWVDb250cm9scyIsImRpc2FibGVDdXN0b21lckZvcm0iLCJjaGFuZ2VJbnB1dFR5cGUiLCJpZHgiLCJkaXNhYmxlZCIsImluQXJyYXkiLCJjbGFzcyIsImRhdGEtZW50aXR5LWlkIiwiZGF0YS1lbnRpdHktZGl2aXNpb25faWQiLCJkYXRhLWVudGl0eS1uYW1lIiwiZGF0YS1lbnRpdHktY29sb3IiLCJkYXRhLWVudGl0eS1wb3NpdGlvbiIsIm9yZGVyX2lkIiwicm93cyIsImNyZWF0ZWRfYXQiLCJ1c2VyIiwiY3VzdG9tZXJfaWQiLCJpbml0aWFsaXplQXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlIiwibWluTGVuZ3RoIiwidWkiLCJfcmVuZGVySXRlbSIsInVsIiwibGFzdG5hbWUiLCJzZWxlY3RDdXN0b21lciIsIm9yZGVyRGlzY291bnQiLCJzZWxlY3RDdXN0b21lckZvclBlbmRpbmciLCJub3JtYWxpemVPcmRlclRhYnMiLCJjaGVja0NoYW5nZXMiLCJpbnB1dHMiLCJoYXNDaGFuZ2VzIiwiZmllbGQiLCJmaWVsZE5hbWUiLCJvbGRWYWx1ZSIsImN1clZhbHVlIiwidG9nZ2xlQ2FzaGJhY2tCdXR0b24iLCJiYWxhbmNlIiwiaGlkZUNhc2hiYWNrUGF5bWVudCIsInN0ciIsInNldE1vZGFsVGl0bGUiLCJzaG93RGF0ZXRpbWVDb250cm9scyIsInNob3dPcmRlck1vZGFsIiwic2V0Q3VzdG9tZXJJbmZvIiwidGFnIiwiY2F0ZWdvcmllcyIsImNhdGVnb3J5IiwidG9nZ2xlQmFsYW5jZUJ1dHRvbiIsInBheW1lbnRMaXN0IiwiY2FsY3VsYXRlQmFsYW5jZSIsImN1ckV2ZW50Iiwic2F2ZUN1c3RvbWVyIiwiRm9ybURhdGEiLCJnZXRFbGVtZW50QnlJZCIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJpc0N1c3RvbWVyRm9ybUFjdGl2ZSIsImFkZERvY3VtZW50IiwiZG9jIiwicmVuZGVyRG9jdW1lbnQiLCJkb2NSb3ciLCJ1c2VyTmFtZSIsInRlbXBsYXRlTmFtZSIsImxpbmsiLCJsb2FkRG9jc0xpc3QiLCJ0ZW1wbGF0ZXMiLCJ0ZW1wbGF0ZSIsImRhdGVGcm9tU3RyaW5nIiwiZCIsInV0YyIsImRhdGVUb1N0cmluZyIsImdldEN1cnJlbnRNb21lbnQiLCJzZXRUaW1lbGluZSIsImZjc2xhdHMiLCJ0aW1lbGluZSIsInRpbWVsaW5lQXJyb3ciLCJjdXJyZW50TW9tZW50IiwiZHVyYXRpb24iLCJkdXJhdGlvbl9taW4iLCJyb3dIZWlnaHQiLCJoZWlnaHQiLCJwcmVwZW5kIiwic2xvdF9sZW5ndGhfaW5fbWludXRlcyIsInRvU3RyaW5nIiwic3Vic3RyIiwiZGlmZiIsInRvZGF5IiwidG9kYXlMZWZ0IiwidG9kYXlXaWR0aCIsIndpZHRoIiwiYXhpc1dpZHRoIiwic2VsZWN0ZWRVc2VyRWwiLCJkdXJhdGlvbl9tYXgiLCJkYXRlcGlja2VyIiwiZGF5TmFtZXNNaW4iLCJtb250aE5hbWVzIiwiZmlyc3REYXkiLCJvblNlbGVjdCIsImRhdGVUZXh0IiwiaW5zdCIsInJlbW92ZUF0dHIiLCJkaXNwbGF5SGVpZ2h0IiwicmVzb3VyY2VSZWZyZXNoSW50ZXJ2YWwiLCJzbG90SW50ZXJ2YWwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY3VycmVudFRpbWUiLCJzdWJ0cmFjdCIsInRpbWV6b25lIiwiYWxsRGF5VGV4dCIsImFsbERheVNsb3QiLCJzbG90RHVyYXRpb24iLCJzbG90TGFiZWxJbnRlcnZhbCIsIndlZWtOdW1iZXJzIiwiZGlzcGxheUV2ZW50VGltZSIsImRpc3BsYXlFdmVudEVuZCIsImRpc3BsYXlBbm5vdGF0aW9uIiwic2VsZWN0SGVscGVyIiwic2Nyb2xsVGltZSIsIm1pblRpbWUiLCJjb250ZW50SGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJheGlzRm9ybWF0Iiwic2xvdExhYmVsRm9ybWF0Iiwic2VsZWN0YWJsZSIsImRyb3BwYWJsZSIsImRyb3BBY2NlcHQiLCJldmVudER1cmF0aW9uRWRpdGFibGUiLCJldmVudE92ZXJsYXAiLCJldmVudHMiLCJ2aWV3TmFtZSIsIl9jc3JmIiwicG9zaXRpb25faWQiLCJzZWxlY3RlZCIsInN0YWZmcyIsImNsZWFySW50ZXJ2YWwiLCJyZWZldGNoUmVzb3VyY2VzT25OYXZpZ2F0ZSIsInJlc291cmNlcyIsInJlc291cmNlT3JkZXIiLCJyZXNvdXJjZVJlbmRlciIsInJlc291cmNlT2JqIiwibGFiZWxUZHMiLCJib2R5VGRzIiwic2NoZWR1bGUiLCJzdGFydF9hdCIsImVuZF9hdCIsImpzRXZlbnQiLCJyZXNvdXJjZSIsImRpdmlzaW9uX25vdGlmaWNhdGlvbiIsImV2ZW50Q2xpY2siLCJldmVudERyb3AiLCJkZWx0YSIsImV2ZW50UmVzaXplIiwiZXZlbnRSZW5kZXIiLCJ0aXAiLCJmaW5pc2hlZE9yZGVycyIsImV2ZW50QWZ0ZXJSZW5kZXIiLCJzZXJ2aWNlX25hbWUiLCJkZXNjcmlwdGlvbiIsIm15IiwiYXQiLCJtYXhTdGFmZklkIiwiYXBwbHkiLCJvIiwiaXNvV2Vla2RheSIsIm92ZXJ3cml0ZSIsImNsYXNzZXMiLCJkZWZhdWx0VGltZWRFdmVudER1cmF0aW9uIiwiZXZlbnRSZWNlaXZlIiwiZHJvcCIsImN1c3RvbUJ1dHRvbnMiLCJoZWFkZXIiLCJjZW50ZXIiLCJidXR0b25UZXh0IiwibW9udGgiLCJ3ZWVrIiwiZGF5Iiwid2Vla051bWJlclRpdGxlIiwidmlld3MiLCJjb2x1bW5Gb3JtYXQiLCJhZ2VuZGEiLCJ0aXRsZUZvcm1hdCIsInZpZXdSZW5kZXIiLCJsYXp5RmV0Y2hpbmciLCJzZXRJbnRlcnZhbCIsImludGVydmFsIiwic2V0SXRlbSIsInNlcmlhbGl6ZUFycmF5IiwiZGVsZXRlRXZlbnRVcmwiLCJwcmludGVkQ29udGVudCIsImRpdmlzaW9uT3B0aW9uIiwicGF0cm9ueW1pYyIsInNlcnZpY2VSb3ciLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJ0ZW1wbGF0ZV9pZCIsImRyYWdnYWJsZSIsImhlbHBlciIsInpJbmRleCIsInJldmVydCIsInJldmVydER1cmF0aW9uIiwic2VydmljZXNTZWxlY3RFdmVudCIsInRhYmJlZFRhYmxlIiwic2VydmljZXNUYWJsZSIsInBhcmFtcyIsInNlcnZpY2VfcHJpY2UiLCJyZW5kZXJTZXJ2aWNlIiwibG9hZFByb2R1Y3RzIiwic2VydmljZXNDbG9zZUV2ZW50IiwiY2hlY2tJTyIsInNldFRpbWVvdXQiLCJpbyIsInNldHVwSU8iLCJzb2NrZXQiLCJlbWl0IiwiY2xpZW50X2lkIiwibXNnIiwiYWRkQm94IiwiYm94IiwidHJhbnNmb3JtIiwicG9zaXRpb25Cb3hlcyIsInBsYXkiLCJ0aW1lb3V0SWQiLCJjbGVhclRpbWVvdXQiLCJyZWFkeSIsImFjdGlvbldpZGdldCIsImFsbCIsInRvZ2dsZUJ1dHRvbnMiLCJpc0VuYWJsZWQiLCJrZXlzIiwieWlpR3JpZFZpZXciLCJkb3dubG9hZFVSTCIsImV4cG9ydFVSTCIsImN1c3RvbWVycyIsImN1c3RvbWVyc0NvdW50IiwiY3VzdG9tZXJzQWRkQ2F0ZWdvcnkiLCJjYXRlZ29yeVVSTCIsInBqYXgiLCJyZWxvYWQiLCJ0aW1lb3V0IiwiY3VzdG9tZXJzU2VuZFJlcXVlc3QiLCJyZXF1ZXN0VVJMIiwiY3VzdG9tZXJzRGVsZXRlIiwiZGVsZXRlVVJMIiwiY3VzdG9tZXJzTWVyZ2UiLCJwcmltYXJ5Q3VzdG9tZXIiLCJjdXN0b21lcl9pZHMiLCJrZXl1cCIsInN5bWJvbHMiLCJjb3VudCIsIm51bWJlck9mU21zIiwiJGlkb3duIiwibW9kZSIsImJ1bGtDYW5jZWwiLCJ0aW1lciIsImltcG9ydFVybCIsInJlZnJlc2hQcm9ncmVzcyIsInByb2dyZXNzQmFyIiwiY29tcGxldGVkIiwiY3NyZiIsInVwbG9hZEh0bWwiLCJmaWxlX2RhdGEiLCJmb3JtX2RhdGEiLCJjYWNoZSIsImluY29ycmVjdCIsImNsb3NlQnV0dG9uIiwiY2FuY2VsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxpc3QiLCJyZW5kZXJNZWRDYXJlU2VydmljZSIsImZpcnN0Q2VsbCIsInF1YW50aXR5SW5wdXQiLCJzZXJ2aWNlSWRJbnB1dCIsImRpdmlzaW9uX3NlcnZpY2VfaWQiLCJvcmRlclNlcnZpY2VJZElucHV0Iiwib3JkZXJfc2VydmljZV9pZCIsImRpc2NvdW50SW5wdXQiLCJwcmljZUlucHV0IiwicmVtb3ZlTWVkQ2FyZVNlcnZpY2UiLCJzZXJ2aWNlTWVkQ2FyZURpc2NvdW50Q2hhbmdlZCIsInNlcnZpY2VNZWRDYXJlQ2hhbmdlZCIsInNlcnZpY2VNZWRDYXJlUXVhbnRpdHlDaGFuZ2VkIiwicm93c0NvdW50IiwiY3VyUm93IiwiY2FsY01lZENhcmVTZXJ2aWNlVG90YWwiLCJkZWZhdWx0VmFsdWUiLCJuZXdQcmljZSIsInNlcnZpY2VQcmljZSIsInNlbGVjdDIiLCJtZWRDYXJkU2VydmljZXNTZWxlY3RFdmVudCIsIm9wdGlvbnMiLCJtZWRDYXJkU2VydmljZXNDbG9zZUV2ZW50Iiwic2hvd0RlYnRQYXltZW50TW9kYWwiLCJjb21wYW55X2N1c3RvbWVyX2RlYnQiLCJpbnB1dFR5cGUiLCJhbW91bnQiLCJsaW5lYnJlYWsiLCJzIiwidHdvX2xpbmUiLCJvbmVfbGluZSIsImZpcnN0X2NoYXIiLCJzdGFydFJlY29nbml0aW9uIiwiaW5pdF90cmFuc2NyaXB0IiwicmVjb2duaXRpb24iLCJvbnJlc3VsdCIsInRlbXBfdHJhbnNjcmlwdCIsInJlc3VsdHMiLCJ0cmFuc2NyaXB0IiwicmVjb2duaXppbmciLCJzdG9wUmVjb2duaXRpb24iLCJzdG9wIiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJjb250aW51b3VzIiwiaW50ZXJpbVJlc3VsdHMiLCJsYW5nIiwib25lbmQiLCJvbmVycm9yIiwiZGF0YV90YXJnZXQiLCJ3cmFwcGVyIiwicGFyZW50cyIsImNob3Nlbl9waG90byIsInNpYmxpbmdzIiwicmVmcmVzaENvbW1lbnRzIiwiY29tcGxldGVJbnB1dHMiLCJjb21wbGV0ZUlucHV0IiwiY29tbWVudHNVcmwiLCJkZXN0cm95IiwiZ2V0QXdlc29tZXBsZXRlIiwic2VydmljZV9pZCIsInByb2R1Y3QiLCJyZW5kZXJQcm9kdWN0IiwiYWRkUGF5bWVudHMiLCJzZXJ2aWNlUHJvZHVjdHNVcmwiLCJzZXR1cENvbXBsZXRlSW5wdXQiLCJtaW5DaGFycyIsImV2YWx1YXRlIiwiQXdlc29tcGxldGUiLCJpbnB1dCIsIkZJTFRFUl9TVEFSVFNXSVRIIiwiSVRFTSIsImJlZm9yZSIsInRyaW0iLCJzb3J0IiwiZGVsZXRlRW1wdHlSb3ciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm1ha2VQcm9kdWN0VGV4dENlbGwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIm1ha2VQcm9kdWN0Q2VsbCIsIm1ha2VQcm9kdWN0SW5wdXQiLCJyZXF1aXJlZCIsImluaXRpYWxpemVQcm9kdWN0QXV0b2NvbXBsZXRlIiwicmVxdWVzdCIsInRlcm0iLCJzZWxlY3RUaW1ldGFibGVQcm9kdWN0IiwidXBkYXRlUHJvZHVjdFByaWNlIiwicmVkdWNlUGF5bWVudHMiLCJ1cGRhdGVQcm9kdWN0UXVhbnRpdHkiLCJzdG9ja19sZXZlbCIsInBvcG92ZXIiLCJwbGFjZW1lbnQiLCJ1bml0Iiwic2VydmljZURpc2NvdW50Q2hhbmdlZCIsIm9sZERpc2NvdW50IiwibmV4dCIsIm9sZFByaWNlIiwic2VydmljZVByaWNlQ2hhbmdlZCIsInByZXYiLCJvbGRTYWxlUHJpY2UiLCJuZXdTYWxlUHJpY2UiLCJzZXJ2aWNlUXVhbnRpdHlDaGFuZ2VkIiwiaXRlbVByaWNlIiwicGF5bWVudCIsInRvdGFsIiwic2VydmljZXNQcmljZSIsInByb2R1Y3RzUHJpY2UiLCJyb3VuZCIsInJlbW92ZVNlcnZpY2UiLCJjdXJSb3dJbmRleCIsInVwZGF0ZVNlcnZpY2VJbmRleGVzIiwiZHVyYXRpb25JbnB1dCIsImNvbnRhY3RzX2VsZW1lbnQiLCJjb250YWN0Q3VzdG9tZXIiLCJhZGRDb250YWN0IiwiY29udGFjdCIsImluaXRpYWxpemVDb250YWN0c0F1dG9jb21wbGV0ZSIsInNlbGVjdEN1c3RvbWVyQ29udGFjdCIsIm1hc2siLCJzZWFyY2hVcmwiLCJsb2NhbEluZGV4IiwibmV3SW5kZXgiLCJuZXdOYW1lIiwiUGF5bWVudExpc3QiLCJwYXltZW50cyIsImV2ZW50U3RhdHVzIiwib3JkZXJfcGF5bWVudCIsImdldFBheW1lbnQiLCJwYXltZW50X2lkIiwicmVuZGVyIiwiYWRkQW1vdW50TGlzdGVuZXIiLCJjYWxjdWxhdGVUb3RhbCIsInVzZURlcG9zaXRJblRvdGFsUHJpY2UiLCJkZXBvc2l0IiwiZGlmZmVyZW5jZSIsIm1pbiIsImRlYnQiLCJwcm9kdWN0X2lkIiwicHVyY2hhc2VfcHJpY2UiLCJwcm9kdWN0SWRJbnB1dCIsInByb2R1Y3RDb3VudGVyIiwiZGVsZXRlUHJvZHVjdCIsImFkZFByb2R1Y3QiLCJjb250YWN0c19jb250YWluZXIiLCJQQVlNRU5UX1RZUEVfQ0FTSEJBQ0siLCJpc0Nhc2hiYWNrIiwiY3VzdG9tZXJCYWxhbmNlIiwib3JkZXJUb3RhbCIsImFicyIsImNhc2hiYWNrIiwiUHJvZHVjdCIsImluaXRTZWxlY3QyTG9hZGluZyIsImluaXRTMkxvYWRpbmciLCJpbml0UzJTZWxlY3RIYW5kbGVyIiwiaW5pdFNlbGVjdDJEcm9wU3R5bGUiLCJrdkNsb3NlIiwiZXYiLCJpbml0UzJPcGVuIiwic2VsZWN0V2FyZWhvdXNlUHJvZHVjdCIsImV2dCIsImFyZ3MiLCJnZXRQcm9kdWN0S2V5IiwiZmlsbENlbGxzIiwiY2FsY1dhcmVob3VzZVRvdGFsIiwiZ2V0UHJvZHVjdENvc3QiLCJ0b3RhbFN1bSIsInN1YnRvdGFsIiwidG90YWxUYXgiLCJwcm9kdWN0X2RhdGEiLCJ0YXgiLCJ2YXQiLCJ0b0ZpeGVkIiwic2V0RGlhbG9nQ2FsbGJhY2siLCJtb2RlbE5hbWUiLCJoaWRlTW9kYWwiLCJsb2FkTW9kYWwiLCJoYW5kbGVQcm9kdWN0QXR0ckNoYW5nZSIsImF0dHJOYW1lIiwicHJvZHVjdENvc3QiLCJzYWxlSXRlbXMiLCJtb3ZlU291cmNlc1VybCIsImlucHV0T3B0aW9ucyIsInNvdXJjZXNMaXN0IiwiZGVzdGluYXRpb24iLCJ1cGRhdGVkIiwiZGVsZXRlUHJvZHVjdHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBSUEsU0FBU0EsV0FBVUMsRUFBR0MsR0FDbEIsR0FBSUMsR0FBUUQsRUFBS0MsS0FDYkEsR0FBTUMsUUFBVUQsRUFBTUUsWUFDdEJILEVBQUtJLFFBQVUscUJBQ2ZKLEVBQUtLLFFBQVUsZUFBaUJKLEVBQU1FLFdBQWEsbUJBQXFCRixFQUFNQyxTQUU5RUYsRUFBS0ksUUFBVSxpQkFBbUJKLEVBQUtJLFFBQ3ZDSixFQUFLSyxRQUFVLHFDQUF1Q0osR0F5QjlELFFBQVNLLGlDQUNMLEdBQUlDLEdBQVlDLE9BQU9DLElBQUlELE9BQU8scUJBQXFCRSxVQUFVLGVBQWVDLEtBQUtDLG1CQUFvQixTQUFV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QUFTNG5CLFdBS2pCYixHQUFhbnVCLEdBQUcsUUFBUyxtQ0FBb0MsWUFDTyxJQUE1RDRELFFBQVEsaURBQ0pvYSxHQUNBeWUsRUFBZXplLElBSzNCLElBQUlxUixHQUFZIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW5pdENvbG9yUGlja2VyKCdzZWxlY3RbbmFtZT1cIlN0YWZmW2NvbG9yXVwiXScpO1xuXG5mdW5jdGlvbiBsb2FkRXJyb3IoZSwgZGF0YSkge1xuICAgIHZhciBlcnJvciA9IGRhdGEuZXJyb3I7XG4gICAgaWYgKGVycm9yLnN0YXR1cyAmJiBlcnJvci5zdGF0dXNUZXh0KSB7XG4gICAgICAgIGRhdGEubWVzc2FnZSA9IFwi0JLRi9Cx0LXRgNC40YLQtSDQt9Cw0LLQtdC00LXQvdC40LVcIjtcbiAgICAgICAgZGF0YS5kZXRhaWxzID0gXCJBamF4IGVycm9yOiBcIiArIGVycm9yLnN0YXR1c1RleHQgKyBcIiwgc3RhdHVzIGNvZGUgPSBcIiArIGVycm9yLnN0YXR1cztcbiAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhLm1lc3NhZ2UgPSBcIkN1c3RvbSBlcnJvcjogXCIgKyBkYXRhLm1lc3NhZ2U7XG4gICAgICAgIGRhdGEuZGV0YWlscyA9IFwiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvYWRpbmc6IFwiICsgZXJyb3I7XG4gICAgfVxufVxuXG4kKCcjc3RhZmYtZGl2aXNpb25faWQuc2luZ2xlLWRpdmlzaW9uJykudHJpZ2dlcignY2hhbmdlJyk7XG5cbiQoJyNzdGFmZi1jcmVhdGVfdXNlcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAkKCcuaW5uZXItaW5wdXRzLWxpc3QgLmNvbnRyb2wtZ3JvdXAnKS5mYWRlSW4oJ2Zhc3QnKTtcbiAgICAgICAgaWYgKCQoJyNzdGFmZi11c2VybmFtZScpLnZhbCgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJCgnI3N0YWZmLXVzZXJuYW1lJykudmFsKCQoJyNzdGFmZi1waG9uZScpLnZhbCgpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5pbm5lci1pbnB1dHMtbGlzdCAuY29udHJvbC1ncm91cCcpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICB9XG59KTtcbiQoJyNzdGFmZi1jcmVhdGVfdXNlcicpLmNoYW5nZSgpO1xuXG4kKFwiLnN0YWZmLWZvcm0gZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24gKCkge1xuICAgIHByZXNlbGVjdFN0YWZmU2VydmljZVRyZWUoKTtcbiAgICBwcmVzZWxlY3RTdGFmZlBlcm1pc3Npb25zVHJlZSgpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59KTtcblxuZnVuY3Rpb24gcHJlc2VsZWN0U3RhZmZQZXJtaXNzaW9uc1RyZWUoKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGpRdWVyeS5tYXAoalF1ZXJ5KCcjcGVybWlzc2lvbnNfdHJlZScpLmZhbmN5dHJlZSgnZ2V0Um9vdE5vZGUnKS50cmVlLmdldFNlbGVjdGVkTm9kZXMoKSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xuICAgIH0pO1xuXG4gICAgJCgnI3N0YWZmX3VzZXJfcGVybWlzc2lvbnMnKS52YWwoSlNPTi5zdHJpbmdpZnkoc2VsZWN0aW9uKSk7XG59XG5cbmZ1bmN0aW9uIHByZXNlbGVjdFN0YWZmU2VydmljZVRyZWUoKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGpRdWVyeS5tYXAoalF1ZXJ5KCcjc2VydmljZXNfdHJlZScpLmZhbmN5dHJlZSgnZ2V0Um9vdE5vZGUnKS50cmVlLmdldFNlbGVjdGVkTm9kZXMoKSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKCQuaXNOdW1lcmljKG5vZGUua2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcjc3RhZmZfc2VydmljZV9pZHMnKS52YWwoSlNPTi5zdHJpbmdpZnkoc2VsZWN0aW9uKSk7XG59XG5cbiQoJyNzdGFmZi1oYXNfY2FsZW5kYXInKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICAgICQoJy5zdGFmZl9jb2xvcicpLmZhZGVJbignZmFzdCcpO1xuICAgICAgICAkKCcuc3RhZmZfc2VydmljZXMnKS5mYWRlSW4oJ2Zhc3QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuc3RhZmZfY29sb3InKS5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgICAgICQoJy5zdGFmZl9zZXJ2aWNlcycpLmZhZGVPdXQoJ2Zhc3QnKTtcbiAgICB9XG59KTtcblxuJCgnI3N0YWZmLW5hbWUsICNzdGFmZi1zdXJuYW1lJykub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVtb3ZlZF9maXJzdF9jaGFyID0gJCh0aGlzKS52YWwoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpLnRvTG93ZXJDYXNlKCkpID09PSAtMTtcbiAgICBpZiAocmVtb3ZlZF9maXJzdF9jaGFyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJCh0aGlzKS5jYXBpdGFsaXplKCk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgICQoJyNtZW51LXRvZ2dsZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ3NpZGViYXItYWN0aXZlJykpIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnc2lkZWJhci1hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnc2lkZWJhci1hY3RpdmUnKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnYnV0dG9uW3RpdGxlXSwgLnRpdGxlZFt0aXRsZV0nKS5xdGlwKHtcbiAgICAgICAgc3R5bGU6ICdoaWdoZXItemluZGV4J1xuICAgIH0pO1xuXG4gICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcblxuICAgICQoJyNidG4tc2hvdy1tb3JlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgICAgICB2YXIgdG9nZ2xlID0gdGFyZ2V0LmF0dHIoJ2RhdGEtdG9nZ2xlJyk7XG4gICAgICAgIGlmICh0b2dnbGUgIT0gJycpIHtcbiAgICAgICAgICAgIHRhcmdldC5hdHRyKCdkYXRhLXRvZ2dsZScsICcnKTtcbiAgICAgICAgICAgICQoJy5vcHRpb25hbCcpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmF0dHIoJ2RhdGEtdG9nZ2xlJywgJ29wdGlvbmFsJyk7XG4gICAgICAgICAgICAkKCcub3B0aW9uYWwnKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkuYWpheFN0YXJ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIiNsb2FkaW5nX2luZGljYXRvclwiKS5zaG93KCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5hamF4U3RvcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoXCIjbG9hZGluZ19pbmRpY2F0b3JcIikuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnLmZpbHRlci1wZXItcGFnZScpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9ICQoZS50YXJnZXQpO1xuICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbCgpO1xuICAgICAgICB2YXIgbmFtZSA9IGVsZW1lbnQuYXR0cignbmFtZScpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBuYW1lLCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVRdWVyeVN0cmluZ1BhcmFtZXRlcih1cmksIGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIihbPyZdKVwiICsga2V5ICsgXCI9Lio/KCZ8JClcIiwgXCJpXCIpO1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gdXJpLmluZGV4T2YoJz8nKSAhPT0gLTEgPyBcIiZcIiA6IFwiP1wiO1xuICAgICAgICBpZiAodXJpLm1hdGNoKHJlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVyaS5yZXBsYWNlKHJlLCAnJDEnICsga2V5ICsgXCI9XCIgKyB2YWx1ZSArICckMicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVyaSArIHNlcGFyYXRvciArIGtleSArIFwiPVwiICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGl2aXNpb25Db250ZW50ID0gJChcIi5kaXZpc2lvbi1mb3JtXCIpO1xuICAgIHZhciBhZGRJdGVtQnRuID0gZGl2aXNpb25Db250ZW50LmZpbmQoJ2EuYWRkLWl0ZW0nKTtcbiAgICBpZiAoYWRkSXRlbUJ0bi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlbW92ZUl0ZW0gPSBmdW5jdGlvbiByZW1vdmVJdGVtKGUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJChlLnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0SUQgPSBlbGVtZW50LmF0dHIoJ2RhdGEtdGFyZ2V0Jyk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9ICQoXCIjXCIgKyB0YXJnZXRJRCk7XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVtb3ZlSXRlbUJ0biA9IGRpdmlzaW9uQ29udGVudC5maW5kKCcucmVtb3ZlLWl0ZW0nKTtcbiAgICAgICAgcmVtb3ZlSXRlbUJ0bi5jbGljayhyZW1vdmVJdGVtKTtcblxuICAgICAgICB2YXIgY2xvbmUgPSBmdW5jdGlvbiBjbG9uZShlKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9ICQoZS50YXJnZXQpO1xuICAgICAgICAgICAgdmFyIHRhcmdldElEID0gZWxlbWVudC5hdHRyKCdkYXRhLXRhcmdldCcpO1xuICAgICAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSAkKFwiI1wiICsgdGFyZ2V0SUQpO1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50LmNsb3Nlc3QoXCIuY29udHJvbHNcIik7XG4gICAgICAgICAgICB2YXIgY2xvbmVFbGVtZW50ID0gdGFyZ2V0RWxlbWVudC5jbG9uZShmYWxzZSk7XG5cbiAgICAgICAgICAgIHZhciBsYXN0RWxlbWVudCA9ICQoJy5maWVsZC1kaXZpc2lvbi1waG9uZXM6bGFzdCcpO1xuICAgICAgICAgICAgdmFyIGxhc3RFbGVtZW50SUQgPSBsYXN0RWxlbWVudC5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgdmFyIG5ld0lEID0gXCJwaG9uZXMtXCIgKyAoTnVtYmVyKGxhc3RFbGVtZW50SUQucmVwbGFjZShcInBob25lcy1cIiwgXCJcIikpICsgMSk7XG5cbiAgICAgICAgICAgIHZhciBidXR0b24gPSBjbG9uZUVsZW1lbnQuZmluZChcIi5hZGQtaXRlbVwiKTtcbiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcygnYWRkLWl0ZW0gYnRuLXByaW1hcnknKTtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRDbGFzcygncmVtb3ZlLWl0ZW0gYnRuLWRhbmdlcicpO1xuICAgICAgICAgICAgYnV0dG9uLmF0dHIoJ2RhdGEtdGFyZ2V0JywgbmV3SUQpO1xuICAgICAgICAgICAgYnV0dG9uLmZpbmQoJy5mYScpLnByb3AoJ2NsYXNzJywgJ2ZhIGZhLW1pbnVzJyk7XG4gICAgICAgICAgICBidXR0b24uY2xpY2socmVtb3ZlSXRlbSk7XG5cbiAgICAgICAgICAgIGNsb25lRWxlbWVudC5wcm9wKFwiaWRcIiwgbmV3SUQpO1xuICAgICAgICAgICAgY2xvbmVFbGVtZW50LmZpbmQoXCJsYWJlbFwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgY2xvbmVFbGVtZW50LmZpbmQoJ2lucHV0JykudmFsKFwiXCIpLmlucHV0bWFzayhcIis3IDk5OSA5OTkgOTkgOTlcIiwgeyBcImNsZWFySW5jb21wbGV0ZVwiOiB0cnVlIH0pO1xuXG4gICAgICAgICAgICBjbG9uZUVsZW1lbnQuYXBwZW5kVG8ocGFyZW50RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZEl0ZW1CdG4uY2xpY2soY2xvbmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIE1vZGFsRm9ybShpZCwgY2xhc3NuYW1lKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jbGFzc25hbWUgPSBjbGFzc25hbWU7XG4gICAgfVxuXG4gICAgTW9kYWxGb3JtLnByb3RvdHlwZS5zdWJtaXQgPSBmdW5jdGlvbiAoc3VjY2Vzcykge1xuICAgICAgICB2YXIgZm9ybSA9ICQoXCIjXCIgKyB0aGlzLmlkKTtcbiAgICAgICAgdmFyIHVybCA9IGZvcm0uYXR0cignYWN0aW9uJyk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgJC5wb3N0KHVybCwgZm9ybS5zZXJpYWxpemUoKSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRFcnJvcnMocmVzcG9uc2UuZXJyb3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYWxlcnRNZXNzYWdlKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsFwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIE1vZGFsRm9ybS5wcm90b3R5cGUuc2V0RXJyb3JzID0gZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICQuZWFjaChlcnJvcnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAkKCcuZmllbGQtJyArIHNlbGYuY2xhc3NuYW1lICsgJy0nICsga2V5KS5maW5kKCcuaGVscC1ibG9jaycpLnRleHQodmFsdWVbMF0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGVkaXRDYXRlZ29yaWVzQnRuID0gJCgnI2J0bi1lZGl0LWNhdGVnb3JpZXMnKTtcbiAgICBpZiAoZWRpdENhdGVnb3JpZXNCdG4ubGVuZ3RoKSB7XG4gICAgICAgIHZhciBhZGRDYXRlZ29yeUJ0biA9ICQoJy5idG4tYWRkLWNhdGVnb3J5Jyk7XG4gICAgICAgIHZhciBkaWFsb2dCdXR0b25zID0ge1xuICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcItCh0L7RhdGA0LDQvdC40YLRjFwiLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4tcHJpbWFyeVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsRm9ybSA9IG5ldyBNb2RhbEZvcm0oXCJjYXRlZ29yeS1mb3JtXCIsICdzZXJ2aWNlY2F0ZWdvcnknKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9vdGJveC5oaWRlQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTRVJWSUNFLnJlZnJlc2hUcmVlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsRm9ybS5zdWJtaXQoc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGFuZ2VyOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwi0J7RgtC80LXQvdCwXCIsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIFNFUlZJQ0UgPSB7XG4gICAgICAgICAgICBhZGRCdXR0b25zTGlzdGVuZXJzOiBmdW5jdGlvbiBhZGRCdXR0b25zTGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0Q2F0ZWdvcnlCdG4gPSAkKCcuYnRuLWVkaXQtY2F0ZWdvcnknKTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsZXRlQ2F0ZWdvcnlCdG4gPSAkKCcuYnRuLWRlbGV0ZS1jYXRlZ29yeScpO1xuICAgICAgICAgICAgICAgIGVkaXRDYXRlZ29yeUJ0bi5jbGljayhTRVJWSUNFLmVkaXRDYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlQ2F0ZWdvcnlCdG4uY2xpY2soU0VSVklDRS5jb25maXJtRGVsZXRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maXJtRGVsZXRlOiBmdW5jdGlvbiBjb25maXJtRGVsZXRlKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwi0JLRiyDRg9Cy0LXRgNC10L3Riz8g0KPQtNCw0LvQtdC90LjQtSDQv9GA0LjQstC10LTQtdGCINC6INC/0L7RgtC10YDQtSDQtNCw0L3QvdGL0YUuXCI7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIFNFUlZJQ0UuZGVsZXRlQ2F0ZWdvcnkoZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25maXJtTWVzc2FnZShtZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlQ2F0ZWdvcnk6IGZ1bmN0aW9uIGRlbGV0ZUNhdGVnb3J5KGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gJChlLnRhcmdldCkuYXR0cignZGF0YS11cmwnKTtcbiAgICAgICAgICAgICAgICAkLnBvc3QodXJsKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBTRVJWSUNFLnJlZnJlc2hUcmVlKCk7XG4gICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZShcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40LhcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWRpdENhdGVnb3J5OiBmdW5jdGlvbiBlZGl0Q2F0ZWdvcnkoZSkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSAkKGUudGFyZ2V0KS5hdHRyKCdkYXRhLXVybCcpO1xuICAgICAgICAgICAgICAgICQuZ2V0KHVybCkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nTWVzc2FnZShyZXNwb25zZSwgZGlhbG9nQnV0dG9ucywgXCLQmtCw0YLQtdCz0L7RgNC40Y9cIik7XG4gICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZShcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LBcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9hZFRyZWU6IGZ1bmN0aW9uIGxvYWRUcmVlKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZWRpdENhdGVnb3JpZXNCdG4uYXR0cignZGF0YS11cmwnKTtcbiAgICAgICAgICAgICAgICAkLmdldCh1cmwpLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRDYXRlZ29yaWVzQnRuLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBTRVJWSUNFLm1vZGlmeVNpZGVuYXYocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBTRVJWSUNFLnNob3dTaWRlbmF2QnV0dG9ucygpO1xuICAgICAgICAgICAgICAgICAgICBTRVJWSUNFLmFkZEJ1dHRvbnNMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsFwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RpZnlTaWRlbmF2OiBmdW5jdGlvbiBtb2RpZnlTaWRlbmF2KGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2lkZW5hdiA9ICQoJyNzaWRlbmF2Jyk7XG4gICAgICAgICAgICAgICAgc2lkZW5hdi5maW5kKCcudHJlZV9vcHRpb25zJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgc2lkZW5hdi5maW5kKCcudHJlZScpLnJlcGxhY2VXaXRoKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHNpZGVuYXYuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgXCJyZ2IoMjU1LCAyNTUsIDI1NSlcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVmcmVzaFRyZWU6IGZ1bmN0aW9uIHJlZnJlc2hUcmVlKCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBlZGl0Q2F0ZWdvcmllc0J0bi5hdHRyKCdkYXRhLXVybCcpO1xuICAgICAgICAgICAgICAgICQuZ2V0KHVybCkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpZGVuYXYgPSAkKCcjc2lkZW5hdicpO1xuICAgICAgICAgICAgICAgICAgICBzaWRlbmF2LmZpbmQoJy5zaW1wbGUtdHJlZScpLnJlcGxhY2VXaXRoKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgU0VSVklDRS5hZGRCdXR0b25zTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZShcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LBcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hvd1NpZGVuYXZCdXR0b25zOiBmdW5jdGlvbiBzaG93U2lkZW5hdkJ1dHRvbnMoKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2F0ZWdvcnlCdG4uc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5idG4tZG9uZScpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWRpdENhdGVnb3JpZXNCdG4uY2xpY2soU0VSVklDRS5sb2FkVHJlZSk7XG4gICAgICAgIGFkZENhdGVnb3J5QnRuLmNsaWNrKFNFUlZJQ0UuZWRpdENhdGVnb3J5KTtcbiAgICB9XG5cbiAgICAkKCcjZnVsbHNjcmVlbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICQodGhpcykuZmFkZU91dCgpO1xuICAgIH0pO1xuXG4gICAgJCgnI2pzLWVkaXQtY2FzaCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCgnI2Nhc2gtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgIH0pO1xuXG4gICAgJCgnI2pzLXRyYW5zZmVyLWNhc2gnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoJyNjYXNoLXRyYW5zZmVyLW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICB9KTtcblxuICAgICQoJyNqcy1kZWxldGUtY2FzaCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHVybCA9IGUudGFyZ2V0LmhyZWY7XG4gICAgICAgIGNvbmZpcm1NZXNzYWdlKFwi0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDQtNCw0L3QvdGD0Y4g0LrQsNGB0YHRgz9cIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICQucG9zdCh7IHVybDogdXJsLCBkYXRhVHlwZTogJ2pzb24nIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5qR3Jvd2wocmVzcG9uc2UuZXJyb3IsIHsgZ3JvdXA6ICdmbGFzaF9hbGVydCcgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmpHcm93bChyZXNwb25zZS5tZXNzYWdlLCB7IGdyb3VwOiAnZmxhc2hfbm90aWNlJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJpbmRleFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkLmpHcm93bChcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40LguIFwiLCB7IGdyb3VwOiAnZmxhc2hfYWxlcnQnIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBhZGROZXdQb3NpdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9tcHQoJ9CS0LLQtdC00LjRgtC1INC90L7QstC+0LUg0LfQvdCw0YfQtdC90LjQtSDQtNC70Y8g0YHQv9C40YHQutCwJyk7XG5cbiAgICAkLnBvc3QoXCIvY29tcGFueS9wb3NpdGlvbi9hZGQvXCIsIHtcbiAgICAgICAgbmFtZTogdmFsdWVcbiAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gJChcIiNzdGFmZi1jb21wYW55X3Bvc2l0aW9uX2lkc1wiKTtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSAkKCc8b3B0aW9uPjwvb3B0aW9uPicpLmF0dHIoJ3NlbGVjdGVkJywgdHJ1ZSkudGV4dChkYXRhLm5hbWUpLnZhbChkYXRhLmlkKTtcbiAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRUbyhzZWxlY3QpO1xuICAgICAgICAgICAgc2VsZWN0LnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7XG4gICAgICAgIH0gZWxzZSBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpO1xuICAgIH0sICdqc29uJyk7XG59O1xuXG5mdW5jdGlvbiBhZGRfaG91cnNfdG9faG92ZXJlZF9zbG90cyh2aWV3KSB7XG4gICAgaWYgKHZpZXcubmFtZSAhPSBcIm1vbnRoXCIpIHtcbiAgICAgICAgdmFyIGNvbHVtbl93aWR0aCA9IGdldF9jb2x1bW5fd2lkdGgoKTtcbiAgICAgICAgdmFyIHNsYXRzID0gJChcIi5mYy12aWV3OnZpc2libGUgLmZjLXNsYXRzXCIpO1xuICAgICAgICB2YXIgYXhpc193aWR0aCA9IHNsYXRzLmZpbmQoXCIuZmMtYXhpczpmaXJzdFwiKS5vdXRlcldpZHRoKCk7XG4gICAgICAgIHZhciBhID0gc2xhdHMub2Zmc2V0KCkubGVmdCArIGF4aXNfd2lkdGg7XG5cbiAgICAgICAgJChcIi5mYy10aW1lLWhlbHBlclwiKS5yZW1vdmUoKTtcblxuICAgICAgICBzbGF0cy5maW5kKCd0ZC5mYy13aWRnZXQtY29udGVudDpub3QoXCIuZmMtYXhpc1wiKScpLnVuYmluZChcIm1vdXNlbnRlclwiKS51bmJpbmQoXCJtb3VzZW1vdmVcIikudW5iaW5kKFwibW91c2VsZWF2ZVwiKS5vbihcIm1vdXNlZW50ZXIgbW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICB2YXIgYiA9IE1hdGgubWF4KE1hdGguZmxvb3IoKGYucGFnZVggLSBhKSAvIGNvbHVtbl93aWR0aCkpO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSBjb2x1bW5fd2lkdGggKiBiICsgYXhpc193aWR0aDtcbiAgICAgICAgICAgIHZhciB0aW1lID0gJCh0aGlzKS5wYXJlbnQoKS5hdHRyKCdkYXRhLXRpbWUnKS5zdWJzdHJpbmcoMCwgNSk7XG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoXCI8ZGl2IGNsYXNzPSdmYy10aW1lLWhlbHBlcicgc3R5bGU9J2xlZnQ6IFwiICsgbGVmdCArIFwicHgnPlwiICsgdGltZSArIFwiINCd0L7QstCw0Y8g0LfQsNC/0LjRgdGMPC9kaXY+XCIpO1xuICAgICAgICB9KS5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5mYy10aW1lLWhlbHBlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfY29sdW1uX3dpZHRoKCkge1xuICAgIHJldHVybiAkKFwiLmZjLXZpZXc6dmlzaWJsZSAuZmMtdGltZS1ncmlkIC5mYy1iZyB0ZC5mYy1kYXk6Zmlyc3RcIikub3V0ZXJXaWR0aCgpO1xufVxuXG5pZiAodHlwZW9mIGJvb3Rib3ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgYm9vdGJveC5hZGRMb2NhbGUoJ3J1Jywge1xuICAgICAgICBPSzogJ9Cf0YDQvtC00L7Qu9C20LjRgtGMJyxcbiAgICAgICAgQ0FOQ0VMOiAn0J7RgtC80LXQvdC40YLRjCcsXG4gICAgICAgIENPTkZJUk06ICfQn9C+0LTRgtCy0LXRgNC00LjRgtGMJ1xuICAgIH0pO1xuICAgIGJvb3Rib3guc2V0RGVmYXVsdHMoeyBsb2NhbGU6ICdydScgfSk7XG59XG5cbmZ1bmN0aW9uIGFsZXJ0TWVzc2FnZShtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgIHZhciBkaWFsb2cgPSBib290Ym94LmFsZXJ0KG1lc3NhZ2UsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gZGlhbG9nTWVzc2FnZShtZXNzYWdlLCBidXR0b25zLCB0aXRsZSkge1xuICAgIHZhciBkaWFsb2cgPSBib290Ym94LmRpYWxvZyh7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgYnV0dG9uczogYnV0dG9uc1xuICAgIH0pO1xuICAgIGluaXREaWFsb2coZGlhbG9nKTtcbn1cblxuZnVuY3Rpb24gY29uZmlybU1lc3NhZ2UobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZGlhbG9nID0gYm9vdGJveC5jb25maXJtKHtcbiAgICAgICAgLy8gc2l6ZTogJ3NtYWxsJyxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXREaWFsb2coZGlhbG9nKSB7XG4gICAgZGlhbG9nLmluaXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBkaWFsb2cuYXR0cigndGFiaW5kZXgnLCBcIlwiKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdENvbG9yUGlja2VyKHNlbGVjdG9yKSB7XG4gICAgdmFyIGNvbG9yU2VsZWN0ID0gJChzZWxlY3Rvcik7XG4gICAgY29sb3JTZWxlY3Quc2ltcGxlY29sb3JwaWNrZXIoeyBwaWNrZXI6IHRydWUgfSkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnLnNpbXBsZWNvbG9ycGlja2VyLmljb24nKS5wcm9wKCdjbGFzcycsICdzaW1wbGVjb2xvcnBpY2tlciBpY29uICcgKyAkKHRoaXMpLnZhbCgpKTtcbiAgICB9KTtcblxuICAgICQoJy5zaW1wbGVjb2xvcnBpY2tlci5pY29uJykucHJvcCgnY2xhc3MnLCAnc2ltcGxlY29sb3JwaWNrZXIgaWNvbiAnICsgY29sb3JTZWxlY3QudmFsKCkpO1xuXG4gICAgJCgnc3Bhbi5jb2xvcicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlbSA9ICQodGhpcyk7XG4gICAgICAgIGl0ZW0ucHJvcCgnY2xhc3MnLCBpdGVtLmF0dHIoJ2RhdGEtY29sb3InKSk7XG4gICAgfSk7XG5cbiAgICAkKCdib2R5PnNwYW4uc2ltcGxlY29sb3JwaWNrZXInKS5wcm9wKCdjbGFzcycsICdzaW1wbGVjb2xvcnBpY2tlciBwaWNrZXIgY29sb3InKTtcbn1cblxudmFyIGZvcm1hdFJlcG9TZWxlY3Rpb24gPSBmdW5jdGlvbiBmb3JtYXRSZXBvU2VsZWN0aW9uKGl0ZW0pIHtcbiAgICB2YXIgdGV4dCA9IGl0ZW0uZWxlbWVudC5pbm5lckhUTUw7XG4gICAgdmFyIGJhY2tDb2xvciA9ICQoaXRlbS5lbGVtZW50KS5hdHRyKFwiYmFjay1jb2xvclwiKTtcbiAgICB2YXIgZm9udENvbG9yID0gJChpdGVtLmVsZW1lbnQpLmF0dHIoXCJmb250LWNvbG9yXCIpO1xuICAgIHZhciBhbnMgPSBcIjxzcGFuIGNsYXNzPSdzZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlX19uYW1lJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogXCIgKyBiYWNrQ29sb3IgKyBcIjsgY29sb3I6IFwiICsgZm9udENvbG9yICsgXCInPjxpIGNsYXNzPSdmYSBmYS10YWcnPjwvaT4gXCIgKyB0ZXh0ICsgXCI8L3NwYW4+XCI7XG4gICAgcmV0dXJuIGFucztcbn07XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVUcmVlKHNlbGVjdG9yLCBzb3VyY2UsIGxvYWRFcnJvcikge1xuICAgIHZhciBvcHRzID0ge1xuICAgICAgICBzb3VyY2U6IHNvdXJjZSwgLy8gaW5pdGlhbCBzb3VyY2VcbiAgICAgICAgY2hlY2tib3g6IHRydWUsXG4gICAgICAgIGljb246IGZhbHNlLFxuICAgICAgICBleHBhbmRlZDogdHJ1ZSxcbiAgICAgICAgc2VsZWN0TW9kZTogMyxcbiAgICAgICAgc3RyaW5nczogeyBsb2FkaW5nOiBcItCX0LDQs9GA0YPQt9C60LAuLi5cIiwgbG9hZEVycm9yOiBcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAhXCIsIG1vcmVEYXRhOiBcItCV0YnQtS4uLlwiLCBub0RhdGE6IFwi0J3QtdGCINC00LDQvdC90YvRhS5cIiB9XG4gICAgfTtcbiAgICBpZiAobG9hZEVycm9yKSB7XG4gICAgICAgIG9wdHMubG9hZEVycm9yID0gbG9hZEVycm9yO1xuICAgIH1cbiAgICAkKHNlbGVjdG9yKS5mYW5jeXRyZWUob3B0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50RWxlbShlbGVtKSB7XG4gICAgdmFyIG15d2luZG93ID0gd2luZG93Lm9wZW4oJycsICdQUklOVCcpO1xuXG4gICAgbXl3aW5kb3cuZG9jdW1lbnQud3JpdGUoJzxodG1sPjxoZWFkPjx0aXRsZT4nICsgZG9jdW1lbnQudGl0bGUgKyAnPC90aXRsZT4nKTtcbiAgICBteXdpbmRvdy5kb2N1bWVudC53cml0ZSgnPC9oZWFkPjxib2R5ID4nKTtcblxuICAgIG15d2luZG93LmRvY3VtZW50LndyaXRlKGVsZW0uaHRtbCgpKTtcbiAgICBteXdpbmRvdy5kb2N1bWVudC53cml0ZSgnPC9ib2R5PjwvaHRtbD4nKTtcblxuICAgIG15d2luZG93LnByaW50KCk7XG4gICAgbXl3aW5kb3cuY2xvc2UoKTtcblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4kLmZuLmNhcGl0YWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL2l0ZXJhdGUgdGhyb3VnaCBlYWNoIG9mIHRoZSBlbGVtZW50cyBwYXNzZWQgaW4sIGAkLmVhY2goKWAgaXMgZmFzdGVyIHRoYW4gYC5lYWNoKClcbiAgICAkLmVhY2godGhpcywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vc3BsaXQgdGhlIHZhbHVlIG9mIHRoaXMgaW5wdXQgYnkgdGhlIHNwYWNlc1xuICAgICAgICB2YXIgc3BsaXQgPSB0aGlzLnZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgLy9pdGVyYXRlIHRocm91Z2ggZWFjaCBvZiB0aGUgXCJ3b3Jkc1wiIGFuZCBjYXBpdGFsaXplIHRoZW1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNwbGl0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBzcGxpdFtpXSA9IHNwbGl0W2ldLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3BsaXRbaV0uc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vcmUtam9pbiB0aGUgc3RyaW5nIGFuZCBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgIHRoaXMudmFsdWUgPSBzcGxpdC5qb2luKCcgJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBhZGRPcHRpb24oc2VsZWN0SWQsIG9iamVjdCkge1xuICAgICQoJyMnICsgc2VsZWN0SWQpLmFwcGVuZCgkKFwiPG9wdGlvbj48L29wdGlvbj5cIikuYXR0cihcInZhbHVlXCIsIG9iamVjdC5pZCkudGV4dChvYmplY3QubmFtZSkpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gcmVuZGVyRmlsZXMoZmlsZXMpIHtcbiAgICBmaWxlcy5mb3JFYWNoKHJlbmRlckZpbGUpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJGaWxlKGZpbGUpIHtcbiAgICB2YXIgcGF0aCA9IGRlY29kZVVSSShmaWxlLnBhdGgpO1xuXG4gICAgdmFyIGZpbGVuYW1lID0gcGF0aC5yZXBsYWNlKC9eLipbXFxcXFxcL10vLCAnJyk7XG5cbiAgICB2YXIgc3JjID0gcGF0aDtcbiAgICBpZiAoIWZpbGVuYW1lLm1hdGNoKC8uKGpwZ3xqcGVnfHBuZ3xnaWYpJC9pKSkge1xuICAgICAgICBzcmMgPSAnL2ltYWdlL2Rvd25sb2FkLnBuZyc7XG4gICAgfVxuXG4gICAgdmFyIGZpbGUgPSAkKCc8ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj4nICsgJzxmaWd1cmUgY2xhc3M9XCJpbWctdGh1bWJuYWlsIHJvdy1jb2xcIj4nICsgJzxkaXYgY2xhc3M9XCJpbWctem9vbS1idG4gdGV4dC1jZW50ZXJcIj48aSBjbGFzcz1cImZhIGZhLXNlYXJjaC1wbHVzXCI+PC9pPjwvZGl2PicgKyAnPGltZyBzcmM9XCInICsgc3JjICsgJ1wiIGNsYXNzPVwiaW1nIGltZy1yZXNwb25zaXZlXCI+JyArICc8ZmlnY2FwdGlvbiBjbGFzcz1cInRleHQtY2VudGVyXCI+JyArICc8c3Bhbj4nICsgZmlsZW5hbWUgKyAnPC9zcGFuPicgKyAnPGEgaHJlZj1cIicgKyBcIi90aW1ldGFibGUvZGVsZXRlLWZpbGU/aWQ9XCIgKyBmaWxlLmlkICsgJ1wiIGNsYXNzPVwianMtZGVsZXRlLWZpbGUgcHVsbC1yaWdodFwiPicgKyAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoXCI+PC9zcGFuPicgKyAnPC9hPicgKyAnPGEgaHJlZj1cIicgKyBwYXRoICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiIGNsYXNzPVwicHVsbC1yaWdodFwiPicgKyAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWRvd25sb2FkXCI+PC9zcGFuPicgKyAnPC9hPicgKyAnPC9maWdjYXB0aW9uPicgKyAnPC9maWd1cmU+JyArICc8L2Rpdj4nKTtcbiAgICBhZGRGaWxlTGlzdGVuZXIoZmlsZSk7XG4gICAgJCgnLm9yZGVyLWZpbGVzJykuYXBwZW5kKGZpbGUpO1xufVxuXG5mdW5jdGlvbiBhZGRGaWxlTGlzdGVuZXIoZmlsZSkge1xuICAgIGZpbGUuZmluZCgnLmpzLWRlbGV0ZS1maWxlJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjb25maXJtTWVzc2FnZShcItCS0Ysg0YPQstC10YDQtdC90YssINGH0YLQviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0YTQsNC50Ls/XCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVGaWxlKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmaWxlLmZpbmQoJ2ltZycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzcmMgPSAkKHRoaXMpLmF0dHIoJ3NyYycpO1xuICAgICAgICAkKCcjZnVsbHNjcmVlbiBpbWcnKS5hdHRyKCdzcmMnLCBzcmMpO1xuICAgICAgICAkKCcjZnVsbHNjcmVlbicpLmZhZGVJbigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRGaWxlc0xpc3RlbmVyKCkge1xuICAgICQoJy5qcy1kZWxldGUtZmlsZScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY29uZmlybU1lc3NhZ2UoXCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGE0LDQudC7P1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlRmlsZShfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZWxldGVGaWxlKGVsZW1lbnQpIHtcbiAgICAkLmdldCh7XG4gICAgICAgIHVybDogZWxlbWVudC5ocmVmLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICQoZWxlbWVudCkuY2xvc2VzdCgnLmNvbC1zbS00JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAkLmpHcm93bChyZXNwb25zZS5tZXNzYWdlLCB7IGdyb3VwOiAnZmxhc2hfbm90aWNlJyB9KTtcbiAgICAgICAgfVxuICAgIH0pLmZhaWwoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICQuakdyb3dsKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDRhNCw0LnQu9CwXCIsIHsgZ3JvdXA6ICdmbGFzaF9lcnJvcicgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRmlsZXMoKSB7XG4gICAgJCgnI2ZpbGVzJykuZmluZCgnaW5wdXRbbmFtZT1maWxlXScpLmZpbGVpbnB1dCgnY2xlYXInKTtcbiAgICAkKFwiLm9yZGVyLWZpbGVzXCIpLmh0bWwoJycpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZpc2l0cyA9IFtdO1xuICAgIHZhciBzYXZlZFRlZXRoID0gW107XG4gICAgdmFyIGN1cnJlbnRWaXNpdCA9IG51bGw7XG4gICAgdmFyIHNlbGVjdGVkVGVldGggPSBbXTtcbiAgICB2YXIgRElBR05PU0lTX01PQklMSVRZID0gODtcbiAgICB2YXIgYWJicmV2aWF0aW9ucyA9ICQoJy5vcmRlci10b290aCcpLmRhdGEoJ2FiYnJldmlhdGlvbnMnKTtcbiAgICB2YXIgY29sb3JzID0gJCgnLm9yZGVyLXRvb3RoJykuZGF0YSgnY29sb3JzJyk7XG5cbiAgICB3aW5kb3cubG9hZE1lZENhcmRzID0gZnVuY3Rpb24gKGNvbXBhbnlfY3VzdG9tZXJfaWQpIHtcbiAgICAgICAgJC5nZXRKU09OKGFwaV9ob3N0ICsgJy92Mi9vcmRlcicsIHtcbiAgICAgICAgICAgIGNvbXBhbnlfY3VzdG9tZXJfaWQ6IGNvbXBhbnlfY3VzdG9tZXJfaWQsXG4gICAgICAgICAgICAnYWNjZXNzLXRva2VuJzogdXNlcl90b2tlbixcbiAgICAgICAgICAgIGV4cGFuZDogJ21lZENhcmQsc3RhZmYsY3VzdG9tZXIsc3RhZmZfcG9zaXRpb24nLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogZmFsc2VcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChrZXksIHZpc2l0KSB7XG4gICAgICAgICAgICAgICAgdmlzaXRzW3Zpc2l0LmlkXSA9IHZpc2l0O1xuICAgICAgICAgICAgICAgICQoJyNtZWQtZXhhbXMgdGJvZHknKS5hcHBlbmQocmVuZGVyVmlzaXQodmlzaXQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWRkRXhhbUxpc3RlbmVycygpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVuZGVyVmlzaXQodmlzaXQpIHtcbiAgICAgICAgdmFyIGJ1dHRvbkxhYmVsID0gJ9Ch0L7Qt9C00LDRgtGMINC00L3QtdCy0L3QuNC6JztcbiAgICAgICAgaWYgKGlzTWVkQ2FyZENyZWF0ZWQodmlzaXQpKSB7XG4gICAgICAgICAgICBidXR0b25MYWJlbCA9ICfQntGC0LrRgNGL0YLRjCDQtNC90LXQstC90LjQuic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ1xcbiAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgPHRkPicgKyBtb21lbnQodmlzaXQuZGF0ZXRpbWUpLmZvcm1hdCgnREQgTU1NTSBZWVlZIEhIOm1tJykgKyAnPC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkPicgKyB2aXNpdC5zdGFmZl9wb3NpdGlvbiArICc8L3RkPlxcbiAgICAgICAgICAgICAgICA8dGQ+JyArIHZpc2l0LnN0YWZmLmZ1bGxuYW1lICsgJzwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD48YSBjbGFzcz1cImpzLW9wZW4tbWVkLWV4YW1cIiBocmVmPVwiI1wiIGRhdGEtdmlzaXQtaWQ9XCInICsgdmlzaXQuaWQgKyAnXCI+JyArIGJ1dHRvbkxhYmVsICsgJzwvYT48L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRQcmV2aW91c0NyZWF0ZWRNZWRFeGFtKHZpc2l0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNNZWRDYXJkQ3JlYXRlZChpdGVtKSAmJiBpdGVtLmRhdGV0aW1lIDwgdmlzaXQuZGF0ZXRpbWU7XG4gICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJldkl0ZW0sIGN1ckl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2SXRlbSAmJiBwcmV2SXRlbS5kYXRldGltZSA+IGN1ckl0ZW0uZGF0ZXRpbWUgPyBwcmV2SXRlbSA6IGN1ckl0ZW07XG4gICAgICAgIH0sIHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkRXhhbUxpc3RlbmVycygpIHtcbiAgICAgICAgJChcIi5qcy1vcGVuLW1lZC1leGFtXCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgdmlzaXRfaWQgPSAkKGUudGFyZ2V0KS5kYXRhKCd2aXNpdC1pZCcpO1xuICAgICAgICAgICAgY3VycmVudFZpc2l0ID0gdmlzaXRzW3Zpc2l0X2lkXTtcbiAgICAgICAgICAgIHZhciB0YWJzID0gW107XG4gICAgICAgICAgICB2YXIgdGVldGggPSBbXTtcbiAgICAgICAgICAgIHZhciBjb21tZW50cyA9IFtdO1xuICAgICAgICAgICAgdmFyIGNoaWxkVGVldGggPSBbXTtcbiAgICAgICAgICAgIHZhciBpc0NvbXBsZXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoIWlzTWVkQ2FyZENyZWF0ZWQoY3VycmVudFZpc2l0KSkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1Zpc2l0ID0gZmluZFByZXZpb3VzQ3JlYXRlZE1lZEV4YW0oY3VycmVudFZpc2l0KTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNWaXNpdCkge1xuICAgICAgICAgICAgICAgICAgICB0ZWV0aCA9IHByZXZpb3VzVmlzaXQubWVkQ2FyZC50YWJzLm1hcChmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFiLnRlZXRoO1xuICAgICAgICAgICAgICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGZsYXQsIHRvRmxhdHRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZsYXQuY29uY2F0KHRvRmxhdHRlbik7XG4gICAgICAgICAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRUZWV0aCA9IHByZXZpb3VzVmlzaXQubWVkQ2FyZC50YWJzLm1hcChmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFiLmNoaWxkVGVldGg7XG4gICAgICAgICAgICAgICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoZmxhdCwgdG9GbGF0dGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmxhdC5jb25jYXQodG9GbGF0dGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0YWJzID0gcHJldmlvdXNWaXNpdC5tZWRDYXJkLnRhYnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZWV0aCA9IGN1cnJlbnRWaXNpdC5tZWRDYXJkLnRhYnMubWFwKGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYi50ZWV0aDtcbiAgICAgICAgICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGZsYXQsIHRvRmxhdHRlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmxhdC5jb25jYXQodG9GbGF0dGVuKTtcbiAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgY2hpbGRUZWV0aCA9IGN1cnJlbnRWaXNpdC5tZWRDYXJkLnRhYnMubWFwKGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYi5jaGlsZFRlZXRoO1xuICAgICAgICAgICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoZmxhdCwgdG9GbGF0dGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbGF0LmNvbmNhdCh0b0ZsYXR0ZW4pO1xuICAgICAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgICAgICB0YWJzID0gY3VycmVudFZpc2l0Lm1lZENhcmQudGFicztcbiAgICAgICAgICAgICAgICBzYXZlZFRlZXRoID0gdGVldGgubWFwKGZ1bmN0aW9uICh0b290aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vdGgudGVldGhfbnVtO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxlY3RUZWV0aCh0ZWV0aCk7XG4gICAgICAgICAgICBpZiAoY2hpbGRUZWV0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlQ2hpbGRUZWV0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyVGFicyh0YWJzKTtcblxuICAgICAgICAgICAgJChcIiNtZWRjYXJkLW1vZGFsXCIpLnNob3coXCJtb2RhbFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VNZWRjYXJkKCkge1xuICAgICAgICAvLyBjbG9zZSBtZWRjYXJkXG4gICAgICAgICQoXCIjbWVkY2FyZC1tb2RhbFwiKS5oaWRlKFwibW9kYWxcIik7XG4gICAgICAgIC8vIHJlc2V0IHNlbGVjdGVkIHRlZXRoXG4gICAgICAgICQoJy5zZWxlY3RlZC10ZWV0aCcpLnRleHQoXCJcIik7XG4gICAgICAgIC8vIGVtcHR5IHRlZXRoIHRhYmxlXG4gICAgICAgICQoJy5tZWRjYXJkLXRhYnMgPiB0Ym9keScpLmh0bWwoXCJcIik7XG4gICAgICAgIC8vIHJlc2V0IGN1cnJlbnQgdmlzaXQgYW5kIHVuc2VsZWN0IHRlZXRoXG4gICAgICAgIGN1cnJlbnRWaXNpdCA9IG51bGw7XG4gICAgICAgIHVuc2VsZWN0VGVldGgoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01lZENhcmRDcmVhdGVkKHZpc2l0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdC5tZWRDYXJkO1xuICAgIH1cblxuICAgIHdpbmRvdy5jbGVhck1lZENhcmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2aXNpdHMgPSBbXTtcbiAgICAgICAgJCgnI21lZC1leGFtcyA+IHRib2R5JykuaHRtbCgnJyk7XG4gICAgfTtcblxuICAgICQoJy5qcy1jbG9zZS1tZWRjYXJkJykuY2xpY2soY2xvc2VNZWRjYXJkKTtcblxuICAgICQoJy5qcy1wcmludC1tZWRjYXJkJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAkKCcucHJpbnQtZGl2aXNpb24tbG9nbycpLmhpZGUoKTtcbiAgICAgICAgJCgnI3ByaW50LWRpdmlzaW9uLWxvZ28tJyArIGN1cnJlbnRWaXNpdC5kaXZpc2lvbl9pZCkuc2hvdygpO1xuXG4gICAgICAgIHZhciBwYWdlX2hlYWRlciA9ICQoJyNqcy1wcmludC1oZWFkZXInKS5odG1sKCk7XG4gICAgICAgIGlmIChpc01lZENhcmRDcmVhdGVkKGN1cnJlbnRWaXNpdCkpIHtcbiAgICAgICAgICAgIHZhciBwaG9uZSA9IGNvbXBhbnlfcGhvbmUgPT0gJycgPyAnJyA6ICdcXHUwNDIyXFx1MDQzNVxcdTA0M0JcXHUwNDM1XFx1MDQ0NFxcdTA0M0VcXHUwNDNEOiA8Yj4nICsgY29tcGFueV9waG9uZSArICc8L2I+JztcbiAgICAgICAgICAgIHZhciBjdXN0b21lcl9waG9uZSA9IGN1cnJlbnRWaXNpdC5jdXN0b21lci5waG9uZSA9PSAnJyA/ICcnIDogJ1xcdTA0MjJcXHUwNDM1XFx1MDQzQlxcdTA0MzVcXHUwNDQ0XFx1MDQzRVxcdTA0M0Q6IDxiPicgKyBjdXJyZW50VmlzaXQuY3VzdG9tZXIucGhvbmUgKyAnPC9iPic7XG4gICAgICAgICAgICBjdXN0b21lcl9waG9uZSA9ICcnO1xuXG4gICAgICAgICAgICB2YXIgY29udGVudCA9ICc8ZGl2IHN0eWxlPVxcJ3dpZHRoOiA3MDBweDsgbWFyZ2luOiAwIGF1dG87XFwnPlxcbiAgICAgICAgICAgICAgICA8dGFibGUgd2lkdGg9XFwnMTAwJVxcJz5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBhbGlnbj1cImNlbnRlclwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICsgcGFnZV9oZWFkZXIgKyAnXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCIgYWxpZ249XFwncmlnaHRcXCc+XFx1MDQxNFxcdTA0MzBcXHUwNDQyXFx1MDQzMCBcXHUwNDNGXFx1MDQ0MFxcdTA0MzhcXHUwNDM1XFx1MDQzQ1xcdTA0MzA6IDxiPicgKyBtb21lbnQoY3VycmVudFZpc2l0LmRhdGV0aW1lKS5mb3JtYXQoJ0REIE1NTU0gWVlZWSBISDptbScpICsgJzwvYj48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XFx1MDQxRlxcdTA0MzBcXHUwNDQ2XFx1MDQzOFxcdTA0MzVcXHUwNDNEXFx1MDQ0MjogPGI+JyArIGN1cnJlbnRWaXNpdC5jdXN0b21lci5mdWxsbmFtZSArICc8L2I+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgYWxpZ249XFwncmlnaHRcXCc+XFx1MDQxMlxcdTA0NDBcXHUwNDMwXFx1MDQ0NzogPGI+JyArIGN1cnJlbnRWaXNpdC5zdGFmZi5mdWxsbmFtZSArICc8L2I+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPicgKyBjdXN0b21lcl9waG9uZSArICc8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBhbGlnbj1cXCdyaWdodFxcJz4nICsgcGhvbmUgKyAnPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgIDwvdGFibGU+XFxuICAgICAgICAgICAgICAgIDxicj5cXG4gICAgICAgICAgICAgICAgPGgzIGFsaWduPVxcJ0NFTlRFUlxcJz48c3Ryb25nPlxcdTA0MTRcXHUwNDNEXFx1MDQzNVxcdTA0MzJcXHUwNDNEXFx1MDQzOFxcdTA0M0EgXFx1MDQzOFxcdTA0NDFcXHUwNDQyXFx1MDQzRVxcdTA0NDBcXHUwNDM4XFx1MDQzOCBcXHUwNDMxXFx1MDQzRVxcdTA0M0JcXHUwNDM1XFx1MDQzN1xcdTA0M0RcXHUwNDM4IFxcdTIxMTYgJyArIGN1cnJlbnRWaXNpdC5tZWRDYXJkLm51bWJlciArICc8L3N0cm9uZz48L2gzPlxcbiAgICAgICAgICAgICc7XG4gICAgICAgICAgICBjb250ZW50ICs9IGdldFByaW50VGVldGhTZWN0aW9uKCk7XG4gICAgICAgICAgICBjb250ZW50ICs9IGdldFByaW50Q29tbWVudHNTZWN0aW9uKCk7XG4gICAgICAgICAgICBjb250ZW50ICs9IGdldFByaW50U2VydmljZXNTZWN0aW9uKCk7XG4gICAgICAgICAgICBjb250ZW50ICs9IGdldFByaW50Rm9vdGVyKGN1cnJlbnRWaXNpdCk7XG4gICAgICAgICAgICBjb250ZW50ICs9IFwiPC90YWJsZT48L2Rpdj5cIjtcblxuICAgICAgICAgICAgcHJpbnRFbGVtKCQoY29udGVudCkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBnZXRQcmludFRlZXRoU2VjdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gWzE4LCAyMSwgNTUsIDYxLCA0OCwgMzEsIDg1LCA3MV07XG4gICAgICAgIHZhciBlbmQgPSBbMTEsIDI4LCA1MSwgNjUsIDQxLCAzOCwgODEsIDc1XTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gWzE4LCA1NSwgNDgsIDg1XTtcbiAgICAgICAgdmFyIG91dHB1dCA9IFwiXCI7XG5cbiAgICAgICAgdmFyIHRlZXRoID0gY3VycmVudFZpc2l0Lm1lZENhcmQudGFicy5tYXAoZnVuY3Rpb24gKHRhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRhYi50ZWV0aDtcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChmbGF0LCB0b0ZsYXR0ZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmbGF0LmNvbmNhdCh0b0ZsYXR0ZW4pO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHZhciBjaGlsZF90ZWV0aCA9IHRlZXRoLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldElzQ2hpbGRUb290aChpdGVtLnRlZXRoX251bSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQuZWFjaCgkKCcudGVldGgtdmlldyAub3JkZXItdG9vdGgtaW1nJyksIGZ1bmN0aW9uIChpbmQsIGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciB0b290aE51bWJlciA9IHBhcnNlSW50KGl0ZW0uZ2V0QXR0cmlidXRlKCdjbGFzcycpLnJlcGxhY2UoL1teXFxkXSovLCAnJykpO1xuXG4gICAgICAgICAgICB2YXIgaXNDaGlsZFRvb3RoID0gZ2V0SXNDaGlsZFRvb3RoKHRvb3RoTnVtYmVyKTtcbiAgICAgICAgICAgIGlmICghaXNDaGlsZFRvb3RoIHx8IGlzQ2hpbGRUb290aCAmJiBjaGlsZF90ZWV0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvb3RoID0gdGVldGguZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50ZWV0aF9udW0gPT0gdG9vdGhOdW1iZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGRpYWdub3NpcyA9IHRvb3RoID8gdG9vdGguZGlhZ25vc2lzX2lkIDogbnVsbDtcblxuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGNvbG9yc1tkaWFnbm9zaXNdO1xuICAgICAgICAgICAgICAgIHZhciBhYmJyZXZpYXRpb24gPSBnZXRBYmJyZXZpYXRpb24oZGlhZ25vc2lzKSB8fCAnJm5ic3A7JztcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydC5pbmRleE9mKHRvb3RoTnVtYmVyKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0QWxpZ24gPSAndGV4dC1hbGlnbjogbGVmdDsnO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHQuaW5kZXhPZih0b290aE51bWJlcikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ3RleHQtYWxpZ246IHJpZ2h0Oyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IHN0eWxlPVwid2lkdGg6IDUwJTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBwYWRkaW5nOiA0cHggMTBweDsgJyArIHRleHRBbGlnbiArICdcIj4nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dHB1dCArPSByZW5kZXJQcmludFRvb3RoKHRvb3RoTnVtYmVyLCBhYmJyZXZpYXRpb24sIGNvbG9yKTtcblxuICAgICAgICAgICAgICAgIGlmIChlbmQuaW5kZXhPZih0b290aE51bWJlcikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlclByaW50VG9vdGgodG9vdGhOdW1iZXIsIGFiYnJldmlhdGlvbiwgY29sb3IpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICc8ZGl2IHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrOyBoZWlnaHQ6IDQ1cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgd2lkdGg6IDM1cHg7IHZlcnRpY2FsLWFsaWduOiB0b3A7XCI+JztcblxuICAgICAgICBpZiAodG9vdGhOdW1iZXIgPCAyOSB8fCB0b290aE51bWJlciA+PSA1MSAmJiB0b290aE51bWJlciA8PSA2NSkge1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogMTNweDtcIj4nICsgdG9vdGhOdW1iZXIgKyAnPC9zcGFuPic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUb290aCBpbWFnZVxuICAgICAgICBvdXRwdXQgKz0gJzxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogJyArIGNvbG9yICsgJztkaXNwbGF5OiBpbmxpbmUtYmxvY2s7LXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3Q6IGV4YWN0O1wiPicgKyAnPGltZyBzcmM9XCIvaW1hZ2UvdGVldGgucG5nXCIgaGVpZ2h0PVwiMzVcIiB3aWR0aD1cIjM1XCIgLz48L3NwYW4+JztcbiAgICAgICAgdmFyIGltYWdlX3N0eWxlID0gJ21hcmdpbi10b3A6IC0xM3B4OyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IDEycHg7IHRvcDogLTE2cHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgZGlzcGxheTogYmxvY2s7JztcbiAgICAgICAgb3V0cHV0ICs9ICc8c3BhbiBzdHlsZT1cIicgKyBpbWFnZV9zdHlsZSArICdcIj4nICsgYWJicmV2aWF0aW9uICsgJzwvc3Bhbj4nO1xuICAgICAgICBpZiAodG9vdGhOdW1iZXIgPiA3MCB8fCB0b290aE51bWJlciA+PSAzMSAmJiB0b290aE51bWJlciA8PSA0OCkge1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogMTNweDtcIj4nICsgdG9vdGhOdW1iZXIgKyAnPC9zcGFuPic7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ICs9IFwiPC9kaXY+XCI7XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJc0NoaWxkVG9vdGgodG9vdGhfbnVtYmVyKSB7XG4gICAgICAgIHZhciBjaGlsZF9yYW5nZXMgPSBbWzU1LCA1MV0sIFs2NSwgNjFdLCBbODUsIDgxXSwgWzc1LCA3MV1dO1xuXG4gICAgICAgIHJldHVybiBjaGlsZF9yYW5nZXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIHJhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0IHx8IHJhbmdlWzBdID49IHRvb3RoX251bWJlciAmJiByYW5nZVsxXSA8PSB0b290aF9udW1iZXI7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcmludEZvb3RlcihjdXJyZW50VmlzaXQpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICcnO1xuICAgICAgICBvdXRwdXQgKz0gJzx0YWJsZSBzdHlsZT1cImZsb2F0OiByaWdodDsgcGFkZGluZy10b3A6IDIwcHhcIj48dHI+JyArICc8dGQgYWxpZ249XCJyaWdodFwiPicgKyBjdXJyZW50VmlzaXQuc3RhZmYuZnVsbG5hbWUgKyAnPC90ZD4nICsgJzwvdHI+PHRyPicgKyAnPHRkIHN0eWxlPVwiYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDA7IHBhZGRpbmctdG9wOiAyMHB4XCI+PC90ZD4nICsgJzwvdHI+PC90YWJsZT4nO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFByaW50U2VydmljZXNTZWN0aW9uKCkge1xuICAgICAgICB2YXIgc2VydmljZXMgPSBjdXJyZW50VmlzaXQubWVkQ2FyZC50YWJzLm1hcChmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFiLnNlcnZpY2VzO1xuICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGZsYXQsIHRvRmxhdHRlbikge1xuICAgICAgICAgICAgcmV0dXJuIGZsYXQuY29uY2F0KHRvRmxhdHRlbik7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgICAgIGlmIChzZXJ2aWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSAnPGg0IGFsaWduPVwiY2VudGVyXCI+PHN0cm9uZz7Qo9GB0LvRg9Cz0Lg8L3N0cm9uZz48L2g0Pic7XG4gICAgICAgICAgICBvdXRwdXQgKz0gJzx0YWJsZSBib3JkZXI9XCIxXCIgd2lkdGg9XCIxMDAlXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2VsbHBhZGRpbmc9XCIxMFwiPic7XG4gICAgICAgICAgICBvdXRwdXQgKz0gJzx0cj4nO1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8dGg+0J3QsNC30LLQsNC90LjQtTwvdGg+JztcbiAgICAgICAgICAgIG91dHB1dCArPSAnPHRoPtCa0L7Qu9C40YfQtdGB0YLQstC+PC90aD4nO1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8dGg+0KHQutC40LTQutCwLCAlPC90aD4nO1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8dGg+0JjRgtC+0LPQviDQt9CwINGD0YHQu9GD0LPRgywg0YLQsy48L3RoPic7XG4gICAgICAgICAgICBvdXRwdXQgKz0gJzwvdHI+JztcbiAgICAgICAgICAgIG91dHB1dCArPSBzZXJ2aWNlcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZJdGVtLCBjdXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9ICc8dHI+JztcbiAgICAgICAgICAgICAgICByb3cgKz0gJzx0ZD4nICsgY3VySXRlbS5kaXZpc2lvbl9zZXJ2aWNlX25hbWUgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgIHJvdyArPSAnPHRkIGFsaWduPVwiY2VudGVyXCI+JyArIGN1ckl0ZW0ucXVhbnRpdHkgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgIHJvdyArPSAnPHRkIGFsaWduPVwiY2VudGVyXCI+JyArIGN1ckl0ZW0uZGlzY291bnQgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgIHJvdyArPSAnPHRkIGFsaWduPVwiY2VudGVyXCI+JyArIGN1ckl0ZW0ucHJpY2UgKyAnPC90ZD4nO1xuICAgICAgICAgICAgICAgIHJvdyArPSAnPC90cj4nO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2SXRlbSArIHJvdztcbiAgICAgICAgICAgIH0sIFwiXCIpO1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8L3RhYmxlPjxici8+JztcblxuICAgICAgICAgICAgdmFyIHRvdGFsID0gc2VydmljZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2SXRlbSwgY3VySXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2SXRlbSArIE51bWJlcihjdXJJdGVtLnByaWNlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgb3V0cHV0ICs9ICc8c3Ryb25nPtCY0YLQvtCz0L46ICcgKyB0b3RhbCArICcg0YLQsy48L3N0cm9uZz4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UHJpbnRDb21tZW50c1NlY3Rpb24oKSB7XG4gICAgICAgIHZhciBibG9ja3MgPSBbXTtcbiAgICAgICAgdmFyIGNvbW1lbnRzID0gY3VycmVudFZpc2l0Lm1lZENhcmQudGFicy5tYXAoZnVuY3Rpb24gKHRhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRhYi5jb21tZW50cztcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChmbGF0LCB0b0ZsYXR0ZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmbGF0LmNvbmNhdCh0b0ZsYXR0ZW4pO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgY29tbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoY29tbWVudCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBibG9ja3NbY29tbWVudC5jYXRlZ29yeV9pZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgYmxvY2tzW2NvbW1lbnQuY2F0ZWdvcnlfaWRdICs9IFwiIFwiICsgY29tbWVudC5jb21tZW50ICsgXCI7XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJsb2Nrc1tjb21tZW50LmNhdGVnb3J5X2lkXSA9IGNvbW1lbnQuY29tbWVudCArIFwiO1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYmxvY2tzLnJlZHVjZShmdW5jdGlvbiAocHJldkl0ZW0sIGN1ckl0ZW0sIGNhdGVnb3J5X2lkKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSAkKCcjY29tbWVudC1oZWFkaW5nLScgKyBjYXRlZ29yeV9pZCArICcgYScpLnRleHQoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gY3VySXRlbS5yZXBsYWNlKC9eWzAtOSwgOjtdKi8sICcnKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0ID09ICcnID8gcHJldkl0ZW0gOiBwcmV2SXRlbSArICgnPHA+PHN0cm9uZz4nICsgdGl0bGUgKyAnPC9zdHJvbmc+PC9wPjxwPicgKyBjdXJJdGVtICsgJzwvcD4nKTtcbiAgICAgICAgfSwgXCJcIik7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiByZW5kZXJUYWJzKHRhYnMpIHtcbiAgICAgICAgJCgnLm1lZGNhcmQtdGFicyA+IHRib2R5JykuaHRtbCh0YWJzLnJlZHVjZShmdW5jdGlvbiAocHJldkl0ZW0sIGN1ckl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2SXRlbSArIHJlbmRlclRhYihjdXJJdGVtKTtcbiAgICAgICAgfSwgXCJcIikpO1xuICAgICAgICBhZGRNZWRDYXJkVGFiTGlzdGVuZXJzKCcubWVkY2FyZC10YWJzID4gdGJvZHknKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJUYWIodGFiKSB7XG4gICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgIGlmICh0YWIudGVldGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZGF0YS5wdXNoKCdcXHUwNDE0XFx1MDQzNVxcdTA0NDJcXHUwNDMwXFx1MDQzQlxcdTA0Mzg6ICcgKyB0YWIudGVldGgubWFwKGZ1bmN0aW9uICh0b290aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b290aC50ZWV0aF9udW07XG4gICAgICAgICAgICB9KS5qb2luKCcsICcpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFiLnNlcnZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRhdGEucHVzaCgnXFx1MDQyM1xcdTA0NDFcXHUwNDNCXFx1MDQ0M1xcdTA0MzNcXHUwNDM4OiAnICsgdGFiLnNlcnZpY2VzLm1hcChmdW5jdGlvbiAoc2VydmljZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmRpdmlzaW9uX3NlcnZpY2VfbmFtZTtcbiAgICAgICAgICAgIH0pLmpvaW4oJywgJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICc8dHIgZGF0YS10YWItaWQ9XCInICsgdGFiLmlkICsgJ1wiPlxcbiAgICAgICAgICAgIDx0ZD5cXG4gICAgICAgICAgICAgICAgJyArIGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSkuam9pbignPGhyLz4nKSArICdcXG4gICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtcmlnaHRcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cXCdqcy1lZGl0LW1lZGNhcmQtdGFiXFwnIGRhdGEtdGFiLWlkPVwiJyArIHRhYi5pZCArICdcIj48aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XFwnanMtZGVsZXRlLW1lZGNhcmQtdGFiXFwnIGRhdGEtdGFiLWlkPVwiJyArIHRhYi5pZCArICdcIj48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCI+PC9pPjwvYT5cXG4gICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgPC90cj4nO1xuICAgIH1cblxuICAgICQoJy5qcy1jcmVhdGUtbWVkY2FyZC10YWInKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKCcudGVldGgtZm9ybSAub3JkZXItdG9vdGgtaW1nJykuaHRtbCgnPGltZyBzcmM9XCIvaW1hZ2UvdGVldGgucG5nXCIgd2lkdGg9XCIzNVwiIGhlaWdodD1cIjM1XCIvPicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcbiAgICAgICAgJCgnLmpzLXNhdmUtbWVkY2FyZC10YWInKS5yZW1vdmVEYXRhKCd0YWItaWQnKTtcbiAgICAgICAgJCgnI21lZGNhcmQtdGFiLW1vZGFsJykuZmluZCgnLm1vZGFsLXRpdGxlJykudGV4dCgn0J3QvtCy0LDRjyDQvtCx0LvQsNGB0YLRjCcpO1xuICAgICAgICBoaWRlRm9ybVRlZXRoKHNhdmVkVGVldGgpO1xuICAgICAgICBzaG93TWVkQ2FyZFRhYigpO1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLXRlZXRoLWhpc3RvcnknKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgdGVldGggPSAkKHRoaXMpLmRhdGEoJ3RlZXRoJyk7XG4gICAgICAgICQoJyNqcy10ZWV0aC1udW1iZXInKS5odG1sKHRlZXRoKTtcbiAgICAgICAgdmFyIGNvbXBhbnlfY3VzdG9tZXJfaWQgPSAkKCcub3JkZXItdG9vdGgtaW1nLScgKyB0ZWV0aCkuZGF0YSgnY29tcGFueV9jdXN0b21lcl9pZCcpO1xuXG4gICAgICAgIGlmIChjb21wYW55X2N1c3RvbWVyX2lkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICQuZ2V0SlNPTignL21lZC1jYXJkL2RlZmF1bHQvaGlzdG9yeScsIHtcbiAgICAgICAgICAgICAgICB0ZWV0aDogdGVldGgsXG4gICAgICAgICAgICAgICAgY29tcGFueV9jdXN0b21lcl9pZDogY29tcGFueV9jdXN0b21lcl9pZFxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJyNtZWRjYXJkLXRlZXRoLWhpc3RvcnknKS5maW5kKCcubW9kYWwtYm9keScpLmh0bWwoZ2V0SGlzdG9yeVRhYmxlKGRhdGEpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI21lZGNhcmQtdGVldGgtaGlzdG9yeScpLmZpbmQoJy5tb2RhbC1ib2R5JykuaHRtbChnZXRIaXN0b3J5VGFibGUoW10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNtZWRjYXJkLW1vZGFsJykuaGlkZSgnbW9kYWwnKTtcbiAgICAgICAgJChcIiNtZWRjYXJkLXRlZXRoLWhpc3RvcnlcIikuc2hvdyhcIm1vZGFsXCIpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0SGlzdG9yeVRhYmxlKGRhdGEpIHtcbiAgICAgICAgdmFyIGhpc3RvcnkgPSAnPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj4nICsgJyAgICA8dHI+JyArICcgICAgICAgIDx0aD7QktGA0LXQvNGPPC90aD4nICsgJyAgICAgICAgPHRoPtCh0L7RgtGA0YPQtNC90LjQujwvdGg+JyArICcgICAgICAgIDx0aD7QlNC40LDQs9C90L7QtzwvdGg+JyArICcgICAgPC90cj4nO1xuXG4gICAgICAgIGlmICghJC5pc0FycmF5KGRhdGEpIHx8ICFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgaGlzdG9yeSArPSAnICAgIDx0cj4nICsgJyAgICAgICAgPHRkIGNvbHNwYW49XCIzXCIgYWxpZ249XCJjZW50ZXJcIj7QndC10YIg0LjQt9C80LXQvdC10L3QuNC4PC90ZD4nICsgJyAgICA8L3RyPic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBtb21lbnQoaW5mby5kYXRldGltZSkuZm9ybWF0KCdERCBNTU1NIFlZWVkgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICBoaXN0b3J5ICs9ICcgICAgPHRyPicgKyAnICAgICAgICA8dGQ+JyArIGRhdGV0aW1lICsgJzwvdGQ+JyArICcgICAgICAgIDx0ZD4nICsgaW5mby5zdGFmZl9uYW1lICsgJzwvdGQ+JyArICcgICAgICAgIDx0ZD4nICsgaW5mby5kaWFnbm9zaXNfbmFtZSArICc8L3RkPicgKyAnICAgIDwvdHI+JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlzdG9yeSArPSAnPC90YWJsZT4nO1xuICAgICAgICByZXR1cm4gaGlzdG9yeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93TWVkQ2FyZFRhYigpIHtcbiAgICAgICAgJCgnI21lZGNhcmQtbW9kYWwnKS5oaWRlKCdtb2RhbCcpO1xuICAgICAgICAkKFwiI21lZGNhcmQtdGFiLW1vZGFsXCIpLnNob3coXCJtb2RhbFwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlRm9ybVRlZXRoKHRlZXRoKSB7XG4gICAgICAgIHRlZXRoLmZvckVhY2goZnVuY3Rpb24gKHRvb3RoTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgdGVldGhGb3JtID0gJCgnLnRlZXRoLWZvcm0nKTtcbiAgICAgICAgICAgIHZhciB0b290aFdyYXBwZXIgPSB0ZWV0aEZvcm0uZmluZCgnLm9yZGVyLXRvb3RoLXdyYXBwZXItJyArIHRvb3RoTnVtYmVyKTtcbiAgICAgICAgICAgIHRvb3RoV3JhcHBlci5maW5kKCcudG9vdGgtbnVtYmVyJykuaGlkZSgpO1xuICAgICAgICAgICAgdG9vdGhXcmFwcGVyLmZpbmQoJy5vcmRlci10b290aC1pbWcnKS5oaWRlKCk7XG4gICAgICAgICAgICB0b290aFdyYXBwZXIuZmluZCgnOmlucHV0W25hbWVePVwiTWVkQ2FyZFt0ZWV0aF1bJyArIHRvb3RoTnVtYmVyICsgJ11cIl0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93Rm9ybVRlZXRoKCkge1xuICAgICAgICAkKCcudGVldGgtZm9ybSAub3JkZXItdG9vdGgtd3JhcHBlciAub3JkZXItdG9vdGgtaW1nJykuc2hvdygpO1xuICAgICAgICAkKCcudGVldGgtZm9ybSAub3JkZXItdG9vdGgtd3JhcHBlciAudG9vdGgtbnVtYmVyJykuc2hvdygpO1xuICAgICAgICAkKCcudGVldGgtZm9ybSAub3JkZXItdG9vdGgtd3JhcHBlciA6aW5wdXQnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAkKCcuanMtc2F2ZS1tZWRjYXJkLXRhYicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0YWJfaWQgPSAkKCcuanMtc2F2ZS1tZWRjYXJkLXRhYicpLmRhdGEoJ3RhYi1pZCcpO1xuICAgICAgICBpZiAodGFiX2lkKSB7XG4gICAgICAgICAgICBlZGl0TWVkQ2FyZFRhYih0YWJfaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlTWVkQ2FyZFRhYigpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuanMtY2xvc2UtdGVldGgtaGlzdG9yeScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnI21lZGNhcmQtdGVldGgtaGlzdG9yeScpLmhpZGUoJ21vZGFsJyk7XG4gICAgICAgICQoJyNtZWRjYXJkLXRlZXRoLWhpc3RvcnknKS5maW5kKCcubW9kYWwtYm9keScpLmh0bWwoJycpO1xuICAgICAgICAkKCcjbWVkY2FyZC1tb2RhbCcpLnNob3coJ21vZGFsJyk7XG4gICAgfSk7XG5cbiAgICAkKCcuanMtY2xvc2UtbWVkY2FyZC10YWInKS5jbGljayhjbG9zZU1lZENhcmRUYWIpO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlTWVkQ2FyZFRhYigpIHtcbiAgICAgICAgJC5wb3N0KHtcbiAgICAgICAgICAgIHVybDogJy9tZWQtY2FyZC9kZWZhdWx0L2NyZWF0ZT9vcmRlcl9pZD0nICsgY3VycmVudFZpc2l0LmlkLFxuICAgICAgICAgICAgZGF0YTogJCgnI21lZGNhcmQtdGFiLWZvcm0nKS5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcnMgJiYgcmVzcG9uc2UuZXJyb3JzLnRlZXRoKSB7XG4gICAgICAgICAgICAgICAgJC5qR3Jvd2wocmVzcG9uc2UuZXJyb3JzLnRlZXRoLCB7IGdyb3VwOiAnZmxhc2hfYWxlcnQnIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmpHcm93bChcItCj0YHQv9C10YjQvdC+INGB0L7RhdGA0LDQvdC10L3QvlwiLCB7IGdyb3VwOiAnZmxhc2hfbm90aWNlJyB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIG5ldyBtZWRjYXJkIGFzc2lnbiBtZWRjYXJkIHRvIGN1cnJlbnQgdmlzaXQob3JkZXIpIGFuZCBpbml0aWFsaXplIHRhYnNcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRWaXNpdC5tZWRDYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWaXNpdC5tZWRDYXJkID0gcmVzcG9uc2UubWVkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZpc2l0Lm1lZENhcmQudGFicyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmpzLW9wZW4tbWVkLWV4YW1bZGF0YS12aXNpdC1pZD1cIiArIGN1cnJlbnRWaXNpdC5pZCArIFwiXVwiKS50ZXh0KFwi0J7RgtC60YDRi9GC0Ywg0LTQvdC10LLQvdC40LpcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudFZpc2l0Lm1lZENhcmQudGFicy5wdXNoKHJlc3BvbnNlLnRhYik7XG5cbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgdGFiXG4gICAgICAgICAgICAgICAgJCgnLm1lZGNhcmQtdGFicyA+IHRib2R5JykuYXBwZW5kKHJlbmRlclRhYihyZXNwb25zZS50YWIsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGNsaWNrIGVkaXQgYnV0dG9uIGhhbmRsZXJcbiAgICAgICAgICAgICAgICBhZGRNZWRDYXJkVGFiTGlzdGVuZXJzKCcubWVkY2FyZC10YWJzID4gdGJvZHkgPiB0cjpsYXN0Jyk7XG5cbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHNhdmVkIHRlZXRoXG4gICAgICAgICAgICAgICAgc2F2ZWRUZWV0aCA9IHNhdmVkVGVldGguY29uY2F0KHJlc3BvbnNlLnRhYi50ZWV0aC5tYXAoZnVuY3Rpb24gKHRvb3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b290aC50ZWV0aF9udW07XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgbWVkY2FyZCBtb2RhbCB3aW5kb3dcbiAgICAgICAgICAgICAgICBjbG9zZU1lZENhcmRUYWIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkLmpHcm93bChcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INGB0L7RhdGA0LDQvdC10L3QuNC4XCIsIHsgZ3JvdXA6ICdmbGFzaF9hbGVydCcgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRNZWRDYXJkVGFiKGlkKSB7XG4gICAgICAgICQucG9zdCh7XG4gICAgICAgICAgICB1cmw6ICcvbWVkLWNhcmQvZGVmYXVsdC91cGRhdGU/dGFiX2lkPScgKyBpZCxcbiAgICAgICAgICAgIGRhdGE6ICQoJyNtZWRjYXJkLXRhYi1mb3JtJykuc2VyaWFsaXplKCksXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JzICYmIHJlc3BvbnNlLmVycm9ycy50ZWV0aCkge1xuICAgICAgICAgICAgICAgICQuakdyb3dsKHJlc3BvbnNlLmVycm9ycy50ZWV0aCwgeyBncm91cDogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5qR3Jvd2woXCLQo9GB0L/QtdGI0L3QviDRgdC+0YXRgNCw0L3QtdC90L5cIiwgeyBncm91cDogJ2ZsYXNoX25vdGljZScgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFiID0gY3VycmVudFZpc2l0Lm1lZENhcmQudGFicy5maW5kKGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYi5pZCA9PSBpZDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHJlZnJlc2ggc2F2ZSB0ZWV0aCwgZmlyc3QgZGVsZXRlIG9sZCB0YWIgdGVldGgsIHRoZW4gYWRkIG5ld1xuICAgICAgICAgICAgICAgIHZhciB0ZWV0aCA9IHRhYi50ZWV0aC5tYXAoZnVuY3Rpb24gKHRvb3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b290aC50ZWV0aF9udW07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2F2ZWRUZWV0aCA9IHNhdmVkVGVldGguZmlsdGVyKGZ1bmN0aW9uICh0b290aE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISh0ZWV0aC5pbmRleE9mKHRvb3RoTnVtYmVyKSA+IC0xKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzYXZlZFRlZXRoID0gc2F2ZWRUZWV0aC5jb25jYXQocmVzcG9uc2UudGFiLnRlZXRoLm1hcChmdW5jdGlvbiAodG9vdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb3RoLnRlZXRoX251bTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHRhYiBjb21tZW50c1xuICAgICAgICAgICAgICAgIHRhYi5kaWFnbm9zaXNfaWQgPSByZXNwb25zZS50YWIuZGlhZ25vc2lzX2lkO1xuICAgICAgICAgICAgICAgIHRhYi5kaWFnbm9zaXMgPSByZXNwb25zZS50YWIuZGlhZ25vc2lzO1xuICAgICAgICAgICAgICAgIHRhYi5jb21tZW50cyA9IHJlc3BvbnNlLnRhYi5jb21tZW50cztcbiAgICAgICAgICAgICAgICB0YWIudGVldGggPSByZXNwb25zZS50YWIudGVldGg7XG4gICAgICAgICAgICAgICAgdGFiLmNoaWxkVGVldGggPSByZXNwb25zZS50YWIuY2hpbGRUZWV0aDtcbiAgICAgICAgICAgICAgICB0YWIuc2VydmljZXMgPSByZXNwb25zZS50YWIuc2VydmljZXM7XG5cbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHRhYiB0aXRsZVxuICAgICAgICAgICAgICAgICQoJy5tZWRjYXJkLXRhYnMgPiB0Ym9keSB0cltkYXRhLXRhYi1pZD0nICsgdGFiLmlkICsgJ10nKS5maW5kKCd0ZDpmaXJzdCcpLnRleHQodGFiLnRlZXRoLm1hcChmdW5jdGlvbiAodG9vdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb3RoLnRlZXRoX251bTtcbiAgICAgICAgICAgICAgICB9KS5qb2luKCcsJykpO1xuXG4gICAgICAgICAgICAgICAgY2xvc2VNZWRDYXJkVGFiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJC5qR3Jvd2woXCLQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDRgdC+0YXRgNCw0L3QtdC90LjQuFwiLCB7IGdyb3VwOiAnZmxhc2hfYWxlcnQnIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxldGVNZWRDYXJkVGFiKGlkKSB7XG4gICAgICAgICQucG9zdCh7XG4gICAgICAgICAgICB1cmw6ICcvbWVkLWNhcmQvZGVmYXVsdC9kZWxldGU/dGFiX2lkPScgKyBpZCxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIHJlZnJlc2ggdGFic1xuICAgICAgICAgICAgdmFyIGRlbGV0ZWRUYWIgPSBjdXJyZW50VmlzaXQubWVkQ2FyZC50YWJzLmZpbmQoZnVuY3Rpb24gKHRhYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWIuaWQgPT0gaWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB0YWJzID0gY3VycmVudFZpc2l0Lm1lZENhcmQudGFicy5maWx0ZXIoZnVuY3Rpb24gKHRhYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWIuaWQgIT0gaWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRWaXNpdC5tZWRDYXJkLnRhYnMgPSB0YWJzO1xuXG4gICAgICAgICAgICAvLyByZWZyZXNoIHNhdmVkIHRlZXRoXG4gICAgICAgICAgICB2YXIgdGVldGggPSBkZWxldGVkVGFiLnRlZXRoLm1hcChmdW5jdGlvbiAodG9vdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vdGgudGVldGhfbnVtO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzYXZlZFRlZXRoID0gc2F2ZWRUZWV0aC5maWx0ZXIoZnVuY3Rpb24gKHRvb3RoTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEodGVldGguaW5kZXhPZih0b290aE51bWJlcikgPiAtMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcmVmcmVzaCB0ZWV0aCBjYXJkXG4gICAgICAgICAgICB0ZWV0aC5mb3JFYWNoKGZ1bmN0aW9uICh0b290aE51bWJlcikge1xuICAgICAgICAgICAgICAgICQoJy5vcmRlci10b290aC1pbWctJyArIHRvb3RoTnVtYmVyKS5odG1sKCc8aW1nIHNyYz1cIi9pbWFnZS90ZWV0aC5wbmdcIiB3aWR0aD1cIjM1XCIgaGVpZ2h0PVwiMzVcIi8+JykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycpLmRhdGEoJ2NvbXBhbnlfY3VzdG9tZXJfaWQnLCAnJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRhYiByb3dcbiAgICAgICAgICAgICQoJy5tZWRjYXJkLXRhYnMgPiB0Ym9keSB0cltkYXRhLXRhYi1pZD0nICsgaWQgKyAnXScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJC5qR3Jvd2woXCLQo9GB0L/QtdGI0L3QviDRg9C00LDQu9C10L3QvlwiLCB7IGdyb3VwOiAnZmxhc2hfbm90aWNlJyB9KTtcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkLmpHcm93bChcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40LhcIiwgeyBncm91cDogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0RGlhZ25vc2lzKHRhYikge1xuICAgICAgICB2YXIgZGlhZ25vc2VzTGlzdCA9ICQoJyNqcy1kaWFnbm9zZXMtbGlzdCcpO1xuICAgICAgICBpZiAodGFiLmRpYWdub3Npc19pZCkge1xuICAgICAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZSwgY3JlYXRpbmcgYSBuZXcgb3B0aW9uIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgaWYgKCFkaWFnbm9zZXNMaXN0LmZpbmQoXCJvcHRpb25bdmFsdWU9J1wiICsgdGFiLmRpYWdub3Npc19pZCArIFwiJ11cIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBcIihcIiArIHRhYi5kaWFnbm9zaXMuY29kZSArIFwiKSBcIiArIHRhYi5kaWFnbm9zaXMubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3T3B0aW9uID0gbmV3IE9wdGlvbih0ZXh0LCB0YWIuZGlhZ25vc2lzX2lkLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBkaWFnbm9zZXNMaXN0LmFwcGVuZChuZXdPcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlhZ25vc2VzTGlzdC52YWwodGFiLmRpYWdub3Npc19pZCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaWFnbm9zZXNMaXN0LnZhbChcIlwiKS50cmlnZ2VyKCdjaGFuZ2Uuc2VsZWN0MicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTWVkQ2FyZFRhYkxpc3RlbmVycyhzZWxlY3Rvcikge1xuICAgICAgICAkKHNlbGVjdG9yKS5maW5kKFwiLmpzLWVkaXQtbWVkY2FyZC10YWJcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0YWJfaWQgPSAkKHRoaXMpLmRhdGEoJ3RhYi1pZCcpO1xuXG4gICAgICAgICAgICAkKCcuanMtc2F2ZS1tZWRjYXJkLXRhYicpLmRhdGEoJ3RhYi1pZCcsIHRhYl9pZCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50VmlzaXQubWVkQ2FyZCkge1xuICAgICAgICAgICAgICAgIHZhciB0YWIgPSBjdXJyZW50VmlzaXQubWVkQ2FyZC50YWJzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gdGFiX2lkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciB0ZWV0aE51bWJlcnMgPSB0YWIudGVldGgubWFwKGZ1bmN0aW9uICh0b290aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vdGgudGVldGhfbnVtO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIHNldCBtb2RhbCB0aXRsZVxuICAgICAgICAgICAgICAgICQoJyNtZWRjYXJkLXRhYi1tb2RhbCcpLmZpbmQoJy5tb2RhbC10aXRsZScpLnRleHQoJ9Ce0LHQu9Cw0YHRgtGMJyk7XG5cbiAgICAgICAgICAgICAgICBzZXREaWFnbm9zaXModGFiKTtcblxuICAgICAgICAgICAgICAgIGxvYWRUZWV0aCh0YWIudGVldGgpO1xuICAgICAgICAgICAgICAgIC8vIGxvYWQgY29tbWVudHNcbiAgICAgICAgICAgICAgICBsb2FkQ29tbWVudHModGFiLmNvbW1lbnRzKTtcblxuICAgICAgICAgICAgICAgIGlmICh0YWIuY2hpbGRUZWV0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUNoaWxkVGVldGgoJ3RlZXRoLWZvcm0nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJNZWRDYXJkU2VydmljZXModGFiLnNlcnZpY2VzKTtcblxuICAgICAgICAgICAgICAgIC8vIGhpZGUgc2F2ZWQgdGVldGggZXhjZXB0IHRlZXRoIGluIGN1cnJlbnQgdGFiXG4gICAgICAgICAgICAgICAgaGlkZUZvcm1UZWV0aChzYXZlZFRlZXRoLmZpbHRlcihmdW5jdGlvbiAodG9vdGhOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEodGVldGhOdW1iZXJzLmluZGV4T2YodG9vdGhOdW1iZXIpID4gLTEpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hvd01lZENhcmRUYWIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChzZWxlY3RvcikuZmluZChcIi5qcy1kZWxldGUtbWVkY2FyZC10YWJcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB0YWJfaWQgPSAkKHRoaXMpLmRhdGEoJ3RhYi1pZCcpO1xuICAgICAgICAgICAgY29uZmlybU1lc3NhZ2UoXCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINC00LDQvdC90YvQtT9cIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTWVkQ2FyZFRhYih0YWJfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZU1lZENhcmRUYWIoZSkge1xuICAgICAgICAkKFwiI21lZGNhcmQtdGFiLW1vZGFsXCIpLmhpZGUoXCJtb2RhbFwiKTtcbiAgICAgICAgJCgnI21lZGNhcmQtbW9kYWwnKS5zaG93KCdtb2RhbCcpO1xuICAgICAgICBzaG93Rm9ybVRlZXRoKCk7XG4gICAgICAgIHVuc2VsZWN0Rm9ybVRlZXRoKCk7XG4gICAgICAgICQoJy5jb21tZW50cy1mb3JtIC5wYW5lbC1jb2xsYXBzZS5jb2xsYXBzZScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgICAgICQoJy5vcmRlcl9jb21tZW50X2l0ZW0nKS52YWwoJycpO1xuICAgICAgICAkKCcjanMtZGlhZ25vc2VzLWxpc3QnKS52YWwoXCJcIikudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTtcblxuICAgICAgICAkKCcjbWVkX2NhcmRfc2VydmljZXNfdGFibGUnKS5odG1sKCcnKTtcbiAgICAgICAgJCgnI21lZF9jYXJkX3NlcnZpY2VzX3RhYmJlZF90YWJsZSB0Ym9keScpLmh0bWwoJycpO1xuICAgICAgICAkKCcjbWVkX2NhcmRfc2VydmljZXNfdGFiYmVkX3RhYmxlJykuaGlkZSgpO1xuICAgICAgICAkKCcjanMtbWVkLWNhcmQtYWRkLXNlcnZpY2UnKS5oaWRlKCk7XG4gICAgICAgICQoJy5maWVsZC1tZWRjYXJkLXNlcnZpY2VzIC5zZWxlY3QyJykuc2hvdygpO1xuICAgIH1cblxuICAgIC8vIFRlZXRoXG4gICAgZnVuY3Rpb24gc2VsZWN0VGVldGgoZGF0YSkge1xuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGtleSwgdG9vdGgpIHtcbiAgICAgICAgICAgIHNldFRvb3RoQ29sb3IodG9vdGguZGlhZ25vc2lzX2lkLCB0b290aC50ZWV0aF9udW0pO1xuICAgICAgICAgICAgdmFyIGFiYnJldmlhdGlvbiA9IGdldEFiYnJldmlhdGlvbih0b290aC5kaWFnbm9zaXNfaWQpO1xuICAgICAgICAgICAgaWYgKGFiYnJldmlhdGlvbikge1xuICAgICAgICAgICAgICAgIHNldFRvb3RoVGl0bGUodG9vdGgudGVldGhfbnVtLCAnPGltZyBzcmM9XCIvaW1hZ2UvdGVldGgucG5nXCIgd2lkdGg9XCIzNVwiIGhlaWdodD1cIjM1XCIvPjxzcGFuIGNsYXNzPVwidG9vdGgtbnVtYmVyIHRvb3RoLWFiYnJldmlhdGlvblwiPicgKyBhYmJyZXZpYXRpb24gKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VG9vdGhUYWIodG9vdGgudGVldGhfbnVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5zZWxlY3RUZWV0aCgpIHtcbiAgICAgICAgJCgnLm9yZGVyLXRvb3RoLWltZycpLmh0bWwoJzxpbWcgc3JjPVwiL2ltYWdlL3RlZXRoLnBuZ1wiIHdpZHRoPVwiMzVcIiBoZWlnaHQ9XCIzNVwiLz4nKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XG4gICAgICAgIGRpc2FibGVDaGlsZFRlZXRoKCd0ZWV0aC12aWV3Jyk7XG4gICAgICAgIHNhdmVkVGVldGggPSBbXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bnNlbGVjdEZvcm1UZWV0aCgpIHtcbiAgICAgICAgJCgnLnRlZXRoLWZvcm0gLm9yZGVyLXRvb3RoLWltZycpLmh0bWwoJzxpbWcgc3JjPVwiL2ltYWdlL3RlZXRoLnBuZ1wiIHdpZHRoPVwiMzVcIiBoZWlnaHQ9XCIzNVwiLz4nKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XG4gICAgICAgIGRpc2FibGVDaGlsZFRlZXRoKCd0ZWV0aC1mb3JtJyk7XG4gICAgICAgICQoJyNtZWRjYXJkLXRhYi1mb3JtJylbMF0ucmVzZXQoKTtcbiAgICAgICAgJCgnLm9yZGVyLW1vYmlsaXR5JykuaGlkZSgpO1xuICAgICAgICBzZWxlY3RlZFRlZXRoID0gW107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5hYmxlQ2hpbGRUZWV0aChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJ1dHRvbiA9ICQoJy4nICsgY29udGFpbmVyICsgJyAub3JkZXItdG9vdGgtY29udHJvbHMgYScpO1xuICAgICAgICBidXR0b24udGV4dChidXR0b24uZGF0YSgndGl0bGUtb2ZmJykpO1xuICAgICAgICBidXR0b24uZGF0YSgnZW5hYmxlZCcsIDEpO1xuICAgICAgICAkKCcuJyArIGNvbnRhaW5lciArIFwiIC5jaGlsZC10b290aC1yb3dcIikuc2hvdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc2FibGVDaGlsZFRlZXRoKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgYnV0dG9uID0gJCgnLicgKyBjb250YWluZXIgKyAnIC5vcmRlci10b290aC1jb250cm9scyBhJyk7XG4gICAgICAgIGJ1dHRvbi50ZXh0KGJ1dHRvbi5kYXRhKCd0aXRsZS1vbicpKTtcbiAgICAgICAgYnV0dG9uLmRhdGEoJ2VuYWJsZWQnLCAwKTtcbiAgICAgICAgJCgnLicgKyBjb250YWluZXIgKyBcIiAuY2hpbGQtdG9vdGgtcm93XCIpLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdG9vdGggY29sb3IgZGVwZW5kaW5nIG9mIGRpYWdub3Npc1xuICAgIGZ1bmN0aW9uIHNldFRvb3RoQ29sb3IoZGlhZ25vc2lzX2lkLCB0b290aE51bWJlcikge1xuICAgICAgICBpZiAoZGlhZ25vc2lzX2lkKSB7XG4gICAgICAgICAgICAkKCcub3JkZXItdG9vdGgtaW1nLScgKyB0b290aE51bWJlcikuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgY29sb3JzW2RpYWdub3Npc19pZF0pLmRhdGEoJ2NvbXBhbnlfY3VzdG9tZXJfaWQnLCBjdXJyZW50VmlzaXQuY29tcGFueV9jdXN0b21lcl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcub3JkZXItdG9vdGgtaW1nLScgKyB0b290aE51bWJlcikuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycpLmRhdGEoJ2NvbXBhbnlfY3VzdG9tZXJfaWQnLCBjdXJyZW50VmlzaXQuY29tcGFueV9jdXN0b21lcl9pZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRBYmJyZXZpYXRpb24oZGlhZ25vc2lzX2lkKSB7XG4gICAgICAgIGlmIChhYmJyZXZpYXRpb25zLmhhc093blByb3BlcnR5KGRpYWdub3Npc19pZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhYmJyZXZpYXRpb25zW2RpYWdub3Npc19pZF07XG4gICAgICAgIH0gZWxzZSBpZiAoZGlhZ25vc2lzX2lkID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAnWCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VG9vdGhUYWIodG9vdGhOdW1iZXIpIHtcbiAgICAgICAgJCgnLm9yZGVyLXRvb3RoLWltZy0nICsgdG9vdGhOdW1iZXIpLmRhdGEoJ2NvbXBhbnlfY3VzdG9tZXJfaWQnLCBjdXJyZW50VmlzaXQuY29tcGFueV9jdXN0b21lcl9pZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VG9vdGhUaXRsZSh0b290aE51bWJlciwgdGl0bGUpIHtcbiAgICAgICAgJCgnLm9yZGVyLXRvb3RoLWltZy0nICsgdG9vdGhOdW1iZXIpLmh0bWwodGl0bGUpO1xuICAgIH1cblxuICAgICQoJy5qcy1zZWxlY3QtdG9vdGgtZGlhZ25vc2lzJykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0b290aE51bWJlciA9IHBhcnNlSW50KGUudGFyZ2V0LmRhdGFzZXQudG9vdGgpO1xuICAgICAgICB2YXIgYWJicmV2aWF0aW9uID0gZ2V0QWJicmV2aWF0aW9uKGUudGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICAvLyBzZXQgYWJicmV2YXRpb25zXG4gICAgICAgIGlmIChhYmJyZXZpYXRpb24pIHtcbiAgICAgICAgICAgIHNldFRvb3RoVGl0bGUodG9vdGhOdW1iZXIsICc8aW1nIHNyYz1cIi9pbWFnZS90ZWV0aC5wbmdcIiB3aWR0aD1cIjM1XCIgaGVpZ2h0PVwiMzVcIi8+PHNwYW4gY2xhc3M9XCJ0b290aC1udW1iZXIgdG9vdGgtYWJicmV2aWF0aW9uXCI+JyArIGFiYnJldmlhdGlvbiArICc8L3NwYW4+Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUb290aFRpdGxlKHRvb3RoTnVtYmVyLCAnPGltZyBzcmM9XCIvaW1hZ2UvdGVldGgucG5nXCIgd2lkdGg9XCIzNVwiIGhlaWdodD1cIjM1XCIvPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdyBvciBoaWRlIG1vYmlsaXR5IGlucHV0XG4gICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PSBESUFHTk9TSVNfTU9CSUxJVFkpIHtcbiAgICAgICAgICAgICQoJy50b290aC1tb2JpbGl0eVtuYW1lPVwiTWVkQ2FyZFt0ZWV0aF1bJyArIHRvb3RoTnVtYmVyICsgJ11bbW9iaWxpdHldXCJdJykuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLnRvb3RoLW1vYmlsaXR5W25hbWU9XCJNZWRDYXJkW3RlZXRoXVsnICsgdG9vdGhOdW1iZXIgKyAnXVttb2JpbGl0eV1cIl0nKS5oaWRlKCk7XG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5wb3BvdmVyJykucG9wb3ZlclgoJ2hpZGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBiYWNrZ3JvdW5kIGltYWdlXG4gICAgICAgIHNldFRvb3RoQ29sb3IoZS50YXJnZXQudmFsdWUsIHRvb3RoTnVtYmVyKTtcblxuICAgICAgICAvLyBzZXQgdGVldGggbGlzdCBpbiBjb21tZW50c1xuXG4gICAgICAgIHZhciBzZWFyY2ggPSBzZWxlY3RlZFRlZXRoLmpvaW4oJywgJykgKyAnOiAnO1xuICAgICAgICBpZiAoaXNOYU4ocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRUZWV0aCA9IHNlbGVjdGVkVGVldGguZmlsdGVyKGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICE9IHRvb3RoTnVtYmVyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRUZWV0aC5pbmRleE9mKHRvb3RoTnVtYmVyKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGVldGgucHVzaCh0b290aE51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcGxhY2VTdHIgPSBzZWxlY3RlZFRlZXRoLmpvaW4oJywgJykgKyAnOiAnO1xuXG4gICAgICAgICQuZWFjaCgkKCcub3JkZXJfY29tbWVudF9pdGVtJyksIGZ1bmN0aW9uIChpbmQsIGVsKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRleHQuc2VhcmNoKHNlYXJjaCkgPiAtMSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2Uoc2VhcmNoLCByZXBsYWNlU3RyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHJlcGxhY2VTdHIgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChlbCkudmFsKHRleHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoJy50b290aC1tb2JpbGl0eScpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgdG9vdGhOdW1iZXIgPSBlLnRhcmdldC5kYXRhc2V0LnRvb3RoO1xuICAgICAgICBpZiAoIWlzTmFOKGUudGFyZ2V0LnZhbHVlKSkge1xuICAgICAgICAgICAgc2V0VG9vdGhUaXRsZSh0b290aE51bWJlciwgJzxpbWcgc3JjPVwiL2ltYWdlL3RlZXRoLnBuZ1wiIHdpZHRoPVwiMzVcIiBoZWlnaHQ9XCIzNVwiLz48c3BhbiBjbGFzcz1cInRvb3RoLW51bWJlclwiPicgKyBlLnRhcmdldC52YWx1ZSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5wb3BvdmVyJykucG9wb3ZlclgoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLm9yZGVyLXRvb3RoLWNvbnRyb2xzIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBlbmFibGVkID0gJCh0aGlzKS5kYXRhKCdlbmFibGVkJyk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSAkKHRoaXMpLmRhdGEoJ2NvbnRhaW5lcicpO1xuICAgICAgICBpZiAoIXBhcnNlSW50KGVuYWJsZWQpKSB7XG4gICAgICAgICAgICBlbmFibGVDaGlsZFRlZXRoKGNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNhYmxlQ2hpbGRUZWV0aChjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBsb2FkVGVldGgodGVldGgpIHtcbiAgICAgICAgdGVldGguZm9yRWFjaChmdW5jdGlvbiAodG9vdGgsIGluZGV4KSB7XG4gICAgICAgICAgICAkKCcudGVldGgtZm9ybSAub3JkZXItdG9vdGgtd3JhcHBlci0nICsgdG9vdGgudGVldGhfbnVtICsgJyBzZWxlY3QnKS52YWwodG9vdGguZGlhZ25vc2lzX2lkKS5jaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZENvbW1lbnRzKGNvbW1lbnRzKSB7XG4gICAgICAgIGNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbW1lbnQsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoY29tbWVudC5jb21tZW50KSB7XG4gICAgICAgICAgICAgICAgJCgnI2NvbW1lbnQtY29sbGFwc2UtJyArIGNvbW1lbnQuY2F0ZWdvcnlfaWQpLmNvbGxhcHNlKCdzaG93Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNjb21tZW50LWNvbGxhcHNlLScgKyBjb21tZW50LmNhdGVnb3J5X2lkKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCgnI2pzLW9yZGVyX2NvbW1lbnRfJyArIGNvbW1lbnQuY2F0ZWdvcnlfaWQpLnZhbChjb21tZW50LmNvbW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAkLmZuLnRhYmxlSGVhZEZpeGVyID0gZnVuY3Rpb24gKHBhcmFtKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0YWJsZS5jYWxsKHRoaXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiB0YWJsZSgpIHtcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgVGhpcyBmdW5jdGlvbiBzb2x2ZXIgei1pbmRleCBwcm9ibGVtIGluIGNvcm5lciBjZWxsIHdoZXJlIGZpeCByb3cgYW5kIGNvbHVtbiBhdCB0aGUgc2FtZSB0aW1lLFxuICAgICAgICAgICAgICAgICBzZXQgY29ybmVyIGNlbGxzIHotaW5kZXggMSBtb3JlIHRoZW4gb3RoZXIgZml4ZWQgY2VsbHNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB2YXIgc2V0Q29ybmVyID0gZnVuY3Rpb24gc2V0Q29ybmVyKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSAkKHNldHRpbmdzLnRhYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmxlZnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGFibGUuZmluZChcInRoZWFkIHRyXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIuZWFjaChmdW5jdGlvbiAoaywgcm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvbHZlckxlZnRDb2xzcGFuKHJvdywgZnVuY3Rpb24gKGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoY2VsbCkuY3NzKFwiei1pbmRleFwiLCBzZXR0aW5nc1snei1pbmRleCddICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MucmlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGFibGUuZmluZChcInRoZWFkIHRyXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIuZWFjaChmdW5jdGlvbiAoaywgcm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvbHZlUmlnaHRDb2xzcGFuKHJvdywgZnVuY3Rpb24gKGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoY2VsbCkuY3NzKFwiei1pbmRleFwiLCBzZXR0aW5nc1snei1pbmRleCddICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmZvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5sZWZ0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ciA9IHRhYmxlLmZpbmQoXCJ0Zm9vdCB0clwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmVhY2goZnVuY3Rpb24gKGssIHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2x2ZXJMZWZ0Q29sc3Bhbihyb3csIGZ1bmN0aW9uIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGNlbGwpLmNzcyhcInotaW5kZXhcIiwgc2V0dGluZ3NbJ3otaW5kZXgnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MucmlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGFibGUuZmluZChcInRmb290IHRyXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIuZWFjaChmdW5jdGlvbiAoaywgcm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvbHZlUmlnaHRDb2xzcGFuKHJvdywgZnVuY3Rpb24gKGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoY2VsbCkuY3NzKFwiei1pbmRleFwiLCBzZXR0aW5nc1snei1pbmRleCddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHN0eWxlIG9mIHRhYmxlIHBhcmVudFxuXG5cbiAgICAgICAgICAgICAgICB2YXIgc2V0UGFyZW50ID0gZnVuY3Rpb24gc2V0UGFyZW50KCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gJChzZXR0aW5ncy5wYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSAkKHNldHRpbmdzLnRhYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kKHRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteCc6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5zY3JvbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFdpZHRoID0gcGFyZW50WzBdLnNjcm9sbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudFdpZHRoID0gcGFyZW50WzBdLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IHBhcmVudFswXS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gcGFyZW50WzBdLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSBwYXJlbnQuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHBhcmVudC5zY3JvbGxMZWZ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5oZWFkKSB0aGlzLmZpbmQoXCJ0aGVhZCB0ciA+ICpcIikuY3NzKFwidG9wXCIsIHRvcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5mb290KSB0aGlzLmZpbmQoXCJ0Zm9vdCB0ciA+ICpcIikuY3NzKFwiYm90dG9tXCIsIHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCAtIHRvcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5sZWZ0ID4gMCkgc2V0dGluZ3MubGVmdENvbHVtbnMuY3NzKFwibGVmdFwiLCBsZWZ0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnJpZ2h0ID4gMCkgc2V0dGluZ3MucmlnaHRDb2x1bW5zLmNzcyhcInJpZ2h0XCIsIHNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGggLSBsZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRhYmxlKSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCB0YWJsZSBoZWFkIGZpeGVkXG5cblxuICAgICAgICAgICAgICAgIHZhciBmaXhIZWFkID0gZnVuY3Rpb24gZml4SGVhZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZWFkID0gJChzZXR0aW5ncy50YWJsZSkuZmluZChcInRoZWFkXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHIgPSB0aGVhZC5maW5kKFwidHJcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZWxscyA9IHRoZWFkLmZpbmQoXCJ0ciA+ICpcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0QmFja2dyb3VuZChjZWxscyk7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxzLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGFibGUgZm9vdCBmaXhlZFxuXG5cbiAgICAgICAgICAgICAgICB2YXIgZml4Rm9vdCA9IGZ1bmN0aW9uIGZpeEZvb3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0Zm9vdCA9ICQoc2V0dGluZ3MudGFibGUpLmZpbmQoXCJ0Zm9vdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGZvb3QuZmluZChcInRyXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbHMgPSB0Zm9vdC5maW5kKFwidHIgPiAqXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldEJhY2tncm91bmQoY2VsbHMpO1xuICAgICAgICAgICAgICAgICAgICBjZWxscy5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ3JlbGF0aXZlJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRhYmxlIGxlZnQgY29sdW1uIGZpeGVkXG5cblxuICAgICAgICAgICAgICAgIHZhciBmaXhMZWZ0ID0gZnVuY3Rpb24gZml4TGVmdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gJChzZXR0aW5ncy50YWJsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGZpeENvbHVtbiA9IHNldHRpbmdzLmxlZnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MubGVmdENvbHVtbnMgPSAkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGFibGUuZmluZChcInRyXCIpO1xuICAgICAgICAgICAgICAgICAgICB0ci5lYWNoKGZ1bmN0aW9uIChrLCByb3cpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc29sdmVyTGVmdENvbHNwYW4ocm93LCBmdW5jdGlvbiAoY2VsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmxlZnRDb2x1bW5zID0gc2V0dGluZ3MubGVmdENvbHVtbnMuYWRkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgaW5jID0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yKHZhciBpID0gMTsgaSA8PSBmaXhDb2x1bW47IGkgPSBpICsgaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgdmFyIG50aCA9IGluYyA+IDEgPyBpIC0gMSA6IGk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICB2YXIgY2VsbCA9ICQocm93KS5maW5kKFwiKjpudGgtY2hpbGQoXCIgKyBudGggKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgdmFyIGNvbHNwYW4gPSBjZWxsLnByb3AoXCJjb2xzcGFuXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgc2V0dGluZ3MubGVmdENvbHVtbnMgPSBzZXR0aW5ncy5sZWZ0Q29sdW1ucy5hZGQoY2VsbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBpbmMgPSBjb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gc2V0dGluZ3MubGVmdENvbHVtbnM7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmVhY2goZnVuY3Rpb24gKGssIGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gJChjZWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QmFja2dyb3VuZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCB0YWJsZSByaWdodCBjb2x1bW4gZml4ZWRcblxuXG4gICAgICAgICAgICAgICAgdmFyIGZpeFJpZ2h0ID0gZnVuY3Rpb24gZml4UmlnaHQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9ICQoc2V0dGluZ3MudGFibGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhDb2x1bW4gPSBzZXR0aW5ncy5yaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5yaWdodENvbHVtbnMgPSAkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGFibGUuZmluZChcInRyXCIpO1xuICAgICAgICAgICAgICAgICAgICB0ci5lYWNoKGZ1bmN0aW9uIChrLCByb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvbHZlUmlnaHRDb2xzcGFuKHJvdywgZnVuY3Rpb24gKGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5yaWdodENvbHVtbnMgPSBzZXR0aW5ncy5yaWdodENvbHVtbnMuYWRkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBzZXR0aW5ncy5yaWdodENvbHVtbnM7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmVhY2goZnVuY3Rpb24gKGssIGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gJChjZWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QmFja2dyb3VuZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCBmaXhlZCBjZWxscyBiYWNrZ3JvdW5kc1xuXG5cbiAgICAgICAgICAgICAgICB2YXIgc2V0QmFja2dyb3VuZCA9IGZ1bmN0aW9uIHNldEJhY2tncm91bmQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoaywgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9ICQoZWxlbWVudCkucGFyZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50QmFja2dyb3VuZCA9IGVsZW1lbnQuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRCYWNrZ3JvdW5kID0gZWxlbWVudEJhY2tncm91bmQgPT0gXCJ0cmFuc3BhcmVudFwiIHx8IGVsZW1lbnRCYWNrZ3JvdW5kID09IFwicmdiYSgwLCAwLCAwLCAwKVwiID8gbnVsbCA6IGVsZW1lbnRCYWNrZ3JvdW5kO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50QmFja2dyb3VuZCA9IHBhcmVudC5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50QmFja2dyb3VuZCA9IHBhcmVudEJhY2tncm91bmQgPT0gXCJ0cmFuc3BhcmVudFwiIHx8IHBhcmVudEJhY2tncm91bmQgPT0gXCJyZ2JhKDAsIDAsIDAsIDApXCIgPyBudWxsIDogcGFyZW50QmFja2dyb3VuZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmQgPSBwYXJlbnRCYWNrZ3JvdW5kID8gcGFyZW50QmFja2dyb3VuZCA6IFwid2hpdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQgPSBlbGVtZW50QmFja2dyb3VuZCA/IGVsZW1lbnRCYWNrZ3JvdW5kIDogYmFja2dyb3VuZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGJhY2tncm91bmQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHNvbHZlckxlZnRDb2xzcGFuID0gZnVuY3Rpb24gc29sdmVyTGVmdENvbHNwYW4ocm93LCBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeENvbHVtbiA9IHNldHRpbmdzLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmMgPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGZpeENvbHVtbjsgaSA9IGkgKyBpbmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudGggPSBpbmMgPiAxID8gaSAtIDEgOiBpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbCA9ICQocm93KS5maW5kKFwiPiAqOm50aC1jaGlsZChcIiArIG50aCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xzcGFuID0gY2VsbC5wcm9wKFwiY29sc3BhblwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuY2VsbFBvcygpLmxlZnQgPCBmaXhDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24oY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluYyA9IGNvbHNwYW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHNvbHZlUmlnaHRDb2xzcGFuID0gZnVuY3Rpb24gc29sdmVSaWdodENvbHNwYW4ocm93LCBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeENvbHVtbiA9IHNldHRpbmdzLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5jID0gMTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBmaXhDb2x1bW47IGkgPSBpICsgaW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnRoID0gaW5jID4gMSA/IGkgLSAxIDogaTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGwgPSAkKHJvdykuZmluZChcIj4gKjpudGgtbGFzdC1jaGlsZChcIiArIG50aCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xzcGFuID0gY2VsbC5wcm9wKFwiY29sc3BhblwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uKGNlbGwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmMgPSBjb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZm9vdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6IDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBwYXJhbSk7XG5cbiAgICAgICAgICAgICAgICBzZXR0aW5ncy50YWJsZSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MucGFyZW50ID0gJChzZXR0aW5ncy50YWJsZSkucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgc2V0UGFyZW50KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuaGVhZCA9PSB0cnVlKSBmaXhIZWFkKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuZm9vdCA9PSB0cnVlKSBmaXhGb290KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MubGVmdCA+IDApIGZpeExlZnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5yaWdodCA+IDApIGZpeFJpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBzZXRDb3JuZXIoKTtcblxuICAgICAgICAgICAgICAgICQoc2V0dGluZ3MucGFyZW50KS50cmlnZ2VyKFwic2Nyb2xsXCIpO1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoc2V0dGluZ3MucGFyZW50KS50cmlnZ2VyKFwic2Nyb2xsXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKGpRdWVyeSk7XG5cbi8qICBjZWxsUG9zIGpRdWVyeSBwbHVnaW5cbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiBHZXQgdmlzdWFsIHBvc2l0aW9uIG9mIGNlbGwgaW4gSFRNTCB0YWJsZSAob3IgaXRzIGJsb2NrIGxpa2UgdGhlYWQpLlxuIFJldHVybiB2YWx1ZSBpcyBvYmplY3Qgd2l0aCBcInRvcFwiIGFuZCBcImxlZnRcIiBwcm9wZXJ0aWVzIHNldCB0byByb3cgYW5kIGNvbHVtbiBpbmRleCBvZiB0b3AtbGVmdCBjZWxsIGNvcm5lci5cbiBFeGFtcGxlIG9mIHVzZTpcbiAkKFwiI215VGFibGUgdGJvZHkgdGRcIikuZWFjaChmdW5jdGlvbigpe1xuICQodGhpcykudGV4dCggJCh0aGlzKS5jZWxsUG9zKCkudG9wICtcIiwgXCIrICQodGhpcykuY2VsbFBvcygpLmxlZnQgKTtcbiB9KTtcbiAqL1xuKGZ1bmN0aW9uICgkKSB7XG4gICAgLyogc2NhbiBpbmRpdmlkdWFsIHRhYmxlIGFuZCBzZXQgXCJjZWxsUG9zXCIgZGF0YSBpbiB0aGUgZm9ybSB7IGxlZnQ6IHgtY29vcmQsIHRvcDogeS1jb29yZCB9ICovXG4gICAgZnVuY3Rpb24gc2NhblRhYmxlKCR0YWJsZSkge1xuICAgICAgICB2YXIgbSA9IFtdO1xuICAgICAgICAkdGFibGUuY2hpbGRyZW4oXCJ0clwiKS5lYWNoKGZ1bmN0aW9uICh5LCByb3cpIHtcbiAgICAgICAgICAgICQocm93KS5jaGlsZHJlbihcInRkLCB0aFwiKS5lYWNoKGZ1bmN0aW9uICh4LCBjZWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyICRjZWxsID0gJChjZWxsKSxcbiAgICAgICAgICAgICAgICAgICAgY3NwYW4gPSAkY2VsbC5hdHRyKFwiY29sc3BhblwiKSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIHJzcGFuID0gJGNlbGwuYXR0cihcInJvd3NwYW5cIikgfCAwLFxuICAgICAgICAgICAgICAgICAgICB0eCxcbiAgICAgICAgICAgICAgICAgICAgdHk7XG4gICAgICAgICAgICAgICAgY3NwYW4gPSBjc3BhbiA/IGNzcGFuIDogMTtcbiAgICAgICAgICAgICAgICByc3BhbiA9IHJzcGFuID8gcnNwYW4gOiAxO1xuICAgICAgICAgICAgICAgIGZvciAoOyBtW3ldICYmIG1beV1beF07ICsreCkge30gLy9za2lwIGFscmVhZHkgb2NjdXBpZWQgY2VsbHMgaW4gY3VycmVudCByb3dcbiAgICAgICAgICAgICAgICBmb3IgKHR4ID0geDsgdHggPCB4ICsgY3NwYW47ICsrdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9tYXJrIG1hdHJpeCBlbGVtZW50cyBvY2N1cGllZCBieSBjdXJyZW50IGNlbGwgd2l0aCB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodHkgPSB5OyB0eSA8IHkgKyByc3BhbjsgKyt0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtW3R5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsbCBtaXNzaW5nIHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtW3R5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbVt0eV1bdHhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcG9zID0geyB0b3A6IHksIGxlZnQ6IHggfTtcbiAgICAgICAgICAgICAgICAkY2VsbC5kYXRhKFwiY2VsbFBvc1wiLCBwb3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKiBwbHVnaW4gKi9cbiAgICAkLmZuLmNlbGxQb3MgPSBmdW5jdGlvbiAocmVzY2FuKSB7XG4gICAgICAgIHZhciAkY2VsbCA9IHRoaXMuZmlyc3QoKSxcbiAgICAgICAgICAgIHBvcyA9ICRjZWxsLmRhdGEoXCJjZWxsUG9zXCIpO1xuICAgICAgICBpZiAoIXBvcyB8fCByZXNjYW4pIHtcbiAgICAgICAgICAgIHZhciAkdGFibGUgPSAkY2VsbC5jbG9zZXN0KFwidGFibGUsIHRoZWFkLCB0Ym9keSwgdGZvb3RcIik7XG4gICAgICAgICAgICBzY2FuVGFibGUoJHRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgPSAkY2VsbC5kYXRhKFwiY2VsbFBvc1wiKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9O1xufSkoalF1ZXJ5KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgJChcIiNzdGFmZi1zY2hlZHVsZS10YWJsZVwiKS50YWJsZUhlYWRGaXhlcih7ICdsZWZ0JzogMSB9KTtcblxuICAgIHZhciBjdXJFbGVtZW50ID0gZmFsc2U7XG4gICAgJChcIi53b3JrZGF0ZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1ckVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgc3RhcnQgPSBjdXJFbGVtZW50LmRhdGEoJ3N0YXJ0Jyk7XG4gICAgICAgIHZhciBlbmQgPSBjdXJFbGVtZW50LmRhdGEoJ2VuZCcpO1xuICAgICAgICB2YXIgYnJlYWtfc3RhcnQgPSBjdXJFbGVtZW50LmRhdGEoJ2JyZWFrX3N0YXJ0Jyk7XG4gICAgICAgIHZhciBicmVha19lbmQgPSBjdXJFbGVtZW50LmRhdGEoJ2JyZWFrX2VuZCcpO1xuXG4gICAgICAgICQoJ3NlbGVjdFtuYW1lPXN0YXJ0X2hvdXJdJykudmFsKHN0YXJ0LnNwbGl0KCc6JylbMF0pO1xuICAgICAgICAkKCdzZWxlY3RbbmFtZT1zdGFydF9taW51dGVdJykudmFsKHN0YXJ0LnNwbGl0KCc6JylbMV0pO1xuICAgICAgICAkKCdzZWxlY3RbbmFtZT1lbmRfaG91cl0nKS52YWwoZW5kLnNwbGl0KCc6JylbMF0pO1xuICAgICAgICAkKCdzZWxlY3RbbmFtZT1lbmRfbWludXRlXScpLnZhbChlbmQuc3BsaXQoJzonKVsxXSk7XG5cbiAgICAgICAgc2V0QnJlYWsoYnJlYWtfc3RhcnQsIGJyZWFrX2VuZCk7XG5cbiAgICAgICAgJCgnLmJ0bi1kZWxldGUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIGlmIChjdXJFbGVtZW50Lmhhc0NsYXNzKCdoYXNfc2NoZWR1bGUnKSkge1xuICAgICAgICAgICAgJCgnLmJ0bi1kZWxldGUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAkKCcjc2NoZWR1bGUtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkU2NoZWR1bGUoY3VyRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgYnRuU2F2ZSA9ICQoJy5idG4tc2F2ZScpO1xuICAgIHZhciBoYW5kbGVTYXZlID0gZnVuY3Rpb24gaGFuZGxlU2F2ZSgpIHtcbiAgICAgICAgaWYgKGN1ckVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9ICQoJ3NlbGVjdFtuYW1lPXN0YXJ0X2hvdXJdJykudmFsKCkgKyBcIjpcIiArICQoJ3NlbGVjdFtuYW1lPXN0YXJ0X21pbnV0ZV0nKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBlbmQgPSAkKCdzZWxlY3RbbmFtZT1lbmRfaG91cl0nKS52YWwoKSArIFwiOlwiICsgJCgnc2VsZWN0W25hbWU9ZW5kX21pbnV0ZV0nKS52YWwoKTtcblxuICAgICAgICAgICAgdmFyIGJyZWFrX3N0YXJ0X2hvdXIgPSAkKCdzZWxlY3RbbmFtZT1icmVha19zdGFydF9ob3VyXScpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGJyZWFrX3N0YXJ0X21pbnV0ZXMgPSAkKCdzZWxlY3RbbmFtZT1icmVha19zdGFydF9taW51dGVdJykudmFsKCk7XG4gICAgICAgICAgICB2YXIgYnJlYWtfZW5kX2hvdXIgPSAkKCdzZWxlY3RbbmFtZT1icmVha19lbmRfaG91cl0nKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBicmVha19lbmRfbWludXRlcyA9ICQoJ3NlbGVjdFtuYW1lPWJyZWFrX2VuZF9taW51dGVdJykudmFsKCk7XG5cbiAgICAgICAgICAgIHZhciBicmVha19zdGFydCA9IG51bGw7XG4gICAgICAgICAgICB2YXIgYnJlYWtfZW5kID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChicmVha19zdGFydF9ob3VyICYmIGJyZWFrX3N0YXJ0X21pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBicmVha19zdGFydCA9IGJyZWFrX3N0YXJ0X2hvdXIgKyBcIjpcIiArIGJyZWFrX3N0YXJ0X21pbnV0ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnJlYWtfZW5kX2hvdXIgJiYgYnJlYWtfZW5kX21pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBicmVha19lbmQgPSBicmVha19lbmRfaG91ciArIFwiOlwiICsgYnJlYWtfZW5kX21pbnV0ZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJyNzY2hlZHVsZS1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG5cbiAgICAgICAgICAgIGVkaXRTY2hlZHVsZShjdXJFbGVtZW50LCBzdGFydCwgZW5kLCBicmVha19zdGFydCwgYnJlYWtfZW5kKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGJ0bkRlbGV0ZSA9ICQoJy5idG4tZGVsZXRlJyk7XG4gICAgdmFyIGhhbmRsZURlbGV0ZSA9IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZSgpIHtcbiAgICAgICAgaWYgKGN1ckVsZW1lbnQpIHtcbiAgICAgICAgICAgICQoJyNzY2hlZHVsZS1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICBkZWxldGVTY2hlZHVsZShjdXJFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgYnRuU2F2ZS5jbGljayhoYW5kbGVTYXZlKTtcbiAgICBidG5EZWxldGUuY2xpY2soaGFuZGxlRGVsZXRlKTtcbn0pO1xuXG5mdW5jdGlvbiBzZXRTY2hlZHVsZShlbGVtZW50LCBtZXRob2QsIHVybCwgZGF0YSkge1xuICAgIGVsZW1lbnQuY2hpbGRyZW4oJy53b3JrZGF0ZS10aXRsZScpLmhpZGUoKTtcbiAgICBlbGVtZW50LmNoaWxkcmVuKCcuc3Bpbm5lcicpLnNob3coKTtcbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiBtZXRob2QsXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNoaWxkcmVuKCcuc3Bpbm5lcicpLmhpZGUoKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvciA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzX3NjaGVkdWxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YSgnc3RhcnQnLCBkYXRhLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhKCdlbmQnLCBkYXRhLmVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YSgnYnJlYWtfc3RhcnQnLCBkYXRhLmJyZWFrX3N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhKCdicmVha19lbmQnLCBkYXRhLmJyZWFrX2VuZCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJoYXNfc2NoZWR1bGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnLndvcmtkYXRlLXRpdGxlJykudGV4dChkYXRhLnN0YXJ0ICsgXCJcXG5cIiArIGRhdGEuZW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKFwiaGFzX3NjaGVkdWxlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKCdzZWxlY3RbbmFtZSo9YnJlYWtdJykudmFsKFwiXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5lcnJvciA9PT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ2hhc19zY2hlZHVsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnLndvcmtkYXRlLXRpdGxlJykudGV4dChlbGVtZW50LmRhdGEoJ3N0YXJ0JykgKyBcIlxcblwiICsgZWxlbWVudC5kYXRhKCdlbmQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5maW5kKCcud29ya2RhdGUtdGl0bGUnKS5zaG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihyZXNwb25zZSkge1xuICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbignLndvcmtkYXRlLXRpdGxlJykuc2hvdygpO1xuICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbignLnNwaW5uZXInKS5mYWRlT3V0KFwiZmFzdFwiKTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKHJlc3BvbnNlLnJlc3BvbnNlSlNPTi5tZXNzYWdlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEJyZWFrKGRhdGEuYnJlYWtfc3RhcnQsIGRhdGEuYnJlYWtfZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3NjaGVkdWxlLW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTY2hlZHVsZShlbGVtZW50KSB7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciB1cmwgPSAnYWRkJztcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgJ3N0YWZmX2lkJzogZWxlbWVudC5kYXRhKCdzdGFmZicpLFxuICAgICAgICAnZGl2aXNpb25faWQnOiBlbGVtZW50LmRhdGEoJ2RpdmlzaW9uJyksXG4gICAgICAgICdkYXRlJzogZWxlbWVudC5kYXRhKCdkYXRlJyksXG4gICAgICAgICdzdGFydCc6IGVsZW1lbnQuZGF0YSgnc3RhcnQnKSxcbiAgICAgICAgJ2VuZCc6IGVsZW1lbnQuZGF0YSgnZW5kJylcbiAgICB9O1xuICAgIHNldFNjaGVkdWxlKGVsZW1lbnQsIG1ldGhvZCwgdXJsLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gZWRpdFNjaGVkdWxlKGVsZW1lbnQsIHN0YXJ0LCBlbmQsIGJyZWFrX3N0YXJ0LCBicmVha19lbmQpIHtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIHVybCA9ICdlZGl0JztcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgJ3N0YWZmX2lkJzogZWxlbWVudC5kYXRhKCdzdGFmZicpLFxuICAgICAgICAnZGl2aXNpb25faWQnOiBlbGVtZW50LmRhdGEoJ2RpdmlzaW9uJyksXG4gICAgICAgICdkYXRlJzogZWxlbWVudC5kYXRhKCdkYXRlJyksXG4gICAgICAgICdzdGFydCc6IHN0YXJ0LFxuICAgICAgICAnZW5kJzogZW5kLFxuICAgICAgICAnYnJlYWtfc3RhcnQnOiBicmVha19zdGFydCxcbiAgICAgICAgJ2JyZWFrX2VuZCc6IGJyZWFrX2VuZFxuICAgIH07XG4gICAgc2V0U2NoZWR1bGUoZWxlbWVudCwgbWV0aG9kLCB1cmwsIGRhdGEpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVTY2hlZHVsZShlbGVtZW50KSB7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciB1cmwgPSAnZGVsZXRlJztcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgJ3N0YWZmX2lkJzogZWxlbWVudC5kYXRhKCdzdGFmZicpLFxuICAgICAgICAnZGl2aXNpb25faWQnOiBlbGVtZW50LmRhdGEoJ2RpdmlzaW9uJyksXG4gICAgICAgICdkYXRlJzogZWxlbWVudC5kYXRhKCdkYXRlJylcbiAgICB9O1xuICAgIGVsZW1lbnQuZmluZCgnLndvcmtkYXRlLXRpdGxlJykudGV4dChcIlwiKTtcbiAgICBzZXRTY2hlZHVsZShlbGVtZW50LCBtZXRob2QsIHVybCwgZGF0YSk7XG59XG5cbmZ1bmN0aW9uIHNldEJyZWFrKGJyZWFrX3N0YXJ0LCBicmVha19lbmQpIHtcbiAgICBpZiAoYnJlYWtfc3RhcnQpIHtcbiAgICAgICAgJCgnc2VsZWN0W25hbWU9YnJlYWtfc3RhcnRfaG91cl0nKS52YWwoYnJlYWtfc3RhcnQuc3BsaXQoJzonKVswXSk7XG4gICAgICAgICQoJ3NlbGVjdFtuYW1lPWJyZWFrX3N0YXJ0X21pbnV0ZV0nKS52YWwoYnJlYWtfc3RhcnQuc3BsaXQoJzonKVsxXSk7XG4gICAgfVxuXG4gICAgaWYgKGJyZWFrX2VuZCkge1xuICAgICAgICAkKCdzZWxlY3RbbmFtZT1icmVha19lbmRfaG91cl0nKS52YWwoYnJlYWtfZW5kLnNwbGl0KCc6JylbMF0pO1xuICAgICAgICAkKCdzZWxlY3RbbmFtZT1icmVha19lbmRfbWludXRlXScpLnZhbChicmVha19lbmQuc3BsaXQoJzonKVsxXSk7XG4gICAgfVxufVxuXG4kKCcjc2NoZWR1bGUtbW9kYWwnKS5vbihcImhpZGUuYnMubW9kYWxcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoJ3NlbGVjdFtuYW1lKj1icmVha10nKS52YWwoXCJcIik7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG4kKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFkZEV2ZW50VXJsID0gJy90aW1ldGFibGUvYWRkLWV2ZW50P2V4cGFuZD1kb2N1bWVudHMsZmlsZXMscHJvZHVjdHMsc2VydmljZXMscGF5bWVudHMsc3RhZmYsY29udGFjdEN1c3RvbWVycyx0aXRsZSxjdXN0b21lcic7XG4gIHZhciB1cGRhdGVFdmVudFVybCA9ICcvdGltZXRhYmxlL3VwZGF0ZS1ldmVudCc7XG4gIHZhciB1cGRhdGVFdmVudER1cmF0aW9uVXJsID0gJy90aW1ldGFibGUvdXBkYXRlLWV2ZW50LWR1cmF0aW9uJztcbiAgdmFyIHVwZGF0ZUV2ZW50RHJvcFVybCA9ICcvdGltZXRhYmxlL3VwZGF0ZS1ldmVudC1kcm9wJztcbiAgdmFyIGRlbGV0ZUV2ZW50VXJsID0gJy90aW1ldGFibGUvZGVsZXRlLWV2ZW50JztcbiAgdmFyIGxpc3RFdmVudHNVcmwgPSAnL3RpbWV0YWJsZS9ldmVudHM/ZXhwYW5kPWRvY3VtZW50cyxmaWxlcyxwcm9kdWN0cyxzZXJ2aWNlcyxwYXltZW50cyxzdGFmZixjb250YWN0Q3VzdG9tZXJzLHRpdGxlLGN1c3RvbWVyJztcbiAgdmFyIGxpc3RSZXNvdXJjZXNVcmwgPSAnL3RpbWV0YWJsZS9hY3RpdmUtc3RhZmYnO1xuICB2YXIgZXZlbnRIaXN0b3J5VXJsID0gJy90aW1ldGFibGUvaGlzdG9yeSc7XG4gIHZhciBldmVudENoZWNrb3V0VXJsID0gJy90aW1ldGFibGUvY2hlY2tvdXQtZXZlbnQnO1xuICB2YXIgZXZlbnRSZXR1cm5VcmwgPSAnL3RpbWV0YWJsZS9yZXR1cm4tZXZlbnQnO1xuICB2YXIgc2VhcmNoVXJsID0gJy90aW1ldGFibGUvc2VhcmNoJztcbiAgdmFyIGdlbmVyYXRlRG9jVXJsID0gJy9vcmRlci9kb2N1bWVudC9nZW5lcmF0ZSc7XG4gIHZhciB3b3JraW5nUGVyaW9kID0gJy90aW1ldGFibGUvd29ya2luZy1wZXJpb2QnO1xuICB2YXIgY3VzdG9tZXJJbmZvVXJsID0gJy9jdXN0b21lci9jdXN0b21lci9pbmZvP2V4cGFuZD1jYXRlZ29yaWVzLGRlYnQsZGVwb3NpdCxyZXZlbnVlLGNhbmNlbGVkT3JkZXJzLGZpbmlzaGVkT3JkZXJzLGxhc3RWaXNpdCxjYXRlZ29yaWVzX3RpdGxlLHNvdXJjZV9pZF90aXRsZSc7XG4gIHZhciBjdXN0b21lckVkaXRVcmwgPSAnL2N1c3RvbWVyL2N1c3RvbWVyL2VkaXQ/ZXhwYW5kPWNhdGVnb3JpZXMsZGVidCxkZXBvc2l0LHJldmVudWUsY2FuY2VsZWRPcmRlcnMsZmluaXNoZWRPcmRlcnMsbGFzdFZpc2l0LGNhdGVnb3JpZXNfdGl0bGUsc291cmNlX2lkX3RpdGxlJztcbiAgdmFyIGN1c3RvbWVyVmlzaXRzVXJsID0gJy9jdXN0b21lci9jdXN0b21lci92aXNpdHMnO1xuXG4gIHZhciBjYWxlbmRhckVsID0gJCgnI2NhbGVuZGFyJyk7XG4gIHZhciB0aW1ldGFibGVDYWxlbmRhciA9IGNhbGVuZGFyRWwuZmluZCgnI3RpbWV0YWJsZS1jYWxlbmRhcicpO1xuXG4gIGlmICh0aW1ldGFibGVDYWxlbmRhci5sZW5ndGgpIHtcbiAgICAvLyByZWZyZXNoUmVzb3VyY2VzQnlUaW1lb3V0KCk7XG5cbiAgICB2YXIgcmVuZGVyT3JkZXJCdXR0b25zID0gZnVuY3Rpb24gcmVuZGVyT3JkZXJCdXR0b25zKGV2ZW50KSB7XG4gICAgICAkKCcjZm9ybU1vZGFsIC5tb2RhbC1mb290ZXIgYnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAkKCcjZm9ybU1vZGFsIC5tb2RhbC1mb290ZXIgYnV0dG9uJykubm90KCcuc2F2ZS1vcmRlci1idXR0b24nKS5oaWRlKCk7XG5cbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgJCgnLnNhdmUtb3JkZXItYnV0dG9uJykudGV4dCgn0KHQvtC30LTQsNGC0Ywg0LfQsNC/0LjRgdGMJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcuc2F2ZS1vcmRlci1idXR0b24nKS50ZXh0KCfQodC+0YXRgNCw0L3QuNGC0YwnKTtcblxuICAgICAgICBpZiAoZXZlbnQuc3RhdHVzID09IFNUQVRVU19GSU5JU0hFRCkge1xuICAgICAgICAgICQoJy5zYXZlLW9yZGVyLWJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgJCgnLnJldHVybi1vcmRlci1idXR0b24nKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuc3RhdHVzID09IFNUQVRVU19DQU5DRUxFRCkge1xuICAgICAgICAgICQoJy5zYXZlLW9yZGVyLWJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgJCgnLmRlbGV0ZS1vcmRlci1idXR0b24nKS5zaG93KCk7XG4gICAgICAgICAgJCgnLnJldHVybi1vcmRlci1idXR0b24nKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnLmNoZWNrb3V0LW9yZGVyLWJ1dHRvbicpLnNob3coKTtcbiAgICAgICAgICAkKCcuZGlzYWJsZS1vcmRlci1idXR0b24nKS5zaG93KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiBjdXJyZW50IGRpdmlzaW9uIGNhbiBwcmludCBvcmRlclxuICAgICAgICB2YXIgY2FuUHJpbnRPcmRlciA9ICQoJyN0aW1ldGFibGUtZGl2aXNpb25faWQgOnNlbGVjdGVkJykuZGF0YSgnY2FuLXByaW50Jyk7XG4gICAgICAgIGlmIChjYW5QcmludE9yZGVyKSB7XG4gICAgICAgICAgJCgnLnByaW50LW9yZGVyLWJ1dHRvbicpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2V0VGltZXRhYmxlSW50ZXJ2YWwgPSBmdW5jdGlvbiBzZXRUaW1ldGFibGVJbnRlcnZhbChpbnRlcnZhbCkge1xuICAgICAgJCgnI3RpbWV0YWJsZS1pbnRlcnZhbCcpLnZhbChpbnRlcnZhbCk7XG4gICAgfTtcblxuICAgIHZhciBzZXRJbnRlcnZhbExpc3RlbmVyID0gZnVuY3Rpb24gc2V0SW50ZXJ2YWxMaXN0ZW5lcigpIHtcbiAgICAgICQoJyN0aW1ldGFibGUtaW50ZXJ2YWwnKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHNsb3RJbnRlcnZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzbG90SW50ZXJ2YWwnLCBzbG90SW50ZXJ2YWwpO1xuICAgICAgICAkKCcjdGltZXRhYmxlLWNhbGVuZGFyJykuZnVsbENhbGVuZGFyKCdkZXN0cm95Jyk7XG4gICAgICAgICQoJyN0aW1ldGFibGUtY2FsZW5kYXInKS5mdWxsQ2FsZW5kYXIoJC5leHRlbmQoZmNPcHRzLCB7XG4gICAgICAgICAgc2xvdER1cmF0aW9uOiBzbG90SW50ZXJ2YWxcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGluaXRpYWxpemUgZXZlbnQgaGFuZGxlciBmb3IgY2FuY2VsIGJ1dHRvbiB3aXRoIGNvbmZpcm1hdGlvbiB0byBwcm9jZWVkXG5cblxuICAgIHZhciBzdWJtaXRGb3JtID0gZnVuY3Rpb24gc3VibWl0Rm9ybShlKSB7XG4gICAgICB2YXIgZm9ybSA9ICQoJyNvcmRlci1mb3JtJyk7XG4gICAgICB2YXIgZGF0YSA9IGZvcm0uZGF0YSgneWlpQWN0aXZlRm9ybScpO1xuICAgICAgJC5lYWNoKGRhdGEuYXR0cmlidXRlcywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IDI7XG4gICAgICB9KTtcbiAgICAgIGZvcm0ueWlpQWN0aXZlRm9ybSgndmFsaWRhdGUnKTtcblxuICAgICAgaWYgKGZvcm0uZmluZCgnLmhhcy1lcnJvcicpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHNhdmVPcmRlcihmb3JtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrb3V0T3JkZXIgPSBmdW5jdGlvbiBjaGVja291dE9yZGVyKGV2ZW50X2lkKSB7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGV2ZW50Q2hlY2tvdXRVcmwgKyAnP2lkPScgKyBldmVudF9pZCxcbiAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICBkYXRhOiAkKCcjb3JkZXItZm9ybScpLnNlcmlhbGl6ZSgpLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcnMpIHtcbiAgICAgICAgICAgIGhpZGVBbmRSZXNldEZvcm0oKTtcbiAgICAgICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcigncmVmZXRjaEV2ZW50cycpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZXJyb3JzICYmIHJlc3BvbnNlLmVycm9ycy5pZ25vcmVfc3RvY2spIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gcmVzcG9uc2UuZXJyb3JzLmlnbm9yZV9zdG9jaztcbiAgICAgICAgICAgIHZhciBidXR0b25zID0ge1xuICAgICAgICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwi0JjQt9C80LXQvdC40YLRjFwiLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4tcHJpbWFyeSBwdWxsLXJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgICAgJCgnI2Zvcm1Nb2RhbCAubW9kYWwtZm9vdGVyIGJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGFuZ2VyOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwi0JLRgdC1INGA0LDQstC90L4g0YHQvtGF0YDQsNC90LjRgtGMXCIsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcIixcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAkKCcjb3JkZXItaWdub3JlX3N0b2NrJykudmFsKDEpO1xuICAgICAgICAgICAgICAgICAgY2hlY2tvdXRPcmRlcihldmVudF9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2hvd0Jvb3Rib3gobWVzc2FnZSwgYnV0dG9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNob3dFcnJvcnMocmVzcG9uc2UuZXJyb3JzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByZXR1cm5PcmRlciA9IGZ1bmN0aW9uIHJldHVybk9yZGVyKGV2ZW50X2lkKSB7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGV2ZW50UmV0dXJuVXJsICsgJz9pZD0nICsgZXZlbnRfaWQsXG4gICAgICAgIHR5cGU6ICdnZXQnLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaGlkZUFuZFJlc2V0Rm9ybSgpO1xuICAgICAgICAgIHZhciBldmVudCA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignY2xpZW50RXZlbnRzJywgZXZlbnRfaWQpWzBdO1xuICAgICAgICAgIGV2ZW50LnN0YXR1cyA9IFNUQVRVU19FTkFCTEVEO1xuICAgICAgICAgIGV2ZW50LmVkaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICBldmVudC5jbGFzc05hbWUgPSBldmVudC5jb2xvciB8fCAkKCdpbnB1dFtkYXRhLWVudGl0eS1pZD0nICsgZXZlbnQuc3RhZmZfaWQgKyAnXScpLmF0dHIoJ2RhdGEtZW50aXR5LWNvbG9yJyk7XG4gICAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCd1cGRhdGVFdmVudCcsIGV2ZW50KTsgLy8gc3RpY2s/ID0gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgYWxlcnRNZXNzYWdlKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQstC+0LfQstGA0LDRgtC1INC30LDQv9C40YHQuCcpO1xuICAgICAgICAgICQoJyNmb3JtTW9kYWwgLm1vZGFsLWZvb3RlciBidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gc2V0IGxpc3RlbmVyIGZvciBjaGVrYm94IGlucHV0IGNoYW5nZSAtIGFkZCBoaWdobGlnaHRpbmcsIHJlc291cmNlIHRvIGNhbGVuZGFyIGFuZCByZWZldGNoIGV2ZW50c1xuXG5cbiAgICB2YXIgc2V0Q2hlY2tib3hMaXN0ZW5lciA9IGZ1bmN0aW9uIHNldENoZWNrYm94TGlzdGVuZXIoKSB7XG4gICAgICAkKCc6Y2hlY2tib3gnKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9ICQodGhpcyk7XG4gICAgICAgIHZhciB1c2VySUQgPSBwYXJzZUludChlbGVtZW50LmRhdGEoJ2VudGl0eS1pZCcpKTtcbiAgICAgICAgaWYgKHVzZXJJRCkge1xuICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vIGFkZCBoaWdobGl0aGluZyBhbmQgcmVzb3VyY2UgdG8gZnVsbCBjYWxlbmRhclxuICAgICAgICAgICAgZWxlbWVudC5jbG9zZXN0KCcuZW50aXR5X2xpc3RfaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIGFkZFRpbWV0YWJsZVN0YWZmKHVzZXJJRCwgZWxlbWVudC5kYXRhKCdlbnRpdHktZGl2aXNpb25faWQnKSwgZWxlbWVudC5kYXRhKCdlbnRpdHktbmFtZScpLCBlbGVtZW50LmRhdGEoJ2VudGl0eS1jb2xvcicpLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVXNlcnNBcnIubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKCfQnNC40L3QuNC80YPQvCDQvtC00LjQvSDRgdC+0YLRgNGD0LTQvdC40Log0LTQvtC70LbQtdC9INCx0YvRgtGMINCy0YvQsdGA0LDQvS4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgd2l0aCB1c2VySUQgZnJvbSBzZWxlY3RlZCB1c2Vyc1xuICAgICAgICAgICAgZWxlbWVudC5jbG9zZXN0KCcuZW50aXR5X2xpc3RfaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHJlbW92ZVRpbWV0YWJsZVN0YWZmKHVzZXJJRCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcigncmVmZXRjaEV2ZW50cycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGFkZFRpbWV0YWJsZVN0YWZmID0gZnVuY3Rpb24gYWRkVGltZXRhYmxlU3RhZmYoc3RhZmZJRCwgZGl2aXNpb25JRCwgbmFtZSwgY29sb3IsIHJlbmRlclJlc291cmNlKSB7XG4gICAgICBzZWxlY3RlZFVzZXJzQXJyLnB1c2goc3RhZmZJRCk7XG4gICAgICBpZiAocmVuZGVyUmVzb3VyY2UpIHtcbiAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdhZGRSZXNvdXJjZScsIHtcbiAgICAgICAgICBpZDogc3RhZmZJRCxcbiAgICAgICAgICBzdGFmZl9pZDogc3RhZmZJRCxcbiAgICAgICAgICBkaXZpc2lvbl9pZDogZGl2aXNpb25JRCxcbiAgICAgICAgICB0aXRsZTogbmFtZSxcbiAgICAgICAgICBldmVudENsYXNzTmFtZTogY29sb3JcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVUaW1ldGFibGVTdGFmZiA9IGZ1bmN0aW9uIHJlbW92ZVRpbWV0YWJsZVN0YWZmKHN0YWZmSUQsIHJlbW92ZVJlc291cmNlKSB7XG4gICAgICB2YXIgaW5kZXggPSBzZWxlY3RlZFVzZXJzQXJyLmluZGV4T2Yoc3RhZmZJRCk7XG4gICAgICBzZWxlY3RlZFVzZXJzQXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBpZiAocmVtb3ZlUmVzb3VyY2UpIHtcbiAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdyZW1vdmVSZXNvdXJjZScsIHN0YWZmSUQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBzZXQgbGlzdGVuZXIgZm9yIHJhZGlvIGlucHV0IGNoYW5nZSAtIGFkZCBoaWdobGlnaHRpbmcgYW5kIHJlZmV0Y2ggZXZlbnRzXG5cblxuICAgIHZhciBzZXRSYWRpb0xpc3RlbmVyID0gZnVuY3Rpb24gc2V0UmFkaW9MaXN0ZW5lcigpIHtcbiAgICAgICQoJ2lucHV0OnJhZGlvW25hbWU9XCJlbnRpdGllc1tdXCJdJykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGhpZ2hsaWdodGluZyBmb3IgcHJldmlvdXMgaXRlbVxuICAgICAgICAkKCcuZW50aXR5X2xpc3RfaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gYWRkIGhpZ2hsaWdodGluZyBmb3IgY3VycmVudCBpdGVtXG4gICAgICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgICAgZWxlbWVudC5jbG9zZXN0KCcuZW50aXR5X2xpc3RfaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdyZWZldGNoRXZlbnRzJyk7XG4gICAgICAgIC8vIHNldCBzZWxlY3RlZCB1c2VyIElEIHRvIGdsb2JhbCB2YXJpYWJsZSBzZWxlY3RlZFVzZXJJRFxuICAgICAgICBzZWxlY3RlZFVzZXJJRCA9IGVsZW1lbnQuYXR0cignZGF0YS1lbnRpdHktaWQnKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZmV0Y2hPcmRlciA9IGZ1bmN0aW9uIGZldGNoT3JkZXIoZXZlbnQpIHtcbiAgICAgICQoJyNldmVudC1zdGFmZl9pZCcpLnZhbChldmVudC5zdGFmZl9pZCk7XG4gICAgICAkKCcjb3JkZXItY29tcGFueV9jYXNoX2lkIG9wdGlvbicpLmF0dHIoJ3NlbGVjdGVkJywgZmFsc2UpO1xuICAgICAgJC5lYWNoKGV2ZW50LCBmdW5jdGlvbiAoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoYXR0cmlidXRlID09ICdzdGFydCcpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IG1vbWVudCh2YWx1ZSk7XG4gICAgICAgICAgJCgnI29yZGVyLWRhdGV0aW1lJykudmFsKG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJykpO1xuICAgICAgICAgICQoJyNvcmRlci1kYXRldGltZXBpY2tlcicpLnZhbChjYXBpdGFsaXplKGRhdGUuZm9ybWF0KCdERCAnKSArIGRhdGUuZm9ybWF0KCdNTU1NICcpICsgZGF0ZS5mb3JtYXQoJ1lZWVkgSEg6bW0nKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PSAnZGl2aXNpb25faWQnKSB7XG4gICAgICAgICAgJCgnI29yZGVyLScgKyBhdHRyaWJ1dGUpLnZhbCh2YWx1ZSkuY2hhbmdlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09ICdjdXN0b21lcicpIHtcbiAgICAgICAgICAkKCcjb3JkZXItY3VzdG9tZXJfc291cmNlX2lkJykudmFsKHZhbHVlLnNvdXJjZV9pZCkuY2hhbmdlKCk7XG4gICAgICAgICAgJCgnI29yZGVyLWN1c3RvbWVyX25hbWUnKS52YWwodmFsdWUubmFtZSk7XG4gICAgICAgICAgJCgnI29yZGVyLWN1c3RvbWVyX3Bob25lJykudmFsKHZhbHVlLnBob25lKTtcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgIT0gJ2RhdGV0aW1lJykge1xuICAgICAgICAgICQoJyNvcmRlci0nICsgYXR0cmlidXRlKS52YWwodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gJCgnI2V2ZW50LWRpdmlzaW9uX3NlcnZpY2VfaWQnKS52YWwoZXZlbnQuZGl2aXNpb25fc2VydmljZV9pZCk7XG4gICAgICByZW5kZXJTZXJ2aWNlcyhldmVudC5zZXJ2aWNlcyk7XG4gICAgICByZW5kZXJQcm9kdWN0cyhldmVudC5wcm9kdWN0cyk7XG4gICAgICByZW5kZXJDb250YWN0cyhldmVudC5jb250YWN0Q3VzdG9tZXJzKTtcbiAgICAgIHJlbmRlclBheW1lbnRzKGV2ZW50KTtcbiAgICAgIHJlbmRlckRvY3VtZW50cyhldmVudC5kb2N1bWVudHMpO1xuICAgICAgcmVuZGVyRmlsZXMoZXZlbnQuZmlsZXMpO1xuICAgICAgY2FsY1NlcnZpY2VUb3RhbCgpO1xuICAgICAgY2FsY1Byb2R1Y3RzVG90YWwoKTtcbiAgICAgIGNhbGNUb3RhbCgpO1xuICAgICAgbG9hZEN1c3RvbWVyKGV2ZW50LmNvbXBhbnlfY3VzdG9tZXJfaWQpO1xuICAgICAgbG9hZEhpc3RvcnkoZXZlbnQuaWQpO1xuICAgICAgbG9hZFZpc2l0cyhldmVudC5jb21wYW55X2N1c3RvbWVyX2lkKTtcbiAgICAgICQoJyNvcmRlci1yZWZlcnJlcl9pZCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgIH07XG5cbiAgICB2YXIgY2hhbmdlRXZlbnREdXJhdGlvbiA9IGZ1bmN0aW9uIGNoYW5nZUV2ZW50RHVyYXRpb24oZXZlbnQsIHJldmVydEZ1bmMpIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogdXBkYXRlRXZlbnREdXJhdGlvblVybCArICc/aWQ9JyArIGV2ZW50LmlkLFxuICAgICAgICB0eXBlOiAncG9zdCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlbmQ6IGV2ZW50LmVuZC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yID09IDApIHtcbiAgICAgICAgICAgIGV2ZW50LnNlcnZpY2VzID0gcmVzcG9uc2Uuc2VydmljZXM7XG4gICAgICAgICAgICBleHRlbmRDYWxlbmRhcihldmVudC5lbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldmVydEZ1bmMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICAgIHJldmVydEZ1bmMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGRyb3BDYWxlbmRhckV2ZW50ID0gZnVuY3Rpb24gZHJvcENhbGVuZGFyRXZlbnQoZXZlbnQsIHJldmVydEZ1bmMpIHtcbiAgICAgIHZhciBzdGFmZl9pZCA9IGV2ZW50LnJlc291cmNlSWQ7XG4gICAgICBpZiAoIXN0YWZmX2lkKSB7XG4gICAgICAgIHN0YWZmX2lkID0gZXZlbnQuc3RhZmZfaWQ7XG4gICAgICB9XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IHVwZGF0ZUV2ZW50RHJvcFVybCArICc/aWQ9JyArIGV2ZW50LmlkLFxuICAgICAgICB0eXBlOiAncG9zdCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzdGFmZjogc3RhZmZfaWQsXG4gICAgICAgICAgc3RhcnQ6IGV2ZW50LnN0YXJ0LmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IgPT0gMCkge1xuICAgICAgICAgICAgZXZlbnQuc3RhZmZfaWQgPSBzdGFmZl9pZDtcbiAgICAgICAgICAgIGV2ZW50LmRhdGV0aW1lID0gZXZlbnQuc3RhcnQuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XG4gICAgICAgICAgICBleHRlbmRDYWxlbmRhcihldmVudC5lbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBidXR0b25zID0ge1xuICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICBsYWJlbDogJ9Cf0YDQvtC00L7Qu9C20LjRgtGMJyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLXByaW1hcnkgcHVsbC1yaWdodCcsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiByZXZlcnRGdW5jKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHNob3dCb290Ym94KHJlc3BvbnNlLm1lc3NhZ2UsIGJ1dHRvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgcmV2ZXJ0RnVuYygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc2F2ZU9yZGVyID0gZnVuY3Rpb24gc2F2ZU9yZGVyKGZvcm0pIHtcbiAgICAgIHZhciB1cGRhdGUgPSAhISQoJyNvcmRlci1pZCcpLnZhbCgpO1xuICAgICAgdmFyIGV2ZW50ID0gdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdjbGllbnRFdmVudHMnLCAkKCcjb3JkZXItaWQnKS52YWwoKSlbMF07XG4gICAgICB2YXIgdXJsID0gdXBkYXRlID8gdXBkYXRlRXZlbnRVcmwgKyAnP2lkPScgKyBldmVudC5pZCArICcmZXhwYW5kPWRvY3VtZW50cyxmaWxlcyxwcm9kdWN0cyxzZXJ2aWNlcyxwYXltZW50cyxzdGFmZixjb250YWN0Q3VzdG9tZXJzLHRpdGxlLGN1c3RvbWVyJyA6IGFkZEV2ZW50VXJsO1xuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcnMpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLCBmdW5jdGlvbiAoaW5kLCBhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoaW5kKSkge1xuICAgICAgICAgICAgICAgICAgZXZlbnRbaW5kXSA9IGF0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RhdHVzID09IFNUQVRVU19GSU5JU0hFRCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmNsYXNzTmFtZSA9ICdwYXN0X2V2ZW50JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ3VwZGF0ZUV2ZW50JywgZXZlbnQpOyAvLyBzdGljaz8gPSB0cnVlXG4gICAgICAgICAgICAgICQuakdyb3dsKCfQl9Cw0L/QuNGB0Ywg0YHQvtGF0YDQsNC90LXQvdCwINGD0YHQv9C10YjQvdC+JywgeyBncm91cDogJ2ZsYXNoX25vdGljZScgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ3JlbmRlckV2ZW50JywgcmVzcG9uc2UsIGZhbHNlKTsgLy8gc3RpY2s/ID0gdHJ1ZVxuICAgICAgICAgICAgICAkLmpHcm93bCgn0JfQsNC/0LjRgdGMINGB0L7Qt9C00LDQvdCwINGD0YHQv9C10YjQvdC+JywgeyBncm91cDogJ2ZsYXNoX25vdGljZScgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoaWRlQW5kUmVzZXRGb3JtKCk7XG5cbiAgICAgICAgICAgIHZhciBldmVudEZpbmlzaCA9IG1vbWVudChyZXNwb25zZS5lbmQpO1xuICAgICAgICAgICAgZXh0ZW5kQ2FsZW5kYXIoZXZlbnRGaW5pc2gpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZXJyb3JzLmN1c3RvbWVyX25hbWUpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gcmVzcG9uc2UuZXJyb3JzLmN1c3RvbWVyX25hbWU7XG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9IHtcbiAgICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAn0JjQt9C80LXQvdC40YLRjCcsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLXByaW1hcnkgcHVsbC1yaWdodCcsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge31cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGFuZ2VyOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICfQktGB0LUg0YDQsNCy0L3QviDRgdC+0YXRgNCw0L3QuNGC0YwnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1kZWZhdWx0IHB1bGwtcmlnaHQnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgICQoJyNvcmRlci1pZ25vcmVuYW1ld2FybmluZycpLnZhbCgxKTtcbiAgICAgICAgICAgICAgICAgIHNhdmVPcmRlcihmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzaG93Qm9vdGJveChtZXNzYWdlLCBidXR0b25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvd0Vycm9ycyhyZXNwb25zZS5lcnJvcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4dGVuZENhbGVuZGFyID0gZnVuY3Rpb24gZXh0ZW5kQ2FsZW5kYXIoZmluaXNoLCBhbHJlYWR5SW5SYW5nZSkge1xuICAgICAgYWxyZWFkeUluUmFuZ2UgPSBhbHJlYWR5SW5SYW5nZSB8fCBmYWxzZTtcbiAgICAgIHZhciB2aWV3ID0gdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdnZXRWaWV3Jyk7XG4gICAgICBpZiAodmlldy5uYW1lICE9ICdtb250aCcgJiYgZmluaXNoKSB7XG4gICAgICAgIHZhciBjYWxlbmRhclN0YXJ0RGF0ZSA9IHZpZXcuc3RhcnQ7XG4gICAgICAgIHZhciBjYWxlbmRhckVuZERhdGUgPSB2aWV3LmVuZDtcbiAgICAgICAgdmFyIG1heFRpbWUgPSB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ29wdGlvbicsICdtYXhUaW1lJyk7XG4gICAgICAgIHZhciBkZWZhdWx0RGF0ZSA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignZ2V0RGF0ZScpO1xuXG4gICAgICAgIHZhciBuZXdNYXhUaW1lID0gZmluaXNoO1xuICAgICAgICBpZiAoIWFscmVhZHlJblJhbmdlKSB7XG4gICAgICAgICAgbmV3TWF4VGltZSA9IGZpbmlzaC5mb3JtYXQoJ0hIOm1tJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChmaW5pc2ggPiBjYWxlbmRhclN0YXJ0RGF0ZSAmJiBmaW5pc2ggPCBjYWxlbmRhckVuZERhdGUgfHwgYWxyZWFkeUluUmFuZ2UpICYmIG5ld01heFRpbWUgPiBtYXhUaW1lKSB7XG4gICAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdkZXN0cm95Jyk7XG4gICAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCQuZXh0ZW5kKGZjT3B0cywge1xuICAgICAgICAgICAgbWF4VGltZTogbmV3TWF4VGltZSxcbiAgICAgICAgICAgIGRlZmF1bHRWaWV3OiB2aWV3Lm5hbWUsXG4gICAgICAgICAgICBkZWZhdWx0RGF0ZTogZGVmYXVsdERhdGVcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlZnJlc2hTZWxlY3RlZFVzZXJzID0gZnVuY3Rpb24gcmVmcmVzaFNlbGVjdGVkVXNlcnMoZGF0ZSkge1xuICAgICAgJC5nZXRKU09OKGxpc3RSZXNvdXJjZXNVcmwsIHsgZGF0ZTogZGF0ZSB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHNldFRpbWV0YWJsZVN0YWZmKGRhdGEsIHRydWUpO1xuICAgICAgICB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ2dvdG9EYXRlJywgbW9tZW50KGRhdGUsICdERC5NTS5ZWVlZJykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzZXRUaW1ldGFibGVTdGFmZiA9IGZ1bmN0aW9uIHNldFRpbWV0YWJsZVN0YWZmKGRhdGEsIHJlbmRlclJlc291cmNlKSB7XG4gICAgICAvLyBSZW1vdmUgYWxsIHNlbGVjdGVkIHN0YWZmc1xuICAgICAgJC5lYWNoKCQoXCJpbnB1dFtuYW1lPSdlbnRpdGllc1tdJ11cIiksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgcmVtb3ZlVGltZXRhYmxlU3RhZmYoJCh0aGlzKS5kYXRhKCdlbnRpdHktaWQnKSwgcmVuZGVyUmVzb3VyY2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChkYXRhLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHZhciBkaXZpc2lvbk5hbWUgPSAkKCcjdGltZXRhYmxlLWRpdmlzaW9uX2lkIDpzZWxlY3RlZCcpLnRleHQoKTtcbiAgICAgICAgYWxlcnRNZXNzYWdlKCdcXHUwNDIzIFxcdTA0NDRcXHUwNDM4XFx1MDQzQlxcdTA0MzhcXHUwNDMwXFx1MDQzQlxcdTA0MzAgXCInICsgZGl2aXNpb25OYW1lICsgJ1wiIFxcdTA0M0RcXHUwNDM1IFxcdTA0M0RcXHUwNDMwXFx1MDQ0MVxcdTA0NDJcXHUwNDQwXFx1MDQzRVxcdTA0MzVcXHUwNDNEIFxcdTA0MzNcXHUwNDQwXFx1MDQzMFxcdTA0NDRcXHUwNDM4XFx1MDQzQSBcXHUwNDQxXFx1MDQzRVxcdTA0NDJcXHUwNDQwXFx1MDQ0M1xcdTA0MzRcXHUwNDNEXFx1MDQzOFxcdTA0M0FcXHUwNDNFXFx1MDQzMi4gPGEgaHJlZj1cIi4uL3NjaGVkdWxlL2luZGV4XCI+XFx1MDQxRFxcdTA0MzBcXHUwNDQxXFx1MDQ0MlxcdTA0NDBcXHUwNDNFXFx1MDQzOFxcdTA0NDJcXHUwNDRDIFxcdTA0MzNcXHUwNDQwXFx1MDQzMFxcdTA0NDRcXHUwNDM4XFx1MDQzQSBcXHUwNDQwXFx1MDQzMFxcdTA0MzFcXHUwNDNFXFx1MDQ0MlxcdTA0NEI8L2E+Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IHN0YWZmc1xuICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChpbmRleCwgc3RhZmYpIHtcbiAgICAgICAgdmFyIHN0YWZmX2VsZW1lbnQgPSAkKCcuY2hlY2tib3h1c2VyW2RhdGEtZW50aXR5LWlkPScgKyBzdGFmZi5pZCArICddJyk7XG4gICAgICAgIGFkZFRpbWV0YWJsZVN0YWZmKHN0YWZmLmlkLCBzdGFmZl9lbGVtZW50LmF0dHIoJ2RhdGEtZW50aXR5LWRpdmlzaW9uX2lkJyksIHN0YWZmX2VsZW1lbnQuYXR0cignZGF0YS1lbnRpdHktbmFtZScpLCBzdGFmZl9lbGVtZW50LmF0dHIoJ2RhdGEtZW50aXR5LWNvbG9yJyksIHJlbmRlclJlc291cmNlKTtcbiAgICAgICAgc3RhZmZfZWxlbWVudC5jbG9zZXN0KCcuZW50aXR5X2xpc3RfaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgc3RhZmZfZWxlbWVudC5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGhpZGVBbmRSZXNldEZvcm0gPSBmdW5jdGlvbiBoaWRlQW5kUmVzZXRGb3JtKCkge1xuICAgICAgJCgnI2Zvcm1Nb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAkKCcjb3JkZXItaWQnKS52YWwoJycpO1xuICAgICAgLy8gJCgnI29yZGVyLWRpdmlzaW9uX2lkJykudmFsKCcnKS5jaGFuZ2UoKTtcbiAgICAgICQoJyNvcmRlci1pZ25vcmVuYW1ld2FybmluZycpLnZhbCgwKTtcbiAgICAgICQoJyNvcmRlci1mb3JtJylbMF0ucmVzZXQoKTtcblxuICAgICAgJCgnI3NlcnZpY2VzVGFibGUgdHInKS5yZW1vdmUoKTtcbiAgICAgICQoJyNwYXltZW50cyB0YWJsZScpLnJlbW92ZSgpO1xuICAgICAgJCgnI3RhYmJlZFRhYmxlJykuaGlkZSgpO1xuICAgICAgJCgnI2pzLWFkZC1zZXJ2aWNlJykuaGlkZSgpO1xuICAgICAgJChcIiNvcmRlci1kaXZpc2lvbl9zZXJ2aWNlX2lkIG9wdGlvblwiKS5yZW1vdmUoKTtcbiAgICAgICQoJy5maWVsZC1vcmRlci1kaXZpc2lvbl9zZXJ2aWNlX2lkIC5zZWxlY3QyJykuc2hvdygpO1xuICAgICAgJCgnI29yZGVyLWNvbnRhY3RzJykuZW1wdHkoKTtcbiAgICAgIGNsZWFyRG9jdW1lbnRzKCk7XG4gICAgICBjbGVhckZpbGVzKCk7XG4gICAgICAkKCcjcHJvZHVjdHMnKS5maW5kKCcucHJvZHVjdHMtdGFibGUgPiB0YWJsZSA+IHRib2R5JykuZW1wdHkoKTtcbiAgICAgIGhpZGVEYXRldGltZUNvbnRyb2xzKCk7XG4gICAgICBjbGVhck1lZENhcmRzKCk7XG4gICAgICBkaXNhYmxlQ3VzdG9tZXJGb3JtKCk7XG4gICAgfTtcblxuICAgIHZhciBsb2FkUGF5bWVudHMgPSBmdW5jdGlvbiBsb2FkUGF5bWVudHMocGF5bWVudHMpIHtcbiAgICAgIHBheW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGluZGV4LCBwYXltZW50KSB7XG4gICAgICAgICQoJyNvcmRlcl9wYXltZW50XycgKyBwYXltZW50LnBheW1lbnRfaWQpLnZhbChwYXltZW50LnZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY2hhbmdlSW5wdXRUeXBlID0gZnVuY3Rpb24gY2hhbmdlSW5wdXRUeXBlKGNsYXNzTmFtZSwgdHlwZSkge1xuICAgICAgdmFyIGRpdmlzaW9uX2lkID0gJCgnI3RpbWV0YWJsZS1kaXZpc2lvbl9pZCcpLnZhbCgpO1xuICAgICAgc2VsZWN0ZWRVc2VySUQgPSAkKCcuY2hlY2tib3h1c2VyW2RhdGEtZW50aXR5LWRpdmlzaW9uX2lkPScgKyBkaXZpc2lvbl9pZCArICddOmZpcnN0JykuZGF0YSgnZW50aXR5LWlkJyk7XG4gICAgICAkKCcuJyArIGNsYXNzTmFtZSkuZWFjaChmdW5jdGlvbiAoaWR4LCBlbCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9ICQoZWwpO1xuICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgdXNlcklEID0gcGFyc2VJbnQoZWxlbWVudC5hdHRyKCdkYXRhLWVudGl0eS1pZCcpKTtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gZWxlbWVudC5kYXRhKCdlbnRpdHktZGl2aXNpb25faWQnKSAhPSBkaXZpc2lvbl9pZDtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICBpZiAodXNlcklEID09IHNlbGVjdGVkVXNlcklEKSB7XG4gICAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJy5lbnRpdHlfbGlzdF9pdGVtJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgaWYgKCQuaW5BcnJheSh1c2VySUQsIHNlbGVjdGVkVXNlcnNBcnIpID49IDApIHtcbiAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGVsZW1lbnQuY2xvc2VzdCgnLmVudGl0eV9saXN0X2l0ZW0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoJCgnPGlucHV0PicsIHtcbiAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgIGNsYXNzOiAnY2hlY2tib3h1c2VyJyxcbiAgICAgICAgICBuYW1lOiBlbGVtZW50LmF0dHIoJ25hbWUnKSxcbiAgICAgICAgICB2YWx1ZTogZWxlbWVudC5hdHRyKCd2YWx1ZScpLFxuICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICdkYXRhLWVudGl0eS1pZCc6IGVsZW1lbnQuZGF0YSgnZW50aXR5LWlkJyksXG4gICAgICAgICAgJ2RhdGEtZW50aXR5LWRpdmlzaW9uX2lkJzogZWxlbWVudC5kYXRhKCdlbnRpdHktZGl2aXNpb25faWQnKSxcbiAgICAgICAgICAnZGF0YS1lbnRpdHktbmFtZSc6IGVsZW1lbnQuZGF0YSgnZW50aXR5LW5hbWUnKSxcbiAgICAgICAgICAnZGF0YS1lbnRpdHktY29sb3InOiBlbGVtZW50LmRhdGEoJ2VudGl0eS1jb2xvcicpLFxuICAgICAgICAgICdkYXRhLWVudGl0eS1wb3NpdGlvbic6IGVsZW1lbnQuZGF0YSgnZW50aXR5LXBvc2l0aW9uJylcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBsb2FkSGlzdG9yeSA9IGZ1bmN0aW9uIGxvYWRIaXN0b3J5KG9yZGVyX2lkKSB7XG4gICAgICAkLmdldEpTT04oZXZlbnRIaXN0b3J5VXJsLCB7IGlkOiBvcmRlcl9pZCB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgcm93cyA9ICcnO1xuXG4gICAgICAgIHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gKGxvZykge1xuICAgICAgICAgIHJvd3MgKz0gJycgKyAoJzx0cj4nICsgJzx0ZD4nKSArIGxvZy5jcmVhdGVkX2F0ICsgJzwvdGQ+JyArICgnPHRkPicgKyBsb2cuYWN0aW9uICsgJzwvdGQ+JykgKyAoJzx0ZD4nICsgbG9nLmRhdGV0aW1lICsgJzwvdGQ+JykgKyAoJzx0ZD4nICsgbG9nLnN0YXR1cyArICc8L3RkPicpICsgKCc8dGQ+JyArIGxvZy51c2VyICsgJzwvdGQ+JykgKyAnPC90cj4nO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjaGlzdG9yeSB0YWJsZSA+IHRib2R5JykuaHRtbChyb3dzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgbG9hZFZpc2l0cyA9IGZ1bmN0aW9uIGxvYWRWaXNpdHMoY3VzdG9tZXJfaWQpIHtcbiAgICAgICQoJyN2aXNpdHNfdGFiJykuc2hvdygpO1xuICAgICAgJC5nZXQoY3VzdG9tZXJWaXNpdHNVcmwsIHsgaWQ6IGN1c3RvbWVyX2lkIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICQoJyN2aXNpdHMnKS5odG1sKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpbml0aWFsaXplQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24gaW5pdGlhbGl6ZUF1dG9jb21wbGV0ZShpZCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBlbGVtZW50ID0gJCgnIycgKyBpZCk7XG4gICAgICBpZiAoZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgJCgnIycgKyBpZCkuYXV0b2NvbXBsZXRlKHtcbiAgICAgICAgICBzb3VyY2U6IHNlYXJjaFVybCxcbiAgICAgICAgICBtaW5MZW5ndGg6IDEsXG4gICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh1aSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5hdXRvY29tcGxldGUoJ2luc3RhbmNlJykuX3JlbmRlckl0ZW0gPSBmdW5jdGlvbiAodWwsIGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gJCgnPGxpPicpLmFwcGVuZCgnPHAgc3R5bGU9XFwncGFkZGluZzogNnB4IDEycHhcXCc+JyArIGl0ZW0ubmFtZSArICcgJyArIGl0ZW0ubGFzdG5hbWUgKyAnICcgKyBpdGVtLnBob25lICsgJyAnIC8qICsgaXRlbS5jdXN0b21lcl9lbWFpbCAqLyArICc8L3A+JykuYXBwZW5kVG8odWwpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2VsZWN0Q3VzdG9tZXIgPSBmdW5jdGlvbiBzZWxlY3RDdXN0b21lcih1aSkge1xuICAgICAgJCgnI29yZGVyLWNvbXBhbnlfY3VzdG9tZXJfaWQnKS52YWwodWkuaXRlbS5pZCk7XG4gICAgICAkKCcjb3JkZXItY3VzdG9tZXJfbmFtZScpLnZhbCh1aS5pdGVtLm5hbWUpO1xuICAgICAgJCgnI29yZGVyLWN1c3RvbWVyX3Bob25lJykudmFsKHVpLml0ZW0ucGhvbmUpO1xuICAgICAgJCgnaW5wdXRbZGF0YS1hdHRyPWRpc2NvdW50XScpLnZhbCh1aS5pdGVtLmRpc2NvdW50KS5jaGFuZ2UoKTtcbiAgICAgIG9yZGVyRGlzY291bnQgPSB1aS5pdGVtLmRpc2NvdW50O1xuICAgICAgLy8gJChcIiNvcmRlci1jdXN0b21lcl9lbWFpbFwiKS52YWwodWkuaXRlbS5lbWFpbCk7XG5cbiAgICAgIGxvYWRDdXN0b21lcih1aS5pdGVtLmlkKTtcbiAgICAgIGxvYWRWaXNpdHModWkuaXRlbS5pZCk7XG4gICAgfTtcblxuICAgIHZhciBzZWxlY3RDdXN0b21lckZvclBlbmRpbmcgPSBmdW5jdGlvbiBzZWxlY3RDdXN0b21lckZvclBlbmRpbmcodWkpIHtcbiAgICAgICQoJyNwZW5kaW5nb3JkZXItY3VzdG9tZXJfbmFtZScpLnZhbCh1aS5pdGVtLm5hbWUpO1xuICAgICAgJCgnI3BlbmRpbmdvcmRlci1jdXN0b21lcl9waG9uZScpLnZhbCh1aS5pdGVtLnBob25lKTtcbiAgICAgICQoJyNwZW5kaW5nb3JkZXItY29tcGFueV9jdXN0b21lcl9pZCcpLnZhbCh1aS5pdGVtLmlkKTtcbiAgICB9O1xuXG4gICAgdmFyIG5vcm1hbGl6ZU9yZGVyVGFicyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZU9yZGVyVGFicyhzaG93KSB7XG4gICAgICBpZiAoISQoJyNpbmZvX3RhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAkKCcjaW5mb190YWInKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG93KSB7XG4gICAgICAgICQoJy50YWInKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuc2hvdygpO1xuICAgICAgICAkKCdsaS5kaXZpZGVyJykuc2hvdygpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgZGl2aXNpb24gY2FuIHByaW50IG9yZGVyXG4gICAgICAgIHZhciBjYW5QcmludE9yZGVyID0gJCgnI3RpbWV0YWJsZS1kaXZpc2lvbl9pZCA6c2VsZWN0ZWQnKS5kYXRhKCdjYW4tcHJpbnQnKTtcbiAgICAgICAgaWYgKGNhblByaW50T3JkZXIpIHtcbiAgICAgICAgICAkKCcjdG9vdGhfdGFiJykuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJyN0b290aF90YWInKS5oaWRlKCk7XG4gICAgICAgICAgJCgnI2RvY3NfdGFiJykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcudGFiJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmhpZGUoKTtcbiAgICAgICAgJCgnbGkuZGl2aWRlcicpLmhpZGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEkKCcjaW5mbycpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAkKCcudGFiLXBhbmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJyNpbmZvJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY2hlY2tDaGFuZ2VzID0gZnVuY3Rpb24gY2hlY2tDaGFuZ2VzKGlucHV0cywgZXZlbnQpIHtcbiAgICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAkLmVhY2goaW5wdXRzLCBmdW5jdGlvbiAoaW5kLCBmaWVsZCkge1xuICAgICAgICB2YXIgZmllbGROYW1lID0gZmllbGQubmFtZS5yZXBsYWNlKC9PcmRlcnxbW1xcXV0vZ2ksICcnKTtcblxuICAgICAgICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoZmllbGROYW1lKSkge1xuICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGV2ZW50W2ZpZWxkTmFtZV0gPT09ICcnID8gbnVsbCA6IGV2ZW50W2ZpZWxkTmFtZV07XG4gICAgICAgICAgdmFyIGN1clZhbHVlID0gZmllbGQudmFsdWUgPT09ICcnID8gbnVsbCA6IGZpZWxkLnZhbHVlO1xuICAgICAgICAgIGlmIChmaWVsZE5hbWUgPT0gJ2RhdGV0aW1lJykge1xuICAgICAgICAgICAgb2xkVmFsdWUgPSBldmVudC5zdGFydC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob2xkVmFsdWUgIT0gY3VyVmFsdWUpIHtcbiAgICAgICAgICAgIGhhc0NoYW5nZXMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBoYXNDaGFuZ2VzO1xuICAgIH07XG5cbiAgICB2YXIgc2hvd0Vycm9ycyA9IGZ1bmN0aW9uIHNob3dFcnJvcnMoZXJyb3JzKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9ICcnO1xuICAgICAgJC5lYWNoKGVycm9ycywgZnVuY3Rpb24gKGluZCwgZXJyb3IpIHtcbiAgICAgICAgbWVzc2FnZSArPSBlcnJvciArICc8YnI+JztcbiAgICAgIH0pO1xuICAgICAgdmFyIGJ1dHRvbnMgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICBsYWJlbDogJ9Cf0YDQvtC00L7Qu9C20LjRgtGMJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdidG4tcHJpbWFyeSBwdWxsLXJpZ2h0JyxcbiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7fVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2hvd0Jvb3Rib3gobWVzc2FnZSwgYnV0dG9ucyk7XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVDYXNoYmFja0J1dHRvbiA9IGZ1bmN0aW9uIHRvZ2dsZUNhc2hiYWNrQnV0dG9uKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UgPiAwID8gJCgnI2pzLW9yZGVyLXVzZS1jYXNoYmFjay1idXR0b24nKS5zaG93KCkgOiAkKCcjanMtb3JkZXItdXNlLWNhc2hiYWNrLWJ1dHRvbicpLmhpZGUoKTtcbiAgICB9O1xuXG4gICAgdmFyIGhpZGVDYXNoYmFja1BheW1lbnQgPSBmdW5jdGlvbiBoaWRlQ2FzaGJhY2tQYXltZW50KGJhbGFuY2UpIHtcbiAgICAgIGlmIChiYWxhbmNlIDw9IDApIHtcbiAgICAgICAgJChcIiNwYXltZW50c1wiKS5maW5kKFwiLnBheW1lbnRfY2FzaGJhY2tfaW5wdXRcIikuaGlkZSgpO1xuICAgICAgICAkKFwiI3BheW1lbnRzXCIpLmZpbmQoXCIucGF5bWVudC1jYXNoYmFja1wiKS50ZXh0KGJhbGFuY2UpO1xuICAgICAgICAkKFwiI3BheW1lbnRzXCIpLmZpbmQoXCIucGF5bWVudC1jYXNoYmFja1wiKS5zaG93KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZWZyZXNoUmVzb3VyY2VzQnlUaW1lb3V0ID0gZnVuY3Rpb24gcmVmcmVzaFJlc291cmNlc0J5VGltZW91dCgpIHtcbiAgICAgIHJlc291cmNlUmVmcmVzaEludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcigncmVmZXRjaEV2ZW50cycpO1xuICAgICAgICByZWZyZXNoUmVzb3VyY2VzQnlUaW1lb3V0KCk7XG4gICAgICB9LCA2MDAwMCk7IC8vIGVhY2ggNjAgc2Vjb25kc1xuICAgIH07XG5cbiAgICB2YXIgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyLnJlcGxhY2UoLyg/Ol58XFxzKVxcUy9nLCBmdW5jdGlvbiAoYSkge1xuICAgICAgICByZXR1cm4gYS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICB2YXIgc2hvd0Jvb3Rib3ggPSBmdW5jdGlvbiBzaG93Qm9vdGJveChtZXNzYWdlLCBidXR0b25zLCB0aXRsZSwgY2xhc3NOYW1lKSB7XG4gICAgICB0aXRsZSA9IHRpdGxlIHx8ICfQktC90LjQvNCw0L3QuNC1JztcbiAgICAgIGJvb3Rib3guZGlhbG9nKHtcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBidXR0b25zOiBidXR0b25zLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSB8fCBudWxsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHNldE1vZGFsVGl0bGUgPSBmdW5jdGlvbiBzZXRNb2RhbFRpdGxlKHRpdGxlLCBkYXRldGltZSkge1xuICAgICAgLy8gJCgnLm1vZGFsLXRpdGxlJykuaHRtbCh0aXRsZSk7XG4gICAgICAkKCcubW9kYWwtZGF0ZXRpbWUtdGl0bGUnKS50ZXh0KGRhdGV0aW1lICsgJ1xcbicpO1xuICAgIH07XG5cbiAgICB2YXIgc2hvd0RhdGV0aW1lQ29udHJvbHMgPSBmdW5jdGlvbiBzaG93RGF0ZXRpbWVDb250cm9scygpIHtcbiAgICAgICQoJy5tb2RhbC1kYXRldGltZS1jb250cm9scycpLmhpZGUoKTtcbiAgICAgICQoJy5tb2RhbC1kYXRldGltZS10aXRsZScpLmhpZGUoKTtcbiAgICAgICQoJy5tb2RhbC1kYXRldGltZScpLnNob3coKTtcbiAgICB9O1xuXG4gICAgdmFyIGhpZGVEYXRldGltZUNvbnRyb2xzID0gZnVuY3Rpb24gaGlkZURhdGV0aW1lQ29udHJvbHMoKSB7XG4gICAgICAkKCcubW9kYWwtZGF0ZXRpbWUtY29udHJvbHMnKS5zaG93KCk7XG4gICAgICAkKCcubW9kYWwtZGF0ZXRpbWUtdGl0bGUnKS5zaG93KCk7XG4gICAgICAkKCcubW9kYWwtZGF0ZXRpbWUnKS5oaWRlKCk7XG4gICAgfTtcblxuICAgIHZhciBzaG93T3JkZXJNb2RhbCA9IGZ1bmN0aW9uIHNob3dPcmRlck1vZGFsKCkge1xuICAgICAgJCgnI2Zvcm1Nb2RhbCcpLm1vZGFsKCdzaG93Jyk7XG4gICAgfTtcblxuICAgIHZhciBzaG93VG9vdGhUYWIgPSBmdW5jdGlvbiBzaG93VG9vdGhUYWIoKSB7XG4gICAgICAkKCcjdG9vdGhfdGFiJykuc2hvdygpO1xuICAgIH07XG5cbiAgICAvLyAtLS0tLS0tLS0tIENVU1RPTUVSIEJFR0lOIC0tLS0tLS0tLS0tLy9cblxuXG4gICAgdmFyIHNldEN1c3RvbWVySW5mbyA9IGZ1bmN0aW9uIHNldEN1c3RvbWVySW5mbyhkYXRhKSB7XG4gICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHRhZyA9ICdpbnB1dCc7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgY2FzZSAnY2F0ZWdvcmllcyc6XG4gICAgICAgICAgY2FzZSAnc291cmNlX2lkJzpcbiAgICAgICAgICBjYXNlICdnZW5kZXInOlxuICAgICAgICAgICAgdGFnID0gJ3NlbGVjdCc7XG4gICAgICAgICAgICB0ZXh0ID0gZGF0YVtrZXkgKyAnX3RpdGxlJ107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzbXNfYmlydGhkYXknOlxuICAgICAgICAgIGNhc2UgJ3Ntc19leGNsdWRlJzpcbiAgICAgICAgICAgIHRleHQgPSBkYXRhW2tleSArICdfdGl0bGUnXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0ZXh0ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISQuaXNOdW1lcmljKHRleHQpICYmICh0ZXh0ID09IG51bGwgfHwgIXRleHQubGVuZ3RoKSkge1xuICAgICAgICAgIHRleHQgPSAn0J3QtSDQt9Cw0LTQsNC90L4nO1xuICAgICAgICB9XG4gICAgICAgICQoJy5maWVsZC0nICsga2V5KS5maW5kKCcuaW5mby1ibG9jaycpLnRleHQodGV4dCk7XG5cbiAgICAgICAgaWYgKGtleSA9PSAnYmlydGhfZGF0ZScgfHwga2V5ID09ICdpbnN1cmFuY2VfZXhwaXJlX2RhdGUnKSB7XG4gICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnREQvTU0vWVlZWScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSA9PSAnZGVidCcpIHtcbiAgICAgICAgICAkKCcuanMtcGF5LWRlYnQtYnV0dG9uJykuZGF0YSgnZGVidCcsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkgPT0gJ3Ntc19leGNsdWRlJyB8fCBrZXkgPT0gJ3Ntc19iaXJ0aGRheScpIHtcbiAgICAgICAgICAkKCcuZmllbGQtJyArIGtleSkuZmluZCh0YWcpLnByb3AoJ2NoZWNrZWQnLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdpbWFnZScpIHtcbiAgICAgICAgICAkKCcuY3VzdG9tZXItZm9ybSAuYXZhdGFyIGltZycpLnByb3AoJ3NyYycsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gJ2NhdGVnb3JpZXMnKSB7XG4gICAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSB2YWx1ZSA/IHZhbHVlLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeS5pZDtcbiAgICAgICAgICB9KSA6IFtdO1xuICAgICAgICAgICQoJy5maWVsZC0nICsga2V5KS5maW5kKHRhZykudmFsKGNhdGVnb3JpZXMpLmNoYW5nZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5maWVsZC0nICsga2V5KS5maW5kKHRhZykudmFsKHZhbHVlKS5jaGFuZ2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkgPT0gJ2JhbGFuY2UnKSB7XG4gICAgICAgICAgJCgnI3BheW1lbnRzJykuZGF0YSgnYmFsYW5jZScsIHZhbHVlKTtcbiAgICAgICAgICB0b2dnbGVCYWxhbmNlQnV0dG9uKHZhbHVlKTtcbiAgICAgICAgICBwYXltZW50TGlzdC5jYWxjdWxhdGVCYWxhbmNlKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkgPT0gJ2Nhc2hiYWNrX2JhbGFuY2UnKSB7XG4gICAgICAgICAgJChcIiNwYXltZW50c1wiKS5kYXRhKCdjYXNoYmFjaycsIHZhbHVlKTtcbiAgICAgICAgICB0b2dnbGVDYXNoYmFja0J1dHRvbih2YWx1ZSk7XG4gICAgICAgICAgaGlkZUNhc2hiYWNrUGF5bWVudCh2YWx1ZSk7JChcIiNwYXltZW50c1wiKS5maW5kKFwiLnBheW1lbnQtY2FzaGJhY2tcIikudGV4dCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5ID09ICdpbnN1cmFuY2VfY29tcGFueV9pZCcgJiYgY3VyRXZlbnQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAkKCcjb3JkZXItaW5zdXJhbmNlX2NvbXBhbnlfaWQnKS52YWwodmFsdWUpLmNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHNhdmVDdXN0b21lciA9IGZ1bmN0aW9uIHNhdmVDdXN0b21lcigpIHtcbiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21lci1mb3JtJykpO1xuICAgICAgJC5wb3N0KHtcbiAgICAgICAgdXJsOiBjdXN0b21lckVkaXRVcmwsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXG4gICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09ICdlcnJvcicpIHtcbiAgICAgICAgICAkLmVhY2gocmVzcG9uc2UuZXJyb3JzLCBmdW5jdGlvbiAoa2V5LCBlcnJvcikge1xuICAgICAgICAgICAgJCgnLmN1c3RvbWVyLWZvcm0gLmZpZWxkLScgKyBrZXkpLmZpbmQoJy5oZWxwLWJsb2NrJykuaHRtbCgnPHNwYW4gY2xhc3M9XFwndGV4dC1kYW5nZXJcXCc+JyArIGVycm9yICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgc2V0Q3VzdG9tZXJJbmZvKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgIGRpc2FibGVDdXN0b21lckZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgfSkuZmFpbChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgYWxlcnRNZXNzYWdlKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCBj0L7RhdGA0LDQvdC10L3QuNC4INC00LDQvdC90YvRhSDQutC70LjQtdC90YLQsCcpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBkaXNhYmxlQ3VzdG9tZXJGb3JtID0gZnVuY3Rpb24gZGlzYWJsZUN1c3RvbWVyRm9ybSgpIHtcbiAgICAgICQoJy5qcy1zaG93LWN1c3RvbWVyLWZvcm0nKS50ZXh0KCfQmNC30LzQtdC90LjRgtGMINC00LDQvdC90YvQtSDQutC70LjQtdC90YLQsCcpO1xuICAgICAgaXNDdXN0b21lckZvcm1BY3RpdmUgPSBmYWxzZTtcbiAgICAgICQoJy5jdXN0b21lci1mb3JtIC5pbmZvLWJsb2NrJykuc2hvdygpO1xuICAgICAgJCgnLmN1c3RvbWVyLWZvcm0gLmZpZWxkLWJsb2NrJykuaGlkZSgpO1xuICAgICAgJCgnLmN1c3RvbWVyLWZvcm0gLmhlbHAtYmxvY2snKS50ZXh0KCcnKTtcbiAgICAgICQoJyNpbWFnZWZpbGUnKS52YWwobnVsbCk7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0gQ1VTVE9NRVIgRU5EIC0tLS0tLS0tLS0tLy9cblxuICAgIC8vIC0tLS0tLS0tLS0gTUVEIENBUkUgQkVHSU4gLS0tLS0tLS0tLy9cbiAgICAvLyAtLS0tLS0tLS0tIE1FRCBDQVJFIEVORCAtLS0tLS0tLS0tLS8vXG5cbiAgICAvLyAtLS0tLS0tLS0tIE9SREVSIERPQ1VNRU5UIEJFR0lOIC0tLS0tLS0tLS0vL1xuXG5cbiAgICB2YXIgYWRkRG9jdW1lbnQgPSBmdW5jdGlvbiBhZGREb2N1bWVudChvcmRlcl9pZCwgZG9jKSB7XG4gICAgICB2YXIgZXZlbnQgPSB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ2NsaWVudEV2ZW50cycsIG9yZGVyX2lkKVswXTtcbiAgICAgIGV2ZW50LmRvY3VtZW50cy5wdXNoKGRvYyk7XG4gICAgfTtcblxuICAgIHZhciByZW5kZXJEb2N1bWVudCA9IGZ1bmN0aW9uIHJlbmRlckRvY3VtZW50KGRvYykge1xuICAgICAgdmFyIGRvY1JvdyA9ICc8dHI+XFxuICAgICAgICAgICAgICAgIDx0ZD4nICsgZG9jLmRhdGUgKyAnPC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkPicgKyBkb2MudXNlck5hbWUgKyAnPC90ZD5cXG4gICAgICAgICAgICAgICAgPHRkPicgKyBkb2MudGVtcGxhdGVOYW1lICsgJzwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD48YSBocmVmPVwiJyArIGRvYy5saW5rICsgJ1wiPlxcdTA0MUVcXHUwNDQyXFx1MDQzQVxcdTA0NDBcXHUwNDRCXFx1MDQ0MlxcdTA0NEM8L2E+PC90ZD5cXG4gICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAnO1xuICAgICAgJCgnLm9yZGVyLWRvY3VtZW50cyB0YWJsZSA+IHRib2R5JykuYXBwZW5kKGRvY1Jvdyk7XG4gICAgfTtcblxuICAgIHZhciByZW5kZXJEb2N1bWVudHMgPSBmdW5jdGlvbiByZW5kZXJEb2N1bWVudHMoZG9jdW1lbnRzKSB7XG4gICAgICBkb2N1bWVudHMuZm9yRWFjaChyZW5kZXJEb2N1bWVudCk7XG4gICAgfTtcblxuICAgIHZhciBjbGVhckRvY3VtZW50cyA9IGZ1bmN0aW9uIGNsZWFyRG9jdW1lbnRzKCkge1xuICAgICAgJCgnLm9yZGVyLWRvY3VtZW50cyB0YWJsZSA+IHRib2R5JykuaHRtbCgnJyk7XG4gICAgfTtcblxuICAgIHZhciBsb2FkRG9jc0xpc3QgPSBmdW5jdGlvbiBsb2FkRG9jc0xpc3QoZGl2aXNpb25faWQpIHtcbiAgICAgICQoJ3NlbGVjdFtuYW1lPXRlbXBsYXRlX2lkXScpLmVtcHR5KCk7XG4gICAgICAkLmdldCgnL29yZGVyL2RvY3VtZW50L3RlbXBsYXRlcycsIHsgZGl2aXNpb25faWQ6IGRpdmlzaW9uX2lkIH0pLmRvbmUoZnVuY3Rpb24gKHRlbXBsYXRlcykge1xuICAgICAgICAkLmVhY2godGVtcGxhdGVzLCBmdW5jdGlvbiAoa2V5LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICQoJ3NlbGVjdFtuYW1lPXRlbXBsYXRlX2lkXScpLmFwcGVuZCgkKCc8b3B0aW9uPicsIHsgdmFsdWU6IHRlbXBsYXRlLmlkIH0pLnRleHQodGVtcGxhdGUubmFtZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBhbGVydE1lc3NhZ2UoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YHQv9C40YHQutCwINC00L7QutGD0LzQtdC90YLQvtCyJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIC8vIC0tLS0tLS0tLS0tIE9SREVSIERPQ1VNRU5UIEVORCAtLS0tLS0tLS0tLS0tLS0tLy9cblxuICAgIHZhciBkYXRlRnJvbVN0cmluZyA9IGZ1bmN0aW9uIGRhdGVGcm9tU3RyaW5nKGQpIHtcbiAgICAgIHJldHVybiBtb21lbnQudXRjKGQsICdZWVlZLU1NLy1ERCBISDptbScpO1xuICAgIH07XG5cbiAgICB2YXIgZGF0ZVRvU3RyaW5nID0gZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGQpIHtcbiAgICAgIHJldHVybiBtb21lbnQoZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgfTtcblxuICAgIHZhciBnZXRDdXJyZW50TW9tZW50ID0gZnVuY3Rpb24gZ2V0Q3VycmVudE1vbWVudCgpIHtcbiAgICAgIHJldHVybiBkYXRlRnJvbVN0cmluZyhtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKSk7XG4gICAgfTtcblxuICAgIHZhciBzZXRUaW1lbGluZSA9IGZ1bmN0aW9uIHNldFRpbWVsaW5lKHZpZXcpIHtcbiAgICAgIHZpZXcgPSB2aWV3IHx8IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignZ2V0VmlldycpO1xuXG4gICAgICB2YXIgZmNzbGF0cyA9ICQoJy5mYy10aW1lLWdyaWQ6dmlzaWJsZSAuZmMtc2xhdHMnKS5wYXJlbnQoKTtcbiAgICAgIHZhciB0aW1lbGluZSA9IGZjc2xhdHMuY2hpbGRyZW4oJy50aW1lbGluZScpO1xuICAgICAgdmFyIHRpbWVsaW5lQXJyb3cgPSBmY3NsYXRzLmNoaWxkcmVuKCcudGltZWxpbmUtYXJyb3cnKTtcblxuICAgICAgdmFyIGN1cnJlbnRNb21lbnQgPSBnZXRDdXJyZW50TW9tZW50KCk7XG4gICAgICB2YXIgZHVyYXRpb24gPSBtb21lbnQuZHVyYXRpb24oZHVyYXRpb25fbWluKTtcblxuICAgICAgdmFyIGYgPSBtb21lbnQudXRjKGRhdGVUb1N0cmluZyhtb21lbnQoKSkpLmFkZChkdXJhdGlvbik7XG4gICAgICB2YXIgcm93SGVpZ2h0ID0gZmNzbGF0cy5maW5kKCcuZmMtc2xhdHMgdHI6Zmlyc3QnKS5oZWlnaHQoKTtcblxuICAgICAgLy8gaWYgKHJvd0hlaWdodCA8IDE4KSB7XG4gICAgICAvLyAgIHJvd0hlaWdodCA9IDE4O1xuICAgICAgLy8gfVxuICAgICAgLy8gaWYgKHJvd0hlaWdodCA+IDE4KSB7XG4gICAgICAvLyAgIHJvd0hlaWdodCA9IDIwO1xuICAgICAgLy8gfVxuXG4gICAgICBpZiAodGltZWxpbmUubGVuZ3RoID09IDApIHtcbiAgICAgICAgdGltZWxpbmUgPSAkKCc8aHI+JykuYWRkQ2xhc3MoJ3RpbWVsaW5lJyk7XG4gICAgICAgIHRpbWVsaW5lQXJyb3cgPSAkKCc8Yj48L2I+JykuYWRkQ2xhc3MoJ3RpbWVsaW5lLWFycm93IGNhcmV0Jyk7XG4gICAgICAgIGZjc2xhdHMucHJlcGVuZCh0aW1lbGluZSk7XG4gICAgICAgIGZjc2xhdHMucHJlcGVuZCh0aW1lbGluZUFycm93KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZpZXcuc3RhcnQgPCBjdXJyZW50TW9tZW50ICYmIHZpZXcuZW5kID4gY3VycmVudE1vbWVudCkge1xuICAgICAgICB0aW1lbGluZS5zaG93KCk7XG4gICAgICAgIHRpbWVsaW5lQXJyb3cuc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZWxpbmUuaGlkZSgpO1xuICAgICAgICB0aW1lbGluZUFycm93LmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2xvdF9sZW5ndGhfaW5fbWludXRlcyA9ICskKCcjdGltZXRhYmxlLWludGVydmFsJykudmFsKCkudG9TdHJpbmcoKS5zdWJzdHIoMywgMik7XG4gICAgICB2YXIgdG9wID0gTWF0aC5mbG9vcihNYXRoLmZsb29yKGN1cnJlbnRNb21lbnQuZGlmZihmKSAvIDEwMDAgLyA2MCAvIHNsb3RfbGVuZ3RoX2luX21pbnV0ZXMpICogcm93SGVpZ2h0ICsgcm93SGVpZ2h0IC0gMSk7XG4gICAgICB0aW1lbGluZS5jc3MoJ3RvcCcsIHRvcCArICdweCcpO1xuICAgICAgdGltZWxpbmVBcnJvdy5jc3MoJ3RvcCcsIHRvcCAtIDQgKyAncHgnKTtcblxuICAgICAgaWYgKHZpZXcubmFtZSA9PSAnYWdlbmRhV2VlaycpIHtcbiAgICAgICAgdmFyIHRvZGF5ID0gJCgnLmZjLXRvZGF5OnZpc2libGUnKTtcbiAgICAgICAgdmFyIHRvZGF5TGVmdCA9IHRvZGF5LnBvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgdmFyIHRvZGF5V2lkdGggPSB0b2RheS5vdXRlcldpZHRoKCk7XG4gICAgICAgIHRpbWVsaW5lLmNzcyh7IGxlZnQ6IHRvZGF5TGVmdCArICdweCcsIHdpZHRoOiB0b2RheVdpZHRoICsgJ3B4JyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBheGlzV2lkdGggPSAkKCcuZmMtd2lkZ2V0LWhlYWRlcjp2aXNpYmxlIC5mYy1heGlzJykub3V0ZXJXaWR0aCgpO1xuICAgICAgICB0aW1lbGluZS5jc3MoJ2xlZnQnLCBheGlzV2lkdGggKyAncHgnKTtcbiAgICAgICAgdGltZWxpbmUuY3NzKCd3aWR0aCcsICQoJy5mYy1hZ2VuZGEtdmlldzp2aXNpYmxlJykub3V0ZXJXaWR0aCgpIC0gYXhpc1dpZHRoIC0gMSArICdweCcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgU1RBVFVTX0VOQUJMRUQgPSAxO1xuICAgIHZhciBTVEFUVVNfRklOSVNIRUQgPSAzO1xuICAgIHZhciBTVEFUVVNfQ0FOQ0VMRUQgPSA0O1xuICAgIHZhciBTVEFUVVNfV0FJVElORyA9IDU7XG4gICAgdmFyIHNlbGVjdGVkVXNlckVsID0gY2FsZW5kYXJFbC5maW5kKCcjdGltZXRhYmxlLXNlbGVjdGVkLXVzZXJzJyk7XG4gICAgdmFyIHNlbGVjdGVkVXNlcklEID0gc2VsZWN0ZWRVc2VyRWwuZGF0YSgnc2VsZWN0ZWQtdXNlcicpO1xuICAgIHZhciBzZWxlY3RlZFVzZXJzQXJyID0gc2VsZWN0ZWRVc2VyRWwuZGF0YSgnc2VsZWN0ZWQtdXNlcnMnKTtcbiAgICB2YXIgZHVyYXRpb25fbWluID0gdGltZXRhYmxlQ2FsZW5kYXIuZGF0YSgnZHVyYXRpb24tbWluJyk7XG4gICAgdmFyIGR1cmF0aW9uX21heCA9IHRpbWV0YWJsZUNhbGVuZGFyLmRhdGEoJ2R1cmF0aW9uLW1heCcpO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB1aS1kYXRlcGlja2VyLW5leHRcbiAgICBjYWxlbmRhckVsLmZpbmQoJyNkYXRlcGlja2VyJykuZGF0ZXBpY2tlcih7XG4gICAgICBkYXlOYW1lc01pbjogWyfQktGBJywgJ9Cf0L0nLCAn0JLRgicsICfQodGAJywgJ9Cn0YInLCAn0J/RgicsICfQodCxJ10sXG4gICAgICBtb250aE5hbWVzOiBbJ9Cv0L3QstCw0YDRjCcsICfQpNC10LLRgNCw0LvRjCcsICfQnNCw0YDRgicsICfQkNC/0YDQtdC70YwnLCAn0JzQsNC5JywgJ9CY0Y7QvdGMJywgJ9CY0Y7Qu9GMJywgJ9CQ0LLQs9GD0YHRgicsICfQodC10L3RgtGP0LHRgNGMJywgJ9Ce0LrRgtGP0LHRgNGMJywgJ9Cd0L7Rj9Cx0YDRjCcsICfQlNC10LrQsNCx0YDRjCddLFxuICAgICAgZmlyc3REYXk6IDEsXG4gICAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoZGF0ZVRleHQsIGluc3QpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gbW9tZW50KGRhdGVUZXh0LCAnREQuTU0uWVlZWScpO1xuICAgICAgICAkLmdldEpTT04od29ya2luZ1BlcmlvZCwge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydC5mb3JtYXQoJ1lZWVktTU0tREQnKSxcbiAgICAgICAgICBlbmQ6IHN0YXJ0LmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ29wdGlvbicsICdtaW5UaW1lJywgZGF0YVsnbWluJ10pO1xuICAgICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignb3B0aW9uJywgJ21heFRpbWUnLCBkYXRhWydtYXgnXSk7XG4gICAgICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdnb3RvRGF0ZScsIHN0YXJ0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgdGl0bGUgYXR0cmlidXRlIGZvciBkYXRlcGlja2VyIGJ1dHRvbnMgYmVjYXVzZSBvZiBpbmNvcnJlY3QgdG9vbHRpcCByZW5kZXJpbmdcbiAgICAkKCcudWktZGF0ZXBpY2tlci1uZXh0LnVpLWNvcm5lci1hbGwnKS5yZW1vdmVBdHRyKCd0aXRsZScpO1xuICAgICQoJy51aS1kYXRlcGlja2VyLXByZXYudWktY29ybmVyLWFsbCcpLnJlbW92ZUF0dHIoJ3RpdGxlJyk7XG5cbiAgICAvLyBpbml0aWFsaXplIGZ1bGxjYWxlbmRhclxuICAgIHZhciBmb3JtYXQgPSAnSEg6bW06c3MgREQuTU0uWVlZWSc7XG4gICAgdmFyIGRpc3BsYXlIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgdmFyIGN1ckV2ZW50ID0gZmFsc2U7XG4gICAgdmFyIHJlc291cmNlUmVmcmVzaEludGVydmFsID0gdm9pZCAwO1xuICAgIHZhciBzbG90SW50ZXJ2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2xvdEludGVydmFsJykgfHwgJzAwOjA1OjAwJztcbiAgICB2YXIgY3VycmVudFRpbWUgPSBtb21lbnQoKS5zdWJ0cmFjdCgwLjUsICdob3VyJykuZm9ybWF0KCdISDptbTowMCcpO1xuXG4gICAgdmFyIGZjT3B0cyA9IHtcbiAgICAgIGxvY2FsZTogJ3J1JyxcbiAgICAgIGRlZmF1bHRWaWV3OiAnYWdlbmRhRGF5JyxcbiAgICAgIHRpbWV6b25lOiAnQXNpYS9BbG1hdHknLFxuICAgICAgYWxsRGF5VGV4dDogJ9Cy0LXRgdGMINC00LXQvdGMJyxcbiAgICAgIGFsbERheVNsb3Q6IGZhbHNlLFxuICAgICAgc2xvdER1cmF0aW9uOiBzbG90SW50ZXJ2YWwsXG4gICAgICBzbG90TGFiZWxJbnRlcnZhbDogJzAxOjAwOjAwJyxcbiAgICAgIHdlZWtOdW1iZXJzOiB0cnVlLFxuICAgICAgZGlzcGxheUV2ZW50VGltZTogdHJ1ZSxcbiAgICAgIGRpc3BsYXlFdmVudEVuZDogdHJ1ZSxcbiAgICAgIGRpc3BsYXlBbm5vdGF0aW9uOiB0cnVlLFxuICAgICAgc2VsZWN0SGVscGVyOiB0cnVlLFxuICAgICAgc2Nyb2xsVGltZTogY3VycmVudFRpbWUsXG4gICAgICBtaW5UaW1lOiBkdXJhdGlvbl9taW4sXG4gICAgICBtYXhUaW1lOiBkdXJhdGlvbl9tYXgsXG4gICAgICBjb250ZW50SGVpZ2h0OiBkaXNwbGF5SGVpZ2h0IC0gMTEwLFxuICAgICAgYXNwZWN0UmF0aW86IDAuMDAxLFxuICAgICAgYXhpc0Zvcm1hdDogJ0hIOm1tJyxcbiAgICAgIHNsb3RMYWJlbEZvcm1hdDogJ0hIOm1tJyxcbiAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgIGRyb3BwYWJsZTogdHJ1ZSwgLy8gdGhpcyBhbGxvd3MgdGhpbmdzIHRvIGJlIGRyb3BwZWQgb250byB0aGUgY2FsZW5kYXIgISEhXG4gICAgICBkcm9wQWNjZXB0OiAnLmRyYWdnYWJsZS1vcmRlcicsXG4gICAgICBldmVudER1cmF0aW9uRWRpdGFibGU6IHRydWUsXG4gICAgICBldmVudE92ZXJsYXA6IHRydWUsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgdXJsOiBsaXN0RXZlbnRzVXJsLFxuICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgICAgICAgIHZhciB2aWV3TmFtZSA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignZ2V0VmlldycpLm5hbWU7XG4gICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICB2aWV3TmFtZTogdmlld05hbWUsXG4gICAgICAgICAgICBfY3NyZjogJCgnbWV0YVtuYW1lPWNzcmYtdG9rZW5dJykuYXR0cignY29udGVudCcpLFxuICAgICAgICAgICAgZGl2aXNpb25faWQ6ICQoJyN0aW1ldGFibGUtZGl2aXNpb25faWQnKS52YWwoKSxcbiAgICAgICAgICAgIHBvc2l0aW9uX2lkOiAkKCcjdGltZXRhYmxlLXBvc2l0aW9uX2lkJykudmFsKClcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gW107XG4gICAgICAgICAgJC5lYWNoKCQoJ2lucHV0LmNoZWNrYm94dXNlcjpjaGVja2VkJyksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkLnB1c2goJCh0aGlzKS5kYXRhKCdlbnRpdHktaWQnKSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAodmlld05hbWUgIT0gJ2FnZW5kYURheScpIHtcbiAgICAgICAgICAgIGRhdGEuc3RhZmZzID0gc2VsZWN0ZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChyZXNvdXJjZVJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICAgICAgYWxlcnRNZXNzYWdlKCfQn9GA0L7QsdC70LXQvNGLINGBINC+0LHQvdC+0LLQu9C10L3QuNC10Lwg0LfQsNC/0LjRgdC10LkuINCS0L7Qt9C80L7QttC90L4sINGDINCy0LDRgSDQv9GA0L7QsdC70LXQvNGLINGBINC40L3RgtC10YDQvdC10YLQvtC8Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZXZlbnRzKSB7XG4gICAgICAgICAgdmFyIG1heFRpbWUgPSB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ29wdGlvbicsICdtYXhUaW1lJyk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBldmVudHMgIT0gJ3VuZGVmaW5lZCcgJiYgZXZlbnRzLmxlbmd0aCA+IDAgJiYgZXZlbnRzWzBdLmlkKSB7XG4gICAgICAgICAgICBtYXhUaW1lID0gZXZlbnRzWzBdLm1heFRpbWU7XG4gICAgICAgICAgICBleHRlbmRDYWxlbmRhcihtYXhUaW1lLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZWZldGNoUmVzb3VyY2VzT25OYXZpZ2F0ZTogdHJ1ZSxcbiAgICAgIHJlc291cmNlczogZnVuY3Rpb24gcmVzb3VyY2VzKGNhbGxiYWNrLCBzdGFydCwgZW5kLCB0aW1lem9uZSkge1xuICAgICAgICB2YXIgdmlld05hbWUgPSB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ2dldFZpZXcnKS5uYW1lO1xuICAgICAgICB2YXIgZGF0ZSA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignZ2V0RGF0ZScpO1xuICAgICAgICAkLmdldEpTT04obGlzdFJlc291cmNlc1VybCwge1xuICAgICAgICAgIGRhdGU6IGRhdGUuZm9ybWF0KCdERC5NTS5ZWVlZJyksXG4gICAgICAgICAgZGl2aXNpb25faWQ6ICQoJyN0aW1ldGFibGUtZGl2aXNpb25faWQnKS52YWwoKSxcbiAgICAgICAgICBwb3NpdGlvbl9pZDogJCgnI3RpbWV0YWJsZS1wb3NpdGlvbl9pZCcpLnZhbCgpXG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBpZiAodmlld05hbWUgPT0gJ2FnZW5kYURheScpIHtcbiAgICAgICAgICAgIHNldFRpbWV0YWJsZVN0YWZmKGRhdGEsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgcmVzb3VyY2VPcmRlcjogJ3N0YWZmX2lkJyxcbiAgICAgIHJlc291cmNlUmVuZGVyOiBmdW5jdGlvbiByZXNvdXJjZVJlbmRlcihyZXNvdXJjZU9iaiwgbGFiZWxUZHMsIGJvZHlUZHMpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gJ9Cd0LXRgiDRgNCw0YHQv9C40YHQsNC90LjRjyc7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9ICQoJy5jaGVja2JveHVzZXJbZGF0YS1lbnRpdHktaWQ9JyArIHJlc291cmNlT2JqLmlkICsgJ10nKS5kYXRhKCdlbnRpdHktcG9zaXRpb24nKTtcbiAgICAgICAgaWYgKHJlc291cmNlT2JqLnNjaGVkdWxlKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gbW9tZW50KHJlc291cmNlT2JqLnNjaGVkdWxlLnN0YXJ0X2F0KS5mb3JtYXQoJ0hIOm1tJyk7XG4gICAgICAgICAgdmFyIGVuZCA9IG1vbWVudChyZXNvdXJjZU9iai5zY2hlZHVsZS5lbmRfYXQpLmZvcm1hdCgnSEg6bW0nKTtcbiAgICAgICAgICBpZiAoZW5kID09ICcwMDowMCcpIHtcbiAgICAgICAgICAgIGVuZCA9ICcyNDowMCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRpdGxlID0gc3RhcnQgKyAnIC0gJyArIGVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFiZWxUZHMuYXBwZW5kKCc8ZGl2IGRhdGEtYW5ub3RhdGlvbnMtY29sPVwiMFwiIGNsYXNzPVwiZmMtYW5ub3RhdGlvblwiPicgKyB0aXRsZSArICc8YnI+JyArIHBvc2l0aW9uICsgJzwvZGl2PicpO1xuICAgICAgfSxcbiAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHN0YXJ0LCBlbmQsIGpzRXZlbnQsIHZpZXcsIHJlc291cmNlKSB7XG4gICAgICAgIC8vIG9wZW4gbW9kYWwgd2luZG93IHdpdGggIGZvcm1cbiAgICAgICAgcmVuZGVyT3JkZXJCdXR0b25zKCk7XG4gICAgICAgICQoJyNwYXltZW50cycpLmRhdGEoJ2JhbGFuY2UnLCAwKTtcbiAgICAgICAgJCgnI29yZGVyLWNvbXBhbnlfY3VzdG9tZXJfaWQnKS52YWwoJycpO1xuXG4gICAgICAgIHZhciBjb2xvciA9IHJlc291cmNlID8gcmVzb3VyY2UuZXZlbnRDbGFzc05hbWUgOiAkKCdpbnB1dC5jaGVja2JveHVzZXI6Y2hlY2tlZCcpLmRhdGEoJ2VudGl0eS1jb2xvcicpO1xuICAgICAgICAkKCcjb3JkZXItY29sb3InKS52YWwoY29sb3IpLmNoYW5nZSgpO1xuXG4gICAgICAgIG5vcm1hbGl6ZU9yZGVyVGFicyhmYWxzZSk7XG4gICAgICAgIHNldE1vZGFsVGl0bGUoJ9CX0LDQv9C40YHRjCDQvdCwJywgc3RhcnQuZm9ybWF0KCdERCBNTU1NIFlZWVkgSEg6bW0nKSk7XG4gICAgICAgIHJlbmRlclBheW1lbnRzKHJlc291cmNlKTtcbiAgICAgICAgc2hvd09yZGVyTW9kYWwoKTtcblxuICAgICAgICB2YXIgc3RhZmZfaWQgPSByZXNvdXJjZSA/IHJlc291cmNlLmlkIDogJCgnaW5wdXQuY2hlY2tib3h1c2VyOmNoZWNrZWQnKS5kYXRhKCdlbnRpdHktaWQnKTtcbiAgICAgICAgdmFyIGRpdmlzaW9uX2lkID0gcmVzb3VyY2UgPyByZXNvdXJjZS5kaXZpc2lvbl9pZCA6ICQoJ2lucHV0LmNoZWNrYm94dXNlcjpjaGVja2VkJykuZGF0YSgnZW50aXR5LWRpdmlzaW9uX2lkJyk7XG5cbiAgICAgICAgJCgnI29yZGVyLWhvdXJzX2JlZm9yZScpLnZhbChkaXZpc2lvbl9ub3RpZmljYXRpb25bZGl2aXNpb25faWRdKTtcblxuICAgICAgICAkKCcjZXZlbnQtc3RhZmZfaWQnKS52YWwoc3RhZmZfaWQpO1xuICAgICAgICAkKCcjb3JkZXItZGl2aXNpb25faWQnKS52YWwoZGl2aXNpb25faWQpLmNoYW5nZSgpO1xuICAgICAgICAvLyBzZXQgZGF0ZSBpbiBmb3JtXG4gICAgICAgICQoJyNvcmRlci1kYXRldGltZScpLnZhbChzdGFydC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKSk7XG4gICAgICAgICQoJyNvcmRlci1kYXRldGltZXBpY2tlcicpLnZhbChjYXBpdGFsaXplKHN0YXJ0LmZvcm1hdCgnREQgJykgKyBzdGFydC5mb3JtYXQoJ01NTU0gJykgKyBzdGFydC5mb3JtYXQoJ1lZWVkgSEg6bW0nKSkpO1xuXG4gICAgICAgIGN1ckV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcigndW5zZWxlY3QnKTtcbiAgICAgIH0sXG4gICAgICBldmVudENsaWNrOiBmdW5jdGlvbiBldmVudENsaWNrKGV2ZW50LCBqc0V2ZW50KSB7XG4gICAgICAgIHJlbmRlck9yZGVyQnV0dG9ucyhldmVudCk7XG4gICAgICAgIGZldGNoT3JkZXIoZXZlbnQpO1xuICAgICAgICBub3JtYWxpemVPcmRlclRhYnModHJ1ZSk7XG4gICAgICAgIHNldE1vZGFsVGl0bGUoJ9CX0LDQv9C40YHRjCDQvdCwICcsIGNhcGl0YWxpemUoZXZlbnQuc3RhcnQuZm9ybWF0KCdERCBNTU1NIFlZWVkgSEg6bW0nKSkpO1xuICAgICAgICBsb2FkRG9jc0xpc3QoZXZlbnQuZGl2aXNpb25faWQpO1xuICAgICAgICBsb2FkTWVkQ2FyZHMoZXZlbnQuY29tcGFueV9jdXN0b21lcl9pZCk7XG4gICAgICAgIHNob3dPcmRlck1vZGFsKCk7XG5cbiAgICAgICAgY3VyRXZlbnQgPSBldmVudDtcbiAgICAgIH0sXG4gICAgICBldmVudERyb3A6IGZ1bmN0aW9uIGV2ZW50RHJvcChldmVudCwgZGVsdGEsIHJldmVydEZ1bmMsIGpzRXZlbnQsIHVpLCB2aWV3KSB7XG4gICAgICAgIGlmIChldmVudC5zdGF0dXMgPT0gU1RBVFVTX0ZJTklTSEVEKSB7XG4gICAgICAgICAgcmV2ZXJ0RnVuYygpO1xuICAgICAgICB9XG4gICAgICAgIGRyb3BDYWxlbmRhckV2ZW50KGV2ZW50LCByZXZlcnRGdW5jKTtcbiAgICAgIH0sXG4gICAgICBldmVudFJlc2l6ZTogZnVuY3Rpb24gZXZlbnRSZXNpemUoZXZlbnQsIGRlbHRhLCByZXZlcnRGdW5jKSB7XG4gICAgICAgIGlmIChldmVudC5zdGF0dXMgPT0gU1RBVFVTX0ZJTklTSEVEKSB7XG4gICAgICAgICAgcmV2ZXJ0RnVuYygpO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZUV2ZW50RHVyYXRpb24oZXZlbnQsIHJldmVydEZ1bmMpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50UmVuZGVyOiBmdW5jdGlvbiBldmVudFJlbmRlcihldmVudCwgZWxlbWVudCkge1xuICAgICAgICAvLyB2YXIgY29sb3IgPSAkKFwiaW5wdXRbdHlwZT0ncmFkaW8nXTpjaGVja2VkXCIpLmF0dHIoJ2RhdGEtZW50aXR5LWNvbG9yJyk7XG4gICAgICAgIGlmIChldmVudC5pZCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZXZlbnQuY29sb3IpO1xuICAgICAgICAgIHZhciB0aXAgPSBcIjxkaXYgY2xhc3M9J2pzLXNob3ctZXZlbnQtdGlwIGZjLWV2ZW50LXRpcCc+PGkgY2xhc3M9J2ZhIGZhLWluZm8nPjwvaT48L2Rpdj5cIjtcbiAgICAgICAgICBpZiAoZXZlbnQuY3VzdG9tZXIgJiYgZXZlbnQuY3VzdG9tZXIuYmFsYW5jZSA8IDApIHtcbiAgICAgICAgICAgIHRpcCArPSBcIjxkaXYgY2xhc3M9J2pzLXNob3ctY3VzdG9tZXItZGVidC10aXAgZmMtZXZlbnQtdGlwIGZjLWV2ZW50LXRpcF9yZWQnPjxpIGNsYXNzPSdmYSBmYS1kb2xsYXItc2lnbic+PC9pPjwvZGl2PlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQuY3VzdG9tZXIgJiYgZXZlbnQuY3VzdG9tZXIuZmluaXNoZWRPcmRlcnMgPT0gMCkge1xuICAgICAgICAgICAgdGlwICs9IFwiPGRpdiBjbGFzcz0nanMtc2hvdy1jdXN0b21lci1uZXctdGlwIGZjLWV2ZW50LXRpcCBmYy1ldmVudC10aXBfZ3JlZW4nPtCdPC9kaXY+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuZmluZCgnLmZjLXRpbWUnKS5hcHBlbmQodGlwKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGV2ZW50QWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uIGV2ZW50QWZ0ZXJSZW5kZXIoZXZlbnQsIGVsZW1lbnQsIHZpZXcpIHtcbiAgICAgICAgaWYgKGV2ZW50LmlkKSB7XG4gICAgICAgICAgdmFyIHRpdGxlID0gJyc7XG4gICAgICAgICAgJC5lYWNoKGV2ZW50LnNlcnZpY2VzLCBmdW5jdGlvbiAoa2V5LCBzZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aXRsZSArPSBzZXJ2aWNlLnNlcnZpY2VfbmFtZSArICcoJyArIHNlcnZpY2UuZHVyYXRpb24gKyAnXFx1MDQzQ1xcdTA0MzhcXHUwNDNELCAnICsgc2VydmljZS5wcmljZSArICdcXHUzMDEyKTxicj4nO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgIGlmIChldmVudC5lbmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSAnPGRpdiBjbGFzcz1cXCdldmVudC1kZXNjcmlwdGlvbi1pdGVtXFwnPjxiPicgKyBldmVudC5zdGFydC5mb3JtYXQoJ0hIOm1tJykgKyAnIC0gJyArIGV2ZW50LmVuZC5mb3JtYXQoJ0hIOm1tJykgKyAnPC9iPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcJ2V2ZW50LWRlc2NyaXB0aW9uLWl0ZW1cXCc+JyArIGV2ZW50LmN1c3RvbWVyLm5hbWUgKyAnPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnZXZlbnQtZGVzY3JpcHRpb24taXRlbVxcJz4nICsgZXZlbnQuY3VzdG9tZXIucGhvbmUgKyAnPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnZXZlbnQtZGVzY3JpcHRpb24taXRlbVxcJz4nICsgdGl0bGUgKyAnPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFwnZXZlbnQtZGVzY3JpcHRpb24taXRlbVxcJz4nICsgZXZlbnQubm90ZSArICc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICAgICAgICBteTogJ2xlZnQgY2VudGVyJyxcbiAgICAgICAgICAgIGF0OiAncmlnaHQgY2VudGVyJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHJlc291cmNlcyA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignZ2V0UmVzb3VyY2VzJyk7XG4gICAgICAgICAgdmFyIG1heFN0YWZmSWQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzb3VyY2VzLm1hcChmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgcmV0dXJuIG8uc3RhZmZfaWQ7XG4gICAgICAgICAgfSkpKTtcbiAgICAgICAgICBpZiAodmlldy5uYW1lICE9ICdhZ2VuZGFEYXknICYmIGV2ZW50LnN0YXJ0Lmlzb1dlZWtkYXkoKSA9PSA3IHx8IHZpZXcubmFtZSA9PSAnYWdlbmRhRGF5JyAmJiBtYXhTdGFmZklkID09IGV2ZW50LnN0YWZmX2lkKSB7XG4gICAgICAgICAgICBwb3NpdGlvbi5teSA9ICdyaWdodCBjZW50ZXInO1xuICAgICAgICAgICAgcG9zaXRpb24uYXQgPSAnbGVmdCBjZW50ZXInO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LmZpbmQoJy5qcy1zaG93LWV2ZW50LXRpcCcpLnF0aXAoe1xuICAgICAgICAgICAgb3ZlcndyaXRlOiB0cnVlLFxuICAgICAgICAgICAgY29udGVudDogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBzdHlsZTogeyBjbGFzc2VzOiAncXRpcC1saWdodCBxdGlwLXNoYWRvdyBxdGlwLWNhbGVuZGFyJyB9LFxuICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCcuanMtc2hvdy1jdXN0b21lci1uZXctdGlwJykucXRpcCh7XG4gICAgICAgICAgICBvdmVyd3JpdGU6IHRydWUsXG4gICAgICAgICAgICBjb250ZW50OiAn0J3QvtCy0YvQuSDQutC70LjQtdC90YInLFxuICAgICAgICAgICAgc3R5bGU6IHsgY2xhc3NlczogJ3F0aXAtbGlnaHQgcXRpcC1zaGFkb3cgcXRpcC1jYWxlbmRhcicgfSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW1lbnQuZmluZCgnLmpzLXNob3ctY3VzdG9tZXItZGVidC10aXAnKS5xdGlwKHtcbiAgICAgICAgICAgIG92ZXJ3cml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfQoyDQutC70LjQtdC90YLQsCDQtdGB0YLRjCDQvdC10L/QvtCz0LDRiNC10L3QvdGL0Lkg0LTQvtC70LMnLFxuICAgICAgICAgICAgc3R5bGU6IHsgY2xhc3NlczogJ3F0aXAtbGlnaHQgcXRpcC1zaGFkb3cgcXRpcC1jYWxlbmRhcicgfSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBkZWZhdWx0VGltZWRFdmVudER1cmF0aW9uOiAnMDA6MzA6MDAnLFxuICAgICAgZXZlbnRSZWNlaXZlOiBmdW5jdGlvbiBldmVudFJlY2VpdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuZG9jdW1lbnRzID0gW107XG4gICAgICAgIGV2ZW50LmZpbGVzID0gW107XG4gICAgICB9LFxuICAgICAgZHJvcDogZnVuY3Rpb24gZHJvcChkYXRlLCBqc0V2ZW50LCB1aSwgcmVzb3VyY2VJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgJC5wb3N0KHtcbiAgICAgICAgICAgIHVybDogJy90aW1ldGFibGUvZW5hYmxlLXBlbmRpbmc/aWQ9JyArIGlkLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHN0YXJ0OiBkYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXG4gICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiAkKF90aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgJC5qR3Jvd2woJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC30LDQv9C40YHQuCDQsiDQs9GA0LDRhNC40LouJywgeyBncm91cDogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcigncmVtb3ZlRXZlbnRzJywgaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBjdXN0b21CdXR0b25zOiB7XG4gICAgICAgIHByaW50OiB7XG4gICAgICAgICAgdGV4dDogJ9C/0LXRh9Cw0YLRjCcsXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgd2luZG93LnByaW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIGxlZnQ6ICdwcmV2LG5leHQgdG9kYXkgcHJpbnQnLFxuICAgICAgICBjZW50ZXI6ICd0aXRsZScsXG4gICAgICAgIHJpZ2h0OiAnbW9udGgsYWdlbmRhV2VlayxhZ2VuZGFEYXknXG4gICAgICB9LFxuICAgICAgYnV0dG9uVGV4dDoge1xuICAgICAgICB0b2RheTogJ9GB0LXQs9C+0LTQvdGPJyxcbiAgICAgICAgbW9udGg6ICfQvNC10YHRj9GGJyxcbiAgICAgICAgd2VlazogJ9C90LXQtNC10LvRjycsXG4gICAgICAgIGRheTogJ9C00LXQvdGMJ1xuICAgICAgfSxcbiAgICAgIHdlZWtOdW1iZXJUaXRsZTogJ9C90LXQtCcsXG4gICAgICB2aWV3czoge1xuICAgICAgICBtb250aDoge1xuICAgICAgICAgIGNvbHVtbkZvcm1hdDogJ2RkZCdcbiAgICAgICAgfSxcbiAgICAgICAgYWdlbmRhOiB7XG4gICAgICAgICAgY29sdW1uRm9ybWF0OiAnZGRkIE0vRCdcbiAgICAgICAgfSxcbiAgICAgICAgd2Vlazoge1xuICAgICAgICAgIHRpdGxlRm9ybWF0OiAnREQgTU1NIFlZWVknXG4gICAgICAgIH0sXG4gICAgICAgIGRheToge1xuICAgICAgICAgIHRpdGxlRm9ybWF0OiAnZGRkZCwgREQgTU1NIFlZWVknXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2aWV3UmVuZGVyOiBmdW5jdGlvbiB2aWV3UmVuZGVyKHZpZXcpIHtcbiAgICAgICAgaWYgKHZpZXcubmFtZSAhPSAnYWdlbmRhRGF5Jykge1xuICAgICAgICAgICQoJy5lbnRpdHlfbGlzdF9pdGVtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIGNoYW5nZUlucHV0VHlwZSgnY2hlY2tib3h1c2VyJywgJ3JhZGlvJyk7XG4gICAgICAgICAgc2V0UmFkaW9MaXN0ZW5lcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5lbnRpdHlfbGlzdF9pdGVtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIGNoYW5nZUlucHV0VHlwZSgnY2hlY2tib3h1c2VyJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgICAgc2V0Q2hlY2tib3hMaXN0ZW5lcigpO1xuICAgICAgICB9XG4gICAgICAgIGFkZF9ob3Vyc190b19ob3ZlcmVkX3Nsb3RzKHZpZXcpO1xuICAgICAgICBzZXRUaW1lbGluZSh2aWV3KTtcbiAgICAgIH0sXG5cbiAgICAgIGxhenlGZXRjaGluZzogZmFsc2VcbiAgICB9O1xuICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcihmY09wdHMpO1xuXG4gICAgc2V0SW50ZXJ2YWwoc2V0VGltZWxpbmUsIDMwICogMTAwMCk7XG4gICAgaW5pdENvbG9yUGlja2VyKCdzZWxlY3RbbmFtZT1cIk9yZGVyW2NvbG9yXVwiXScpO1xuXG4gICAgJCgnI3RpbWV0YWJsZS1kaXZpc2lvbl9pZCcpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZGl2aXNpb25faWQgPSAkKHRoaXMpLnZhbCgpO1xuXG4gICAgICAkKCcuY2hlY2tib3h1c2VyW2RhdGEtZW50aXR5LWRpdmlzaW9uX2lkIT0nICsgZGl2aXNpb25faWQgKyAnXScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS5jbG9zZXN0KCcuZW50aXR5X2xpc3RfaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgdmFyIHNlbGVjdG9yID0gJy5jaGVja2JveHVzZXJbZGF0YS1lbnRpdHktZGl2aXNpb25faWQ9JyArIGRpdmlzaW9uX2lkICsgJ10nO1xuICAgICAgaWYgKHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignZ2V0VmlldycpLm5hbWUgIT0gJ2FnZW5kYURheScpIHtcbiAgICAgICAgc2VsZWN0b3IgPSAnLmNoZWNrYm94dXNlcltkYXRhLWVudGl0eS1kaXZpc2lvbl9pZD0nICsgZGl2aXNpb25faWQgKyAnXTpmaXJzdCc7XG4gICAgICB9XG5cbiAgICAgICQoc2VsZWN0b3IpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKS5jbG9zZXN0KCcuZW50aXR5X2xpc3RfaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgdGltZXRhYmxlQ2FsZW5kYXIuZnVsbENhbGVuZGFyKCdyZWZldGNoUmVzb3VyY2VzJyk7XG4gICAgICB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ3JlZmV0Y2hFdmVudHMnKTtcbiAgICB9KTtcblxuICAgICQoJyN0aW1ldGFibGUtcG9zaXRpb25faWQnKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgJCgnI3RpbWV0YWJsZS1kaXZpc2lvbl9pZCcpLmNoYW5nZSgpO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZXRhYmxlSW50ZXJ2YWwoc2xvdEludGVydmFsKTtcbiAgICBzZXRJbnRlcnZhbExpc3RlbmVyKCk7XG5cbiAgICAkKCcuY2xvc2Utb3JkZXItYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgIGlmIChjdXJFdmVudCAmJiBjdXJFdmVudC5zdGF0dXMgIT0gU1RBVFVTX0ZJTklTSEVEKSB7XG4gICAgICAgIHZhciBmb3JtID0gJCgnI29yZGVyLWZvcm0nKTtcbiAgICAgICAgdmFyIGlucHV0cyA9IGZvcm0uc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgICAgaGFzQ2hhbmdlcyA9IGNoZWNrQ2hhbmdlcyhpbnB1dHMsIGN1ckV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIWN1ckV2ZW50KSB7XG4gICAgICAgIGhhc0NoYW5nZXMgPSAkKCcjb3JkZXItY3VzdG9tZXJfbmFtZScpLnZhbCgpIHx8ICQoJyNvcmRlci1jdXN0b21lcl9waG9uZScpLnZhbCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBvcGVuIG1vZGFsIHdpdGggY29uZmlybWF0aW9uXG4gICAgICBpZiAoaGFzQ2hhbmdlcykge1xuICAgICAgICBib290Ym94LmRpYWxvZyh7XG4gICAgICAgICAgbWVzc2FnZTogJ9Cf0YDQuCDQt9Cw0LrRgNGL0YLQuNC4INC00LDQvdC90L7Qs9C+INC+0LrQvdCwINCy0YHQtSDQvdC10YHQvtGF0YDQsNC90LXQvdC90YvQtSDQtNCw0L3QvdGL0LUg0LHRg9C00YPRgiDRg9GC0LXRgNGP0L3Riy4g0J/RgNC+0LTQvtC70LbQuNGC0Yw/JyxcbiAgICAgICAgICB0aXRsZTogJ9CS0Ysg0YPQstC10YDQtdC90Ys/JyxcbiAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiAn0J/QvtC00YLQstC10YDQtNC40YLRjCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1wcmltYXJ5IHB1bGwtbGVmdCcsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGlkZUFuZFJlc2V0Rm9ybSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGFuZ2VyOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiAn0J7RgtC80LXQvdC40YLRjCcsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1kZWZhdWx0IHB1bGwtcmlnaHQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNsb3NlIG1vZGFsIHdpbmRvdyBhbmQgcmVzZXQgZm9ybVxuICAgICAgICBoaWRlQW5kUmVzZXRGb3JtKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuZGVsZXRlLW9yZGVyLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBib290Ym94LmRpYWxvZyh7XG4gICAgICAgIG1lc3NhZ2U6ICfQn9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INGB0YLQsNGC0YPRgdCwINC30LDQv9C40YHRjCDQuNGB0YfQtdC30L3QtdGCINC40Lcg0YLQsNCx0LvQuNGG0YsuJyArIFwiPGJyLz7QndC+INCy0Ysg0YHQvNC+0LbQtdGC0LUg0L/RgNC+0YHQvNC+0YLRgNC10YLRjCDQstC+INCy0LrQu9Cw0LTQutC1ICfQntCx0LfQvtGAJy5cIiArICc8YnIvPtCf0YDQvtC00L7Qu9C20LjRgtGMPycsXG4gICAgICAgIHRpdGxlOiAn0JLRiyDRg9Cy0LXRgNC10L3Riz8nLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgbGFiZWw6ICfQn9C+0LTRgtCy0LXRgNC00LjRgtGMJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1kYW5nZXIgcHVsbC1sZWZ0JyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgdmFyIGlkID0gJCgnI29yZGVyLWlkJykudmFsKCk7XG4gICAgICAgICAgICAgICQucG9zdChkZWxldGVFdmVudFVybCArICc/aWQ9JyArIGlkLCB7IF9jc3JmOiAkKCdtZXRhW25hbWU9Y3NyZi10b2tlbl0nKS5hdHRyKCdjb250ZW50JykgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aW1ldGFibGVDYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ3JlbW92ZUV2ZW50cycsIGlkKTtcbiAgICAgICAgICAgICAgICBoaWRlQW5kUmVzZXRGb3JtKCk7XG4gICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKCfQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6LiDQn9GA0L7QstC10YDRjNGC0LUg0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQuCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQtdGJ0LUg0YDQsNC3Jyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGFuZ2VyOiB7XG4gICAgICAgICAgICBsYWJlbDogJ9Ce0YLQvNC10L3QuNGC0YwnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLWRlZmF1bHQgcHVsbC1yaWdodCcsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKCcuY2FuY2VsLW9yZGVyLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaWQgPSAkKCcjb3JkZXItaWQnKS52YWwoKTtcbiAgICAgIHZhciBldmVudCA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignY2xpZW50RXZlbnRzJywgaWQpWzBdO1xuICAgICAgJC5wb3N0KCcnICsgKCcvdGltZXRhYmxlL2NhbmNlbC1ldmVudCcgKyAnP2lkPScpICsgaWQsIHsgX2NzcmY6ICQoJ21ldGFbbmFtZT1jc3JmLXRva2VuXScpLmF0dHIoJ2NvbnRlbnQnKSB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBldmVudC5zdGF0dXMgPSBTVEFUVVNfQ0FOQ0VMRUQ7XG4gICAgICAgIGV2ZW50LmNsYXNzTmFtZSA9ICdjYW5jZWxlZF9ldmVudCc7XG4gICAgICAgIHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcigndXBkYXRlRXZlbnQnLCBldmVudCk7IC8vIHN0aWNrPyA9IHRydWVcbiAgICAgICAgJC5qR3Jvd2woJ9CX0LDQv9C40YHRjCDQvtGC0LzQtdC90LXQvdCwINGD0YHQv9C10YjQvdC+LicsIHsgZ3JvdXA6ICdmbGFzaF9ub3RpY2UnIH0pO1xuICAgICAgICBoaWRlQW5kUmVzZXRGb3JtKCk7XG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBhbGVydE1lc3NhZ2UoJ9Cn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0LouINCf0YDQvtCy0LXRgNGM0YLQtSDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC4INC/0L7Qv9GA0L7QsdGD0LnRgtC1INC10YnQtSDRgNCw0LcnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJCgnLnByaW50LW9yZGVyLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgaWQgPSAkKCcjb3JkZXItaWQnKS52YWwoKTtcbiAgICAgIHZhciBldmVudCA9IHRpbWV0YWJsZUNhbGVuZGFyLmZ1bGxDYWxlbmRhcignY2xpZW50RXZlbnRzJywgaWQpWzBdO1xuICAgICAgdmFyIHByaW50ZWRDb250ZW50ID0gJCgnI29yZGVyLXByaW50JykuY2xvbmUoKTtcbiAgICAgIHZhciBkaXZpc2lvbk9wdGlvbiA9ICQoJyN0aW1ldGFibGUtZGl2aXNpb25faWQgb3B0aW9uW3ZhbHVlPScgKyBldmVudC5kaXZpc2lvbl9pZCArICddJyk7XG4gICAgICB2YXIgc3RhZmZOYW1lID0gJCgnLmNoZWNrYm94dXNlcltkYXRhLWVudGl0eS1pZD0nICsgZXZlbnQuc3RhZmZfaWQgKyAnXScpLmRhdGEoJ2VudGl0eS1uYW1lJyk7XG5cbiAgICAgIHByaW50ZWRDb250ZW50LmZpbmQoJy5kaXZpc2lvbi1uYW1lJykudGV4dChkaXZpc2lvbk9wdGlvbi50ZXh0KCkpO1xuICAgICAgcHJpbnRlZENvbnRlbnQuZmluZCgnLmRpdmlzaW9uLWFkZHJlc3MnKS50ZXh0KGRpdmlzaW9uT3B0aW9uLmRhdGEoJ2FkZHJlc3MnKSk7XG4gICAgICBpZiAoZGl2aXNpb25PcHRpb24uZGF0YSgnbG9nbycpKSB7XG4gICAgICAgIHByaW50ZWRDb250ZW50LmZpbmQoJy5kaXZpc2lvbi1pbmZvID4gLmxvZ28gPiBpbWcnKS5hdHRyKCdzcmMnLCBkaXZpc2lvbk9wdGlvbi5kYXRhKCdsb2dvJykpO1xuICAgICAgICBwcmludGVkQ29udGVudC5maW5kKCcuZGl2aXNpb24taW5mbyA+IC5sb2dvJykuc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJpbnRlZENvbnRlbnQuZmluZCgnLmRpdmlzaW9uLWluZm8gPiAubG9nbycpLmhpZGUoKTtcbiAgICAgIH1cbiAgICAgIHByaW50ZWRDb250ZW50LmZpbmQoJy5zdGFmZi1uYW1lJykudGV4dChzdGFmZk5hbWUpO1xuXG4gICAgICBwcmludGVkQ29udGVudC5maW5kKCcub3JkZXIta2V5JykudGV4dChldmVudC5udW1iZXIpO1xuICAgICAgcHJpbnRlZENvbnRlbnQuZmluZCgnLm9yZGVyLWRhdGV0aW1lJykudGV4dChldmVudC5zdGFydC5mb3JtYXQoJ0RELk1NLllZWVkgSEg6bW0nKSk7XG4gICAgICBwcmludGVkQ29udGVudC5maW5kKCcuZGF0ZS1jcmVhdGVkJykudGV4dChtb21lbnQoKS5mb3JtYXQoJ0RELk1NLllZWVkgSEg6bW0nKSk7XG5cbiAgICAgIHZhciBmdWxsbmFtZSA9IFtldmVudC5jdXN0b21lci5uYW1lLCBldmVudC5jdXN0b21lci5sYXN0bmFtZSwgZXZlbnQuY3VzdG9tZXIucGF0cm9ueW1pY10uam9pbignICcpO1xuICAgICAgcHJpbnRlZENvbnRlbnQuZmluZCgnLmN1c3RvbWVyLWZ1bGxuYW1lJykudGV4dChmdWxsbmFtZSk7XG5cbiAgICAgIHZhciBzZXJ2aWNlcyA9ICQoJyNzZXJ2aWNlc1RhYmxlJykuZmluZCgndHInKTtcbiAgICAgICQuZWFjaChzZXJ2aWNlcywgZnVuY3Rpb24gKGtleSwgc2VydmljZVJvdykge1xuICAgICAgICB2YXIgcm93ID0gJCgnPHRyPjwvdHI+Jyk7XG4gICAgICAgIHZhciBkaXNjb3VudCA9ICQoc2VydmljZVJvdykuZmluZCgnaW5wdXRbZGF0YS1hdHRyPWRpc2NvdW50XScpLnZhbCgpO1xuICAgICAgICB2YXIgcHJpY2UgPSAkKHNlcnZpY2VSb3cpLmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1wcmljZV0nKS52YWwoKTtcbiAgICAgICAgdmFyIHF1YW50aXR5ID0gJChzZXJ2aWNlUm93KS5maW5kKCdpbnB1dFtkYXRhLWF0dHI9cXVhbnRpdHldJykudmFsKCk7XG5cbiAgICAgICAgcm93LmFwcGVuZCgnPHRkPicgKyAkKHNlcnZpY2VSb3cpLmZpbmQoJy5vcmRlci1zZXJ2aWNlLWNvbHVtbl9uYW1lJykudGV4dCgpICsgJzwvdGQ+Jyk7XG4gICAgICAgIHJvdy5hcHBlbmQoJzx0ZD4nICsgcHJpY2UgKyAnXFx1MDQ0MlxcdTA0MzMnICsgJzwvdGQ+Jyk7XG4gICAgICAgIHJvdy5hcHBlbmQoJzx0ZD4nICsgcXVhbnRpdHkgKyAnPC90ZD4nKTtcbiAgICAgICAgcm93LmFwcGVuZCgnPHRkPicgKyBkaXNjb3VudCArICclJyArICc8L3RkPicpO1xuICAgICAgICByb3cuYXBwZW5kKCc8dGQ+JyArIE51bWJlcihwcmljZSAqICgxMDAgLSBkaXNjb3VudCkgLyAxMDApICsgJ1xcdTA0NDJcXHUwNDMzJyArICc8L3RkPicpO1xuXG4gICAgICAgIHByaW50ZWRDb250ZW50LmZpbmQoJ3RhYmxlLnNlcnZpY2VzIHRib2R5JykuYXBwZW5kKHJvdyk7XG4gICAgICB9KTtcblxuICAgICAgcHJpbnRlZENvbnRlbnQuZmluZCgnLm9yZGVyLXByaWNlJykudGV4dCgkKCcjb3JkZXItcHJpY2UnKS52YWwoKSArICdcXHUwNDQyXFx1MDQzMycpO1xuICAgICAgcHJpbnRlZENvbnRlbnQuZmluZCgnLm9yZGVyLXBhaWQnKS50ZXh0KCQoJyNvcmRlci1wYWlkJykudmFsKCkgKyAnXFx1MDQ0MlxcdTA0MzMnKTtcbiAgICAgIHByaW50ZWRDb250ZW50LmZpbmQoJy5vcmRlci1kZWJ0JykudGV4dCgkKCcucGF5bWVudC1kZWJ0JykudGV4dCgpICsgJ1xcdTA0NDJcXHUwNDMzJyk7XG5cbiAgICAgIHByaW50RWxlbShwcmludGVkQ29udGVudCk7XG4gICAgfSk7XG5cbiAgICAkKCcucmV0dXJuLW9yZGVyLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgJCgnI2Zvcm1Nb2RhbCAubW9kYWwtZm9vdGVyIGJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICByZXR1cm5PcmRlcigkKCcjb3JkZXItaWQnKS52YWwoKSk7XG4gICAgfSk7XG5cbiAgICAkKCcuY2hlY2tvdXQtb3JkZXItYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAkKCcjZm9ybU1vZGFsIC5tb2RhbC1mb290ZXIgYnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIGNoZWNrb3V0T3JkZXIoJCgnI29yZGVyLWlkJykudmFsKCkpO1xuICAgIH0pO1xuXG4gICAgJCgnLnNhdmUtb3JkZXItYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBzdWJtaXRGb3JtKGUpO1xuICAgIH0pO1xuXG4gICAgaW5pdGlhbGl6ZUF1dG9jb21wbGV0ZSgnb3JkZXItY3VzdG9tZXJfbmFtZScsIHNlbGVjdEN1c3RvbWVyKTtcbiAgICBpbml0aWFsaXplQXV0b2NvbXBsZXRlKCdvcmRlci1jdXN0b21lcl9waG9uZScsIHNlbGVjdEN1c3RvbWVyKTtcblxuICAgIGluaXRpYWxpemVBdXRvY29tcGxldGUoJ3BlbmRpbmdvcmRlci1jdXN0b21lcl9uYW1lJywgc2VsZWN0Q3VzdG9tZXJGb3JQZW5kaW5nKTtcbiAgICBpbml0aWFsaXplQXV0b2NvbXBsZXRlKCdwZW5kaW5nb3JkZXItY3VzdG9tZXJfcGhvbmUnLCBzZWxlY3RDdXN0b21lckZvclBlbmRpbmcpO1xuXG4gICAgJCgnI29yZGVyLWN1c3RvbWVyX25hbWUnKS5vbigna2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLmNhcGl0YWxpemUoKTtcbiAgICB9KTtcblxuICAgICQoJyNvcmRlci1wcmljZScpLm9uKCdjaGFuZ2UgcGFzdGUga2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxjVG90YWwoKTtcbiAgICAgICQoJy5vcmRlcl9wYXltZW50X2l0ZW0nKS5jaGFuZ2UoKTtcbiAgICB9KTtcblxuICAgICQoJy5jaGFuZ2UtZGF0ZXRpbWUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBzaG93RGF0ZXRpbWVDb250cm9scygpO1xuICAgIH0pO1xuXG4gICAgdmFyIGlzQ3VzdG9tZXJGb3JtQWN0aXZlID0gZmFsc2U7XG5cbiAgICB3aW5kb3cubG9hZEN1c3RvbWVyID0gZnVuY3Rpb24gKGN1c3RvbWVyX2lkKSB7XG4gICAgICAkKCdsaS5kaXZpZGVyJykuc2hvdygpO1xuICAgICAgJCgnI2N1c3RvbWVyX3RhYicpLnNob3coKTtcbiAgICAgIC8vICQoXCIjdG9vdGhfdGFiXCIpLnNob3coKTtcblxuICAgICAgLy8gc2V0IGN1c3RvbWVyX2lkXG4gICAgICAkKCdpbnB1dFtuYW1lPWNvbXBhbnlfY3VzdG9tZXJfaWRdJykudmFsKGN1c3RvbWVyX2lkKTtcblxuICAgICAgLy8gbG9hZCBjdXN0b21lciBpbmZvXG4gICAgICAkLmdldChjdXN0b21lckluZm9VcmwsIHsgaWQ6IGN1c3RvbWVyX2lkIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHNldEN1c3RvbWVySW5mbyhyZXNwb25zZSk7XG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWxlcnRNZXNzYWdlKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC00LDQvdC90YvRhSDQutC70LjQtdC90YLQsCcpO1xuICAgICAgfSk7XG5cbiAgICAgICQoJy5qcy1wYXktZGVidC1idXR0b24nKS5kYXRhKCdjb21wYW55LWN1c3RvbWVyJywgY3VzdG9tZXJfaWQpO1xuICAgIH07XG5cbiAgICAkKCcuanMtc2hvdy1jdXN0b21lci1mb3JtJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghaXNDdXN0b21lckZvcm1BY3RpdmUpIHtcbiAgICAgICAgJChlLnRhcmdldCkudGV4dCgn0KHQvtGF0YDQsNC90LjRgtGMINC00LDQvdC90YvQtSDQutC70LjQtdC90YLQsCcpO1xuICAgICAgICAkKCcuY3VzdG9tZXItZm9ybSAuaW5mby1ibG9jaycpLmhpZGUoKTtcbiAgICAgICAgJCgnLmN1c3RvbWVyLWZvcm0gLmZpZWxkLWJsb2NrJykuc2hvdygpO1xuICAgICAgICBpc0N1c3RvbWVyRm9ybUFjdGl2ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzYXZlQ3VzdG9tZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJy5qcy1nZW5lcmF0ZS1kb2MnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIG9yZGVyX2lkID0gJCgnI29yZGVyLWlkJykudmFsKCk7XG4gICAgICB2YXIgdGVtcGxhdGVfaWQgPSAkKCdzZWxlY3RbbmFtZT10ZW1wbGF0ZV9pZF0nKS52YWwoKTtcblxuICAgICAgJC5nZXQoZ2VuZXJhdGVEb2NVcmwsIHsgb3JkZXJfaWQ6IG9yZGVyX2lkLCB0ZW1wbGF0ZV9pZDogdGVtcGxhdGVfaWQgfSkuZG9uZShmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGFkZERvY3VtZW50KG9yZGVyX2lkLCBkb2MpO1xuICAgICAgICByZW5kZXJEb2N1bWVudChkb2MpO1xuICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFsZXJ0TWVzc2FnZSgn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0YTQvtGA0LzQuNGA0L7QstCw0L3QuNC4INC00L7QutGD0LzQtdC90YLQsCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAkKCcuanMtYWRkLXBlbmRpbmctb3JkZXInKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICQoJyNwZW5kaW5nb3JkZXItaWQnKS52YWwobnVsbCk7XG4gICAgJCgnI3BlbmRpbmctb3JkZXItZm9ybScpWzBdLnJlc2V0KCk7XG4gICAgJCgnI3BlbmRpbmctb3JkZXItbW9kYWwnKS5maW5kKCcuanMtZGVsZXRlLXBlbmRpbmctb3JkZXInKS5oaWRlKCk7XG4gICAgJCgnI3BlbmRpbmctb3JkZXItbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICB9KTtcblxuICAkKCcjcGVuZGluZy1vcmRlci1mb3JtJykub24oJ2JlZm9yZVN1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGlkID0gJCgnI3BlbmRpbmdvcmRlci1pZCcpLnZhbCgpO1xuICAgIHZhciB1cmwgPSAnL3RpbWV0YWJsZS9hZGQtcGVuZGluZyc7XG4gICAgaWYgKGlkKSB7XG4gICAgICB1cmwgPSAnL3RpbWV0YWJsZS91cGRhdGUtcGVuZGluZz9pZD0nICsgaWQ7XG4gICAgfVxuXG4gICAgJC5wb3N0KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogJCgnI3BlbmRpbmctb3JkZXItZm9ybScpLnNlcmlhbGl6ZSgpLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgJCgnI3dhaXRpbmdfbGlzdCA+IHRhYmxlID4gdGJvZHkgPiB0cltkYXRhLWlkPScgKyBpZCArICddJykuaHRtbChyZW5kZXJQZW5kaW5nT3JkZXJDZWxscyhyZXNwb25zZSkpO1xuXG4gICAgICAgIHZhciBldmVudCA9ICQoJyN3YWl0aW5nX2xpc3QgPiB0YWJsZSA+IHRib2R5ID4gdHJbZGF0YS1pZD0nICsgaWQgKyAnXScpLmRhdGEoJ2V2ZW50Jyk7XG4gICAgICAgICQuZWFjaChyZXNwb25zZSwgZnVuY3Rpb24gKGluZCwgYXR0cmlidXRlKSB7XG4gICAgICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KGluZCkpIHtcbiAgICAgICAgICAgIGV2ZW50W2luZF0gPSBhdHRyaWJ1dGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyN3YWl0aW5nX2xpc3QgPiB0YWJsZSA+IHRib2R5JykucHJlcGVuZChyZW5kZXJQZW5kaW5nT3JkZXIocmVzcG9uc2UpKTtcbiAgICAgICAgJCgnI3dhaXRpbmdfbGlzdCA+IHRhYmxlID4gdGJvZHkgPiB0cltkYXRhLWlkPScgKyByZXNwb25zZS5pZCArICddJykuY2xpY2soc2hvd1BlbmRpbmdPcmRlcik7XG4gICAgICAgICQoJyN3YWl0aW5nX2xpc3QgPiB0YWJsZSA+IHRib2R5ID4gdHJbZGF0YS1pZD0nICsgcmVzcG9uc2UuaWQgKyAnXScpLmRyYWdnYWJsZSh7XG4gICAgICAgICAgaGVscGVyOiAnY2xvbmUnLFxuICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChldmVudCwgdWkpIHtcbiAgICAgICAgICAgICQodWkuaGVscGVyKS5jc3MoJ3dpZHRoJywgJChldmVudC50YXJnZXQpLndpZHRoKCkgKyAncHgnKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgekluZGV4OiA5OTksXG4gICAgICAgICAgcmV2ZXJ0OiB0cnVlLCAvLyB3aWxsIGNhdXNlIHRoZSBldmVudCB0byBnbyBiYWNrIHRvIGl0c1xuICAgICAgICAgIHJldmVydER1cmF0aW9uOiAwIC8vICBvcmlnaW5hbCBwb3NpdGlvbiBhZnRlciB0aGUgZHJhZ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJCgnI3BlbmRpbmdvcmRlci1pZCcpLnZhbChudWxsKTtcbiAgICAgICQoJyNwZW5kaW5nLW9yZGVyLWZvcm0nKVswXS5yZXNldCgpO1xuICAgICAgJCgnI3BlbmRpbmctb3JkZXItbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgIH0pLmZhaWwoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBhbGVydE1lc3NhZ2UoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4IGPQvtGF0YDQsNC90LXQvdC40Lgg0LTQsNC90L3Ri9GFINC60LvQuNC10L3RgtCwJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gICQoJy5qcy1kZWxldGUtcGVuZGluZy1vcmRlcicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgY29uZmlybU1lc3NhZ2UoXCLQktGLINGD0LLQtdGA0LXQvdGLLCDRh9GC0L4g0YXQvtGC0LjRgtC1INGD0LTQsNC70LjRgtGMINGN0YLRgyDQt9Cw0L/QuNGB0Ywg0LjQtyDQu9C40YHRgtCwINC+0LbQuNC00LDQvdC40Y8/XCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIGlkID0gJCgnI3BlbmRpbmdvcmRlci1pZCcpLnZhbCgpO1xuICAgICAgICAkLnBvc3Qoe1xuICAgICAgICAgIHVybDogJy90aW1ldGFibGUvZGVsZXRlLXBlbmRpbmc/aWQ9JyArIGlkLFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBjbG9zZVBlbmRpbmdNb2RhbFdpbmRvdygpO1xuICAgICAgICAgICAgJCgnI3dhaXRpbmdfbGlzdCA+IHRhYmxlID4gdGJvZHkgPiB0cltkYXRhLWlkPScgKyBpZCArICddJyk7XG4gICAgICAgICAgICAkLmpHcm93bChyZXNwb25zZS5tZXNzYWdlLCB7IGdyb3VwOiAnZmxhc2hfbm90aWNlJyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJC5qR3Jvd2wocmVzcG9uc2UubWVzc2FnZSwgeyBncm91cDogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBmdW5jdGlvbiBjbG9zZVBlbmRpbmdNb2RhbFdpbmRvdygpIHtcbiAgICAkKCcjcGVuZGluZ29yZGVyLWlkJykudmFsKG51bGwpO1xuICAgICQoJyNwZW5kaW5nLW9yZGVyLWZvcm0nKVswXS5yZXNldCgpO1xuICAgICQoJyNwZW5kaW5nLW9yZGVyLW1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgfVxuXG4gICQoJy5kcmFnZ2FibGUtb3JkZXInKS5jbGljayhzaG93UGVuZGluZ09yZGVyKTtcblxuICBmdW5jdGlvbiBzaG93UGVuZGluZ09yZGVyKGUpIHtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XG4gICAgdmFyIGV2ZW50ID0gJCh0aGlzKS5kYXRhKCdldmVudCcpO1xuICAgIHZhciBkYXRlID0gbW9tZW50KGV2ZW50LmRhdGV0aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblxuICAgICQoJyNwZW5kaW5nb3JkZXItaWQnKS52YWwoaWQpO1xuICAgICQoJyNwZW5kaW5nb3JkZXItZGF0ZScpLnZhbChkYXRlKTtcbiAgICAkKCcjcGVuZGluZ29yZGVyLWNvbXBhbnlfY3VzdG9tZXJfaWQnKS52YWwoZXZlbnQuY29tcGFueV9jdXN0b21lcl9pZCk7XG4gICAgJCgnI3BlbmRpbmdvcmRlci1jdXN0b21lcl9uYW1lJykudmFsKGV2ZW50LmN1c3RvbWVyX25hbWUpO1xuICAgICQoJyNwZW5kaW5nb3JkZXItY3VzdG9tZXJfcGhvbmUnKS52YWwoZXZlbnQuY3VzdG9tZXJfcGhvbmUpO1xuICAgICQoJyNwZW5kaW5nb3JkZXItc3RhZmZfaWQnKS52YWwoZXZlbnQuc3RhZmZfaWQpO1xuICAgICQoJyNwZW5kaW5nb3JkZXItbm90ZScpLnZhbChldmVudC5ub3RlKTtcbiAgICAkKCcjcGVuZGluZ29yZGVyLWRpdmlzaW9uX2lkJykudmFsKGV2ZW50LmRpdmlzaW9uX2lkKTtcblxuICAgICQoJyNwZW5kaW5nLW9yZGVyLW1vZGFsJykuZmluZCgnLmpzLWRlbGV0ZS1wZW5kaW5nLW9yZGVyJykuc2hvdygpO1xuICAgICQoJyNwZW5kaW5nLW9yZGVyLW1vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgfVxuXG4gICQoJy5kcmFnZ2FibGUtb3JkZXInKS5kcmFnZ2FibGUoe1xuICAgIGhlbHBlcjogJ2Nsb25lJyxcbiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoZXZlbnQsIHVpKSB7XG4gICAgICAkKHVpLmhlbHBlcikuY3NzKCd3aWR0aCcsICQoZXZlbnQudGFyZ2V0KS53aWR0aCgpICsgJ3B4Jyk7XG4gICAgfSxcblxuICAgIHpJbmRleDogOTk5LFxuICAgIHJldmVydDogdHJ1ZSwgLy8gd2lsbCBjYXVzZSB0aGUgZXZlbnQgdG8gZ28gYmFjayB0byBpdHNcbiAgICByZXZlcnREdXJhdGlvbjogMCAvLyAgb3JpZ2luYWwgcG9zaXRpb24gYWZ0ZXIgdGhlIGRyYWdcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVuZGVyUGVuZGluZ09yZGVyKG1vZGVsKSB7XG4gICAgcmV0dXJuICQoJ1xcbiAgICAgICAgICAgIDx0ciBjbGFzcz1cImRyYWdnYWJsZS1vcmRlclwiIGRhdGEtaWQ9XCInICsgbW9kZWwuaWQgKyAnXCI+JyArIHJlbmRlclBlbmRpbmdPcmRlckNlbGxzKG1vZGVsKSArICc8L3RyPlxcbiAgICAgICAgJykuZGF0YSgnZXZlbnQnLCBtb2RlbCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJQZW5kaW5nT3JkZXJDZWxscyhtb2RlbCkge1xuICAgIHZhciBkYXRlID0gbW9tZW50KG1vZGVsLmRhdGV0aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICB2YXIgc3RhZmZOYW1lID0gJCgnLmNoZWNrYm94dXNlcltkYXRhLWVudGl0eS1pZD0nICsgbW9kZWwuc3RhZmZfaWQgKyAnXScpLmRhdGEoJ2VudGl0eS1uYW1lJyk7XG4gICAgcmV0dXJuICdcXG4gICAgICAgICAgICA8dGQ+JyArIG1vZGVsLmN1c3RvbWVyX25hbWUgKyAnPGJyPicgKyBtb2RlbC5jdXN0b21lcl9waG9uZSArICc8L3RkPlxcbiAgICAgICAgICAgIDx0ZD4nICsgZGF0ZSArICc8YnI+JyArIHN0YWZmTmFtZSArICc8L3RkPlxcbiAgICAgICAgJztcbiAgfVxuXG4gIHdpbmRvdy5zZXJ2aWNlc1NlbGVjdEV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdGFiYmVkVGFibGUgPSAkKCcjdGFiYmVkVGFibGUnKTtcbiAgICB2YXIgc2VydmljZXNUYWJsZSA9ICQoJyNzZXJ2aWNlc1RhYmxlJyk7XG4gICAgdGFiYmVkVGFibGUuc2hvdygpO1xuXG4gICAgdmFyIGtleSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXJ2aWNlc1RhYmxlJykucm93cy5sZW5ndGg7XG4gICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICBpZDogZS5wYXJhbXMuZGF0YS5pZCxcbiAgICAgIGR1cmF0aW9uOiBlLnBhcmFtcy5kYXRhLmVsZW1lbnQuZGF0YXNldC5kdXJhdGlvbixcbiAgICAgIG5hbWU6IGUucGFyYW1zLmRhdGEudGV4dCxcbiAgICAgIHByaWNlOiBlLnBhcmFtcy5kYXRhLmVsZW1lbnQuZGF0YXNldC5wcmljZSxcbiAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgc2VydmljZV9uYW1lOiBlLnBhcmFtcy5kYXRhLmVsZW1lbnQuZGF0YXNldC5zZXJ2aWNlX25hbWUsXG4gICAgICBzZXJ2aWNlX3ByaWNlOiBlLnBhcmFtcy5kYXRhLmVsZW1lbnQuZGF0YXNldC5wcmljZVxuICAgIH07XG4gICAgdmFyIHJvdyA9IHJlbmRlclNlcnZpY2Uoa2V5LCBzZXJ2aWNlKTtcbiAgICBzZXJ2aWNlc1RhYmxlLmFwcGVuZChyb3cpO1xuXG4gICAgJCgnLmZpZWxkLW9yZGVyLWRpdmlzaW9uX3NlcnZpY2VfaWQgLnNlbGVjdDInKS5oaWRlKCk7XG4gICAgJCgnI2pzLWFkZC1zZXJ2aWNlJykuc2hvdygpO1xuICAgICQoJyNvcmRlci1kaXZpc2lvbl9zZXJ2aWNlX2lkJykudmFsKCcnKS5jaGFuZ2UoKTtcblxuICAgIGxvYWRQcm9kdWN0cyhlLnBhcmFtcy5kYXRhLmlkKTtcblxuICAgIGNhbGNTZXJ2aWNlVG90YWwoKTtcbiAgfTtcblxuICAkKCcuanMtcmVzZXQtY3VzdG9tZXInKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICQoJyNvcmRlci1jb21wYW55X2N1c3RvbWVyX2lkJykudmFsKG51bGwpO1xuICAgICQoJyNvcmRlci1jdXN0b21lcl9uYW1lJykudmFsKG51bGwpO1xuICAgICQoJyNvcmRlci1jdXN0b21lcl9waG9uZScpLnZhbChudWxsKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgd2luZG93LnNlcnZpY2VzQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJvd3NDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXJ2aWNlc1RhYmxlJykucm93cy5sZW5ndGg7XG4gICAgaWYgKHJvd3NDb3VudCA+PSAxKSB7XG4gICAgICAkKCcuZmllbGQtb3JkZXItZGl2aXNpb25fc2VydmljZV9pZCAuc2VsZWN0MicpLmhpZGUoKTtcbiAgICAgICQoJyNqcy1hZGQtc2VydmljZScpLnNob3coKTtcbiAgICB9XG4gIH07XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBpZCA9ICQoJyNteWlkJykudmFsKCk7XG52YXIgc29ja2V0O1xudmFyIHRpbWVvdXRJZDtcblxuY2hlY2tJTygpO1xuXG5mdW5jdGlvbiBjaGVja0lPKCkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIGlvID09PSBcImZ1bmN0aW9uXCIgJiYgIWlzTmFOKGlkKSkge1xuICAgICAgICAgICAgc2V0dXBJTygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tJTygpO1xuICAgICAgICB9XG4gICAgfSwgMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHNldHVwSU8oKSB7XG4gICAgc29ja2V0ID0gaW8oJ2h0dHBzOi8vY3JtLm15Y3JtLmt6LycpO1xuICAgIHNvY2tldC5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc29ja2V0LmVtaXQoJ2pvaW4nLCB7XG4gICAgICAgICAgICBjbGllbnRfaWQ6ICQoJyNteWlkJykudmFsKClcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5vbignbWVzc2FnZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5tc2cpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlICYmIGRhdGEudHlwZSA9PSAnakdyb3dsJykge1xuICAgICAgICAgICAgICAgICAgICAkLmpHcm93bChkYXRhLm1zZywgeyBncm91cDogZGF0YS5ncm91cCB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRCb3goZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNvY2tldCA9IGlvKCdodHRwczovL2NybS5teWNybS5rei8nKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkQm94KG1lc3NhZ2UpIHtcbiAgICB2YXIgYm94ID0gJCgnPGRpdj4nKTtcbiAgICBib3guaHRtbChtZXNzYWdlKTtcblxuICAgIGJveC5hZGRDbGFzcygnbm90aWZpY2F0aW9uJyk7XG4gICAgYm94LmNzcyh7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMHB4LDEwMHB4KVwiIH0pO1xuICAgIHZhciBwYXJlbnQgPSAkKCcubm90aWZpY2F0aW9ucycpO1xuICAgIHBhcmVudC5wcmVwZW5kKGJveCk7XG5cbiAgICBib3guY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdyZW1vdmVkJyk7XG4gICAgICAgICQodGhpcykuYmluZChcInRyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAkKHRoaXMpLnVuYmluZChldmVudCk7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgcG9zaXRpb25Cb3hlcygpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHBvc2l0aW9uQm94ZXMoYm94KTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VuZCcpLnBsYXkoKTtcbn1cblxuZnVuY3Rpb24gcG9zaXRpb25Cb3hlcygpIHtcbiAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cblxuICAgICQuZWFjaCgkKCcubm90aWZpY2F0aW9uJyksIGZ1bmN0aW9uIChpbmQsIGVsKSB7XG4gICAgICAgIHZhciBjc3MgPSB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMHB4LC1cIiArIDE2NSAqIGluZCArIFwicHgpXCIgfTtcbiAgICAgICAgJChlbCkuY3NzKGNzcyk7XG5cbiAgICAgICAgaWYgKGluZCA9PT0gMCkge1xuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChlbCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Cb3hlcygpO1xuICAgICAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB9XG4gICAgfSk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlYXJjaEJ1dHRvbiA9ICcuanMtY3VzdG9tZXJzLXNlYXJjaCc7XG4gICAgdmFyIGZldGNoZWRDdXN0b21lcnNTZWxlY3RvciA9ICdpbnB1dFtuYW1lPVwianMtZmV0Y2hlZC1jdXN0b21lcnNcIl0nO1xuICAgIHZhciBncmlkdmlld1NlbGVjdG9yID0gJyNqcy1jdXN0b21lcnMtZ3JpZHZpZXcnO1xuICAgIHZhciBjdXN0b21lcnNDb3VudFNlbGVjdG9yID0gJ2lucHV0W25hbWU9XCJqcy1jdXN0b21lcnMtY291bnRcIl0nO1xuXG4gICAgdmFyIGFjdGlvbldpZGdldCA9ICQoJy5jdXN0b21lci1pbmRleCcpO1xuICAgIHZhciBtb2RhbENhdGVnb3J5ID0gJyNqcy1tb2RhbC1jYXRlZ29yeSc7XG4gICAgdmFyIG1vZGFsQ2F0ZWdvcnlJdGVtcyA9ICcjanMtbW9kYWwtY2F0ZWdvcnktaXRlbXMnO1xuICAgIHZhciBtb2RhbENhdGVnb3J5U3VibWl0ID0gJyNqcy1tb2RhbC1jYXRlZ29yeS1zdWJtaXQnO1xuXG4gICAgdmFyIG1vZGFsUmVxdWVzdCA9ICcjanMtbW9kYWwtcmVxdWVzdCc7XG4gICAgdmFyIG1vZGFsUmVxdWVzdEl0ZW1zID0gJyNqcy1tb2RhbC1yZXF1ZXN0LWl0ZW1zJztcbiAgICB2YXIgbW9kYWxSZXF1ZXN0U3VibWl0ID0gJyNqcy1tb2RhbC1yZXF1ZXN0LXN1Ym1pdCc7XG5cbiAgICB2YXIgYWxsID0gZmFsc2U7XG5cbiAgICAvLyBXaWRnZXQgYWN0aW9uc1xuICAgIHtcbiAgICAgICAgdmFyIHRvZ2dsZUJ1dHRvbnMgPSBmdW5jdGlvbiB0b2dnbGVCdXR0b25zKGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSAkKCcuanMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBidXR0b25zLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBidXR0b25zLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICQoYWN0aW9uV2lkZ2V0KS5vbignY2hhbmdlJywgJ2lucHV0W3R5cGU9Y2hlY2tib3hdJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9ICQoJyNjdXN0b21lcnMnKS55aWlHcmlkVmlldygnZ2V0U2VsZWN0ZWRSb3dzJyk7XG4gICAgICAgICAgICB0b2dnbGVCdXR0b25zKGtleXMubGVuZ3RoID4gMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEV4cG9ydCBmdW5jdGlvblxuICAgIHZhciBleHBvcnRVUkwgPSAnZXhwb3J0JztcbiAgICBhY3Rpb25XaWRnZXQub24oJ2NsaWNrJywgJyNqcy1leHBvcnQtZmV0Y2hlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG93bmxvYWRVUkwoZXhwb3J0VVJMICsgJz9tb2RlPTAnKTtcbiAgICB9KTtcbiAgICBhY3Rpb25XaWRnZXQub24oJ2NsaWNrJywgJyNqcy1leHBvcnQtYWxsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBkb3dubG9hZFVSTChleHBvcnRVUkwgKyAnP21vZGU9MScpO1xuICAgIH0pO1xuXG4gICAgdmFyIGN1c3RvbWVycztcbiAgICBhY3Rpb25XaWRnZXQub24oJ2NsaWNrJywgJy5qcy1zZWxlY3RlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWxsID0gZmFsc2U7XG4gICAgICAgIGN1c3RvbWVycyA9ICQoJyNjdXN0b21lcnMnKS55aWlHcmlkVmlldygnZ2V0U2VsZWN0ZWRSb3dzJyk7XG4gICAgICAgICQoJy5qcy1tb2RhbC1jdXN0b21lci1zaXplJykudGV4dChjdXN0b21lcnMubGVuZ3RoKTtcbiAgICB9KTtcblxuICAgIGFjdGlvbldpZGdldC5vbignY2xpY2snLCAnLmpzLWZldGNoZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFsbCA9IGZhbHNlO1xuICAgICAgICBjdXN0b21lcnMgPSAkKGZldGNoZWRDdXN0b21lcnNTZWxlY3RvcikudmFsKCk7XG4gICAgICAgIGN1c3RvbWVycyA9IEpTT04ucGFyc2UoY3VzdG9tZXJzKTtcbiAgICAgICAgJCgnLmpzLW1vZGFsLWN1c3RvbWVyLXNpemUnKS50ZXh0KGN1c3RvbWVycy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGFjdGlvbldpZGdldC5vbignY2xpY2snLCAnLmpzLWFsbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWxsID0gdHJ1ZTtcbiAgICAgICAgdmFyIGN1c3RvbWVyc0NvdW50ID0gJChjdXN0b21lcnNDb3VudFNlbGVjdG9yKS52YWwoKTtcbiAgICAgICAgJCgnLmpzLW1vZGFsLWN1c3RvbWVyLXNpemUnKS50ZXh0KGN1c3RvbWVyc0NvdW50KTtcbiAgICB9KTtcblxuICAgIHtcbiAgICAgICAgdmFyIGN1c3RvbWVyc0FkZENhdGVnb3J5ID0gZnVuY3Rpb24gY3VzdG9tZXJzQWRkQ2F0ZWdvcnkoY3VzdG9tZXJzKSB7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllcyA9ICQobW9kYWxDYXRlZ29yeUl0ZW1zKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgICdjdXN0b21lcnMnOiBjdXN0b21lcnMsXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3JpZXMnOiBjYXRlZ29yaWVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5wb3N0KGNhdGVnb3J5VVJMLCBkYXRhLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxlcnQoXCLQn9GA0LjQsdGL0LvQuCDQtNCw0L3QvdGL0LU6IFwiICsgbXNnKTtcbiAgICAgICAgICAgICAgICAkKG1vZGFsQ2F0ZWdvcnkpLm1vZGFsKCdoaWRlJyk7XG5cbiAgICAgICAgICAgICAgICAkKCcjY3VzdG9tZXJzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgJC5wamF4LnJlbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogXCIjcGpheC1jb250YWluZXJcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjdXN0b21lcnNTZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIGN1c3RvbWVyc1NlbmRSZXF1ZXN0KGN1c3RvbWVycykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAkKCcjanMtbW9kYWwtcmVxdWVzdC10ZXh0JykudmFsKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAnYWxsJzogYWxsLFxuICAgICAgICAgICAgICAgICdjdXN0b21lcnMnOiBjdXN0b21lcnMsXG4gICAgICAgICAgICAgICAgJ21lc3NhZ2UnOiBtZXNzYWdlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5wb3N0KHJlcXVlc3RVUkwsIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwi0J/RgNC40LHRi9C70Lgg0LTQsNC90L3Ri9C1OiBcIiArIG1zZyk7XG4gICAgICAgICAgICAgICAgJChtb2RhbFJlcXVlc3QpLm1vZGFsKCdoaWRlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgICAgICAkLmpHcm93bChyZXNwb25zZS5tZXNzYWdlLCB7IGdyb3VwOiBcImZsYXNoX25vdGljZVwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAkKCcjY3VzdG9tZXJzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICQucGpheC5yZWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBcIiNwamF4LWNvbnRhaW5lclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJC5qR3Jvd2wocmVzcG9uc2UubWVzc2FnZSwgeyBncm91cDogXCJmbGFzaF9hbGVydFwiIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjdXN0b21lcnNEZWxldGUgPSBmdW5jdGlvbiBjdXN0b21lcnNEZWxldGUoY3VzdG9tZXJzKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAnY3VzdG9tZXJzJzogY3VzdG9tZXJzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5wb3N0KGRlbGV0ZVVSTCwgZGF0YSwgZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwi0J/RgNC40LHRi9C70Lgg0LTQsNC90L3Ri9C1OiBcIiArIG1zZyk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgJChtb2RhbFJlcXVlc3QpLm1vZGFsKCdoaWRlJyk7XG5cbiAgICAgICAgICAgICAgICAkKCcjY3VzdG9tZXJzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdsb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgJC5wamF4LnJlbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogXCIjcGpheC1jb250YWluZXJcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjdXN0b21lcnNNZXJnZSA9IGZ1bmN0aW9uIGN1c3RvbWVyc01lcmdlKGN1c3RvbWVycykge1xuICAgICAgICAgICAgdmFyIHByaW1hcnlDdXN0b21lciA9ICQoJyNtZXJnZWQtY3VzdG9tZXJzJykuZmluZCgnaW5wdXRbbmFtZT1wcmltYXJ5X21lcmdlX2lkXTpjaGVja2VkJykudmFsKCk7XG5cbiAgICAgICAgICAgIGlmICghcHJpbWFyeUN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAnY3VzdG9tZXJfaWRzJzogY3VzdG9tZXJzLmZpbHRlcihmdW5jdGlvbiAoY3VzdG9tZXJfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1c3RvbWVyX2lkICE9IHByaW1hcnlDdXN0b21lcjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJC5wb3N0KCdtZXJnZT9pZD0nICsgcHJpbWFyeUN1c3RvbWVyLCBkYXRhKS5kb25lKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICAkLmpHcm93bChtc2csIHsgZ3JvdXA6IFwiZmxhc2hfbm90aWNlXCIgfSk7XG5cbiAgICAgICAgICAgICAgICAkKCcjY3VzdG9tZXJzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQuakdyb3dsKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsFwiLCB7IGdyb3VwOiBcImZsYXNoX2FsZXJ0XCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNb2RhbHNcbiAgICAgICAgYWN0aW9uV2lkZ2V0Lm9uKCdjbGljaycsICcuanMtYnV0dG9uLXJlcXVlc3Q6bm90KC5kaXNhYmxlZCknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKG1vZGFsUmVxdWVzdCkubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGlvbldpZGdldC5vbignY2xpY2snLCAnLmpzLWJ1dHRvbi1jYXRlZ29yeTpub3QoLmRpc2FibGVkKScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQobW9kYWxDYXRlZ29yeSkubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGlvbldpZGdldC5vbignY2xpY2snLCAnLmpzLWJ1dHRvbi1kZWxldGU6bm90KC5kaXNhYmxlZCknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlybShcItCS0Ysg0YPQstC10YDQtdC90Ysg0YfRgtC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDQtNCw0L3QvdGL0YUg0LrQu9C40LXQvdGC0L7Qsj9cIikgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXN0b21lcnMpIGN1c3RvbWVyc0RlbGV0ZShjdXN0b21lcnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiWW91IHByZXNzZWQgQ2FuY2VsIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGlvbldpZGdldC5vbignY2xpY2snLCAnLmpzLW1lcmdlLXNlbGVjdGVkOm5vdCguZGlzYWJsZWQpJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIjx0YWJsZSBpZD0nbWVyZ2VkLWN1c3RvbWVycycgY2xhc3M9J3RhYmxlIHRhYmxlLWJvcmRlcmVkJz48dGhlYWQ+PHRyPjx0aD48L3RoPjx0aD5JRDwvdGg+PHRoPtCa0LvQuNC10L3RgjwvdGg+PC90cj48L3RoZWFkPlwiO1xuICAgICAgICAgICAgY3VzdG9tZXJzLmZvckVhY2goZnVuY3Rpb24gKGN1c3RvbWVyX2lkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9ICQoJyNjdXN0b21lcnMtY29udGFpbmVyJykuZmluZCgndGFibGUgdHJbZGF0YS1rZXk9JyArIGN1c3RvbWVyX2lkICsgJ10nKS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHJvdy5maW5kKCd0ZDpndCgyKScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQocm93KS5maW5kKCdpbnB1dCcpLmF0dHIoeyAndHlwZSc6ICdyYWRpbycsICduYW1lJzogJ3ByaW1hcnlfbWVyZ2VfaWQnIH0pO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJzx0cj4nICsgcm93Lmh0bWwoKSArICc8L3RyPic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJzwvdGFibGU+JztcblxuICAgICAgICAgICAgZGlhbG9nTWVzc2FnZShtZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLQodC+0YXRgNCw0L3QuNGC0YxcIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ0bi1wcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcnNNZXJnZShjdXN0b21lcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYW5nZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwi0J7RgtC80LXQvdCwXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgXCLQktGL0LHQtdGA0LjRgtC1INC+0YHQvdC+0LLQvdC+0LPQviDQutC70LjQtdC90YLQsFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChtb2RhbENhdGVnb3J5U3VibWl0KS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoY3VzdG9tZXJzKSBjdXN0b21lcnNBZGRDYXRlZ29yeShjdXN0b21lcnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChtb2RhbFJlcXVlc3RTdWJtaXQpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjdXN0b21lcnMgfHwgYWxsKSBjdXN0b21lcnNTZW5kUmVxdWVzdChjdXN0b21lcnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjanMtbW9kYWwtcmVxdWVzdC10ZXh0Jykua2V5dXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN5bWJvbHMgPSAkKCcuanMtbW9kYWwtcmVxdWVzdC1zeW1ib2xzJyk7XG4gICAgICAgICAgICB2YXIgY291bnQgPSAkKCcuanMtbW9kYWwtcmVxdWVzdC1jb3VudCcpO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgc3ltYm9scy50ZXh0KG1lc3NhZ2UubGVuZ3RoKTtcblxuICAgICAgICAgICAgdmFyIG51bWJlck9mU21zID0gMDtcbiAgICAgICAgICAgIHZhciBoYXNOb25MYXRpbkNoYXJhY3RlcnMgPSBtZXNzYWdlLnNlYXJjaCgvW15hLXpBLXowLTkuXz9+IUAjJCVeJiooKWBcXFtcXF17fVxcXCJcXCc7OiwuXFwvPD4/fCBdLyk7XG4gICAgICAgICAgICBpZiAoaGFzTm9uTGF0aW5DaGFyYWN0ZXJzICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG51bWJlck9mU21zID0gcGFyc2VJbnQobWVzc2FnZS5sZW5ndGggLyA3MCkgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBudW1iZXJPZlNtcyA9IHBhcnNlSW50KG1lc3NhZ2UubGVuZ3RoIC8gMTYwKSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudC50ZXh0KG51bWJlck9mU21zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNhdGVnb3J5VVJMID0gJ2FkZC1jYXRlZ29yaWVzJztcbiAgICAgICAgdmFyIHJlcXVlc3RVUkwgPSAnc2VuZC1yZXF1ZXN0JztcbiAgICAgICAgdmFyIGRlbGV0ZVVSTCA9ICdkZWxldGUtY3VzdG9tZXJzJztcbiAgICB9XG5cbiAgICB2YXIgJGlkb3duOyAvLyBLZWVwIGl0IG91dHNpZGUgb2YgdGhlIGZ1bmN0aW9uLCBzbyBpdCdzIGluaXRpYWxpemVkIG9uY2UuXG4gICAgd2luZG93LmRvd25sb2FkVVJMID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICBpZiAoJGlkb3duKSB7XG4gICAgICAgICAgICAkaWRvd24uYXR0cignc3JjJywgdXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRpZG93biA9ICQoJzxpZnJhbWU+JywgeyBpZDogJ2lkb3duJywgc3JjOiB1cmwgfSkuaGlkZSgpLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gV2hlbiBzZWFyY2ggYnV0dG9uIGlzIHByZXNzZWRcbiAgICBhY3Rpb25XaWRnZXQub24oJ2NsaWNrJywgc2VhcmNoQnV0dG9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJyNjdXN0b21lcnMtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IEVya2VidWxhbiBvbiAyOC4wMi4yMDE2LlxuICovXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgICQoJyNhamF4Q3J1ZE1vZGFsJykub24oJ2NoYW5nZScsICcjanMtZm9ybS1tb2RlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbW9kZSA9ICQoJyNqcy1mb3JtLW1vZGUnKS52YWwoKTtcbiAgICAgICAgaGlkZUFsbCgpO1xuICAgICAgICBpZiAobW9kZSA9PSAwKSB7XG4gICAgICAgICAgICAkKCcuanMtZm9ybS1kaXNjb3VudCcpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZSA9PSAxIHx8IG1vZGUgPT0gMykge1xuICAgICAgICAgICAgJCgnI2pzLWZvcm0tZGlzY291bnQnKS52YWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT0gMikge1xuICAgICAgICAgICAgJCgnLmpzLWZvcm0tcmFuaycpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZSA9PSA0IHx8IG1vZGUgPT0gNSkge1xuICAgICAgICAgICAgJCgnLmpzLWZvcm0tY2F0ZWdvcnknKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGhpZGVBbGwoKSB7XG4gICAgICAgICQoJy5qcy1mb3JtLWRpc2NvdW50JykuaGlkZSgpO1xuICAgICAgICAkKCcuanMtZm9ybS1yYW5rJykuaGlkZSgpO1xuICAgICAgICAkKCcuanMtZm9ybS1jYXRlZ29yeScpLmhpZGUoKTtcbiAgICAgICAgJCgnI2pzLWZvcm0tZGlzY291bnQnKS52YWwoKTtcbiAgICB9XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmpzLXJlc2V0LW9yZGVyJykuY2xpY2soYnVsa0NhbmNlbCk7XG5cbiAgICBmdW5jdGlvbiBidWxrQ2FuY2VsKGUpIHtcbiAgICAgICAgdmFyIGZvcm0gPSAkKFwiI29yZGVyLWdyaWQtZm9ybVwiKTtcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIC8vIEltcG9ydCBmdW5jdGlvblxuICAgIHZhciBpbXBvcnRVcmwgPSAnaW1wb3J0JztcbiAgICB2YXIgdGVtcGxhdGVVcmwgPSAndGVtcGxhdGUnO1xuICAgIHZhciB0aW1lcjtcblxuICAgICQoJyNqcy1pbXBvcnQsLmpzLWltcG9ydCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNzcmYgPSAkKFwiW25hbWU9J2NzcmYtdG9rZW4nXVwiKS5hdHRyKCdjb250ZW50Jyk7XG4gICAgICAgIHZhciB1cGxvYWRIdG1sID0gXCI8ZGl2PlwiICsgXCI8Zm9ybSBpZD0ndXBsb2FkLWZvcm0nIGFjdGlvbj0naW1wb3J0JyBtZXRob2Q9J3Bvc3QnIGVuY3R5cGU9J211bHRpcGFydC9mb3JtLWRhdGEnPlwiICsgXCI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdfY3NyZicgdmFsdWU9J1wiICsgY3NyZiArIFwiJz5cIiArIFwiPGxhYmVsIGNsYXNzPSd1cGxvYWQtYXJlYScgc3R5bGU9J3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7JyBmb3I9J2Z1cGxvYWQnPlwiICsgXCI8aW5wdXQgaWQ9J2Z1cGxvYWQnIG5hbWU9J2Z1cGxvYWQnIHR5cGU9J2ZpbGUnIHN0eWxlPSdkaXNwbGF5Om5vbmU7JyBtdWx0aXBsZT0ndHJ1ZSc+XCIgKyBcIjxpIGNsYXNzPSdmYSBmYS1jbG91ZC11cGxvYWQgZmEtM3gnPjwvaT5cIiArIFwiPGJyIC8+XCIgKyBcItCd0LDQttC80LjRgtC1INGH0YLQvtCx0Ysg0LLRi9Cx0YDQsNGC0Ywg0YTQsNC50LtcIiArIFwiPC9sYWJlbD5cIiArIFwiPGJyIC8+XCIgKyBcIjxzcGFuIHN0eWxlPSdtYXJnaW4tbGVmdDo1cHggIWltcG9ydGFudDsnIGlkPSdmaWxlTGlzdCc+PC9zcGFuPlwiICsgXCI8L2Rpdj48ZGl2IGNsYXNzPSdjbGVhcmZpeCc+PC9kaXY+XCIgKyBcIjwvZm9ybT5cIjtcbiAgICAgICAgdmFyIHByb2dyZXNzQmFySHRtbCA9ICdcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItc3VjY2VzcyBwcm9ncmVzcy1iYXItc3RyaXBlZFwiIHJvbGU9XCJwcm9ncmVzc2JhclwiIGFyaWEtdmFsdWVub3c9XCIwXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiIGFyaWEtdmFsdWVtYXg9XCIxMDBcIiBzdHlsZT1cIndpZHRoOjAlXCI+XFxuICAgICAgICAgICAgICAgICAgICBcXCcwJVxcJ1xcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGlkPVwicHJvZ3Jlc3MtbWVzc2FnZVwiIGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiIHN0eWxlPVwiZGlzcGxheTpub25lXCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBpZD1cImltcG9ydC1pbmNvcnJlY3Qtcm93c1wiIGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48L2Rpdj5cXG4gICAgICAgICc7XG5cbiAgICAgICAgdmFyIHVybCA9ICQodGhpcykuZGF0YSgndXJsJyk7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIGltcG9ydFVybCA9IHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvb3Rib3guZGlhbG9nKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHVwbG9hZEh0bWwsXG4gICAgICAgICAgICB0aXRsZTogXCLQmNC80L/QvtGA0YIg0YTQsNC50LvQsFwiLFxuICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwi0JjQvNC/0L7RgNGCXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJidG4tZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZV9kYXRhID0gJCgnI2Z1cGxvYWQnKS5wcm9wKCdmaWxlcycpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnSW1wb3J0Rm9ybVtleGNlbEZpbGVdJywgZmlsZV9kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ19jc3JmJywgY3NyZik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBpbXBvcnRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtX2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Byb2dyZXNzLW1lc3NhZ2UnKS5odG1sKHJlc3BvbnNlLm1lc3NhZ2UpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYm9vdGJveC1jbG9zZS1idXR0b24nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWNsb3NlLWltcG9ydCcpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pbmNvcnJlY3QgJiYgcmVzcG9uc2UuaW5jb3JyZWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2ltcG9ydC1pbmNvcnJlY3Qtcm93cycpLmh0bWwoXCLQodC70LXQtNGD0Y7RidC40LUg0YHRgtGA0L7QutC4INGB0L7QtNC10YDQttCw0YIg0LfQsNC80LXRh9Cw0L3QuNGPOiBcIiArIHJlc3BvbnNlLmluY29ycmVjdC5yZWR1Y2UoZnVuY3Rpb24gKHByZXZJdGVtLCBjdXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZJdGVtICsgKCc8cD4nICsgY3VySXRlbS5yb3cgKyAnOiAnICsgY3VySXRlbS5lcnJvciArICc8L3A+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBcIlwiKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5qR3Jvd2woJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC40LzQv9C+0YDRgtC1LicsIHsgZ3JvdXA6ICdmbGFzaF9hbGVydCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3Rib3guaGlkZUFsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBib290Ym94LmRpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfQmNC80L/QvtGA0YIuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHByb2dyZXNzQmFySHRtbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfQl9Cw0LrRgNGL0YLRjCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYnRuLXByaW1hcnkgcHVsbC1yaWdodCBqcy1jbG9zZS1pbXBvcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib290Ym94LmhpZGVBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYm9vdGJveC1jbG9zZS1idXR0b24nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWNsb3NlLWltcG9ydCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggdGhlIHByb2dyZXNzIGJhciBldmVyeSAyIHNlY29uZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gd2luZG93LnNldEludGVydmFsKHJlZnJlc2hQcm9ncmVzcywgMjAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmaWxlTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVwbG9hZFwiKTtcbiAgICAgICAgZmlsZUxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGlzdCArPSAnPGRpdiBjbGFzcz1cImNvbC14cy0xMiBmaWxlLWxpc3QgdGV4dC1jZW50ZXJcIj4nICsgdGhpcy5maWxlc1tpXS5uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJChcIiNmaWxlTGlzdFwiKS5odG1sKGxpc3QpO1xuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFByb2dyZXNzKCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IFwicHJvY2Vzc1wiLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3NCYXIgPSAkKCcucHJvZ3Jlc3MtYmFyJyk7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuY3NzKCd3aWR0aCcsIGRhdGEgKyBcIiVcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyLmh0bWwoZGF0YSArIFwiJVwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByb2Nlc3MgaXMgY29tcGxldGVkLCB3ZSBzaG91bGQgc3RvcCB0aGUgY2hlY2tpbmcgcHJvY2Vzcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbChjb21wbGV0ZWQsIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NCYXIgPSAkKCcucHJvZ3Jlc3MtYmFyJyk7XG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5jc3MoJ3dpZHRoJywgXCIxMDAlXCIpO1xuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaHRtbChcIjEwMCVcIik7XG4gICAgICAgICAgICBwcm9ncmVzc0Jhci5odG1sKFwi0JfQsNCy0LXRgNGI0LXQvdC+XCIpO1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcjanMtZG93bmxvYWQtdGVtcGxhdGUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvd25sb2FkVVJMKHRlbXBsYXRlVXJsKTtcbiAgICB9KTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgICAkKCcjanMtbWVkLWNhcmQtYWRkLXNlcnZpY2UnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKGUudGFyZ2V0KS5oaWRlKCk7XG4gICAgICAgICQoJy5maWVsZC1tZWRjYXJkLXNlcnZpY2VzIC5zZWxlY3QyJykuc2hvdygpO1xuICAgICAgICAkKCcjbWVkY2FyZC1zZXJ2aWNlcycpLnNlbGVjdDIoJ29wZW4nKTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5tZWRDYXJkU2VydmljZXNTZWxlY3RFdmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlc1RhYmxlID0gJCgnI21lZF9jYXJkX3NlcnZpY2VzX3RhYmxlJyk7XG5cbiAgICAgICAgdmFyIGtleSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRfY2FyZF9zZXJ2aWNlc190YWJsZScpLnJvd3MubGVuZ3RoO1xuICAgICAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgICAgICAgIGRpdmlzaW9uX3NlcnZpY2VfaWQ6IGUucGFyYW1zLmRhdGEuaWQsXG4gICAgICAgICAgICBkdXJhdGlvbjogZS5wYXJhbXMuZGF0YS5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgbmFtZTogZS5wYXJhbXMuZGF0YS5uYW1lLFxuICAgICAgICAgICAgcHJpY2U6IGUucGFyYW1zLmRhdGEub3B0aW9ucy5wcmljZSxcbiAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgZGl2aXNpb25fc2VydmljZV9uYW1lOiBlLnBhcmFtcy5kYXRhLm9wdGlvbnMuc2VydmljZV9uYW1lLFxuICAgICAgICAgICAgc2VydmljZV9wcmljZTogZS5wYXJhbXMuZGF0YS5vcHRpb25zLnByaWNlXG4gICAgICAgIH07XG4gICAgICAgIHZhciByb3cgPSByZW5kZXJNZWRDYXJlU2VydmljZShrZXksIHNlcnZpY2UpO1xuICAgICAgICBzZXJ2aWNlc1RhYmxlLmFwcGVuZChyb3cpO1xuXG4gICAgICAgICQoJy5maWVsZC1tZWRjYXJkLXNlcnZpY2VzIC5zZWxlY3QyJykuaGlkZSgpO1xuICAgICAgICAkKCcjanMtbWVkLWNhcmQtYWRkLXNlcnZpY2UnKS5zaG93KCk7XG4gICAgICAgICQoJyNtZWRfY2FyZF9zZXJ2aWNlc190YWJiZWRfdGFibGUnKS5zaG93KCk7XG4gICAgICAgICQoJyNqcy1tZWQtY2FyZC10YWItc2VydmljZXMgLmNvbnRyb2wtbGFiZWwnKS5oaWRlKCk7XG5cbiAgICAgICAgY2FsY01lZENhcmVTZXJ2aWNlVG90YWwoKTtcbiAgICB9O1xuXG4gICAgd2luZG93Lm1lZENhcmRTZXJ2aWNlc0Nsb3NlRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcm93c0NvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZF9jYXJkX3NlcnZpY2VzX3RhYmxlJykucm93cy5sZW5ndGg7XG4gICAgICAgIGlmIChyb3dzQ291bnQgPj0gMSkge1xuICAgICAgICAgICAgJCgnLmZpZWxkLW1lZGNhcmQtc2VydmljZXMgLnNlbGVjdDInKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjanMtbWVkLWNhcmQtYWRkLXNlcnZpY2UnKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LnJlbmRlck1lZENhcmRTZXJ2aWNlcyA9IGZ1bmN0aW9uIChzZXJ2aWNlcykge1xuICAgICAgICBpZiAoc2VydmljZXMgJiYgc2VydmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHNlcnZpY2VzVGFibGUgPSAkKCcjbWVkX2NhcmRfc2VydmljZXNfdGFibGUnKTtcbiAgICAgICAgICAgIHZhciB0YWJiZWRUYWJsZSA9ICQoJyNtZWRfY2FyZF9zZXJ2aWNlc190YWJiZWRfdGFibGUnKTtcbiAgICAgICAgICAgICQuZWFjaChzZXJ2aWNlcywgZnVuY3Rpb24gKGtleSwgc2VydmljZSkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VzVGFibGUuYXBwZW5kKHJlbmRlck1lZENhcmVTZXJ2aWNlKGtleSwgc2VydmljZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YWJiZWRUYWJsZS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuZmllbGQtbWVkY2FyZC1zZXJ2aWNlcyAuc2VsZWN0MicpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNqcy1tZWQtY2FyZC1hZGQtc2VydmljZScpLnNob3coKTtcbiAgICAgICAgICAgIGNhbGNNZWRDYXJlU2VydmljZVRvdGFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVuZGVyTWVkQ2FyZVNlcnZpY2Uoa2V5LCBzZXJ2aWNlKSB7XG4gICAgICAgIHZhciBkaXNjb3VudCA9IHNlcnZpY2UuZGlzY291bnQgfHwgb3JkZXJEaXNjb3VudDtcbiAgICAgICAgdmFyIHJvdyA9ICQoJzx0cj48L3RyPicpO1xuICAgICAgICByb3cuZGF0YSgnc2VydmljZV9wcmljZScsIHNlcnZpY2Uuc2VydmljZV9wcmljZSk7XG4gICAgICAgIHZhciBmaXJzdENlbGwgPSAnPHRkIGNsYXNzPVwib3JkZXItc2VydmljZS1jb2x1bW5fbmFtZVwiPicgKyBzZXJ2aWNlLmRpdmlzaW9uX3NlcnZpY2VfbmFtZSArICc8L3RkPic7XG4gICAgICAgIHZhciBzZWNvbmRDZWxsID0gJzx0ZD48L3RkPic7XG4gICAgICAgIHZhciBxdWFudGl0eUlucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiTWVkQ2FyZFtzZXJ2aWNlc11bJyArIGtleSArICddW3F1YW50aXR5XVwiIHZhbHVlPVwiJyArIHNlcnZpY2UucXVhbnRpdHkgKyAnXCIgY2xhc3M9XCJvcmRlci1zZXJ2aWNlLWlucHV0IGZvcm0tY29udHJvbFwiIGRhdGEta2V5PVwiJyArIGtleSArICdcIiBkYXRhLWF0dHI9XCJxdWFudGl0eVwiPicpO1xuICAgICAgICB2YXIgdGhpcmRDZWxsID0gJzx0ZD48L3RkPic7XG4gICAgICAgIHZhciBzZXJ2aWNlSWRJbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIk1lZENhcmRbc2VydmljZXNdWycgKyBrZXkgKyAnXVtkaXZpc2lvbl9zZXJ2aWNlX2lkXVwiIGNsYXNzPVwib3JkZXItc2VydmljZS1pbnB1dFwiJyArICcgdmFsdWU9XCInICsgc2VydmljZS5kaXZpc2lvbl9zZXJ2aWNlX2lkICsgJ1wiIGRhdGEta2V5PVwiJyArIGtleSArICdcIiBkYXRhLWF0dHI9XCJkaXZpc2lvbl9zZXJ2aWNlX2lkXCI+Jyk7XG4gICAgICAgIHZhciBvcmRlclNlcnZpY2VJZElucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiTWVkQ2FyZFtzZXJ2aWNlc11bJyArIGtleSArICddW29yZGVyX3NlcnZpY2VfaWRdXCIgY2xhc3M9XCJvcmRlci1zZXJ2aWNlLWlucHV0XCInICsgJyB2YWx1ZT1cIicgKyBzZXJ2aWNlLm9yZGVyX3NlcnZpY2VfaWQgKyAnXCIgZGF0YS1rZXk9XCInICsga2V5ICsgJ1wiIGRhdGEtYXR0cj1cIm9yZGVyX3NlcnZpY2VfaWRcIj4nKTtcbiAgICAgICAgdmFyIGRpc2NvdW50SW5wdXQgPSAkKCc8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJNZWRDYXJkW3NlcnZpY2VzXVsnICsga2V5ICsgJ11bZGlzY291bnRdXCIgdmFsdWU9XCInICsgZGlzY291bnQgKyAnXCIgY2xhc3M9XCJvcmRlci1zZXJ2aWNlLWlucHV0IGZvcm0tY29udHJvbFwiIGRhdGEta2V5PVwiJyArIGtleSArICdcIiBkYXRhLWF0dHI9XCJkaXNjb3VudFwiPicpO1xuICAgICAgICB2YXIgZmlmdGhDZWxsID0gJzx0ZD48L3RkPic7XG4gICAgICAgIHZhciBwcmljZUlucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiTWVkQ2FyZFtzZXJ2aWNlc11bJyArIGtleSArICddW3ByaWNlXVwiIHZhbHVlPVwiJyArIHNlcnZpY2UucHJpY2UgKyAnXCIgY2xhc3M9XCJvcmRlci1zZXJ2aWNlLWlucHV0IG9yZGVyLXNlcnZpY2UtaW5wdXRfcHJpY2UgZm9ybS1jb250cm9sXCIgZGF0YS1rZXk9XCInICsga2V5ICsgJ1wiIGRhdGEtYXR0cj1cInByaWNlXCI+Jyk7XG4gICAgICAgIHZhciBzaXh0aENlbGwgPSAnPHRkPjwvdGQ+JztcbiAgICAgICAgdmFyIGxpbmsgPSAkKCc8YSBjbGFzcz1cXFwianMtcmVtb3ZlLXNlcnZpY2UgY3NzLXJlbW92ZS1zZXJ2aWNlXFxcIiBocmVmPVxcXCIjXFxcIj48aSBjbGFzcz1cXFwiaWNvbiBzcHJpdGUtZGVsZXRlXFxcIj48L2k+PC9hPicpO1xuXG4gICAgICAgIGxpbmsuY2xpY2socmVtb3ZlTWVkQ2FyZVNlcnZpY2UpO1xuICAgICAgICBkaXNjb3VudElucHV0LmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCcsIHNlcnZpY2VNZWRDYXJlRGlzY291bnRDaGFuZ2VkKTtcbiAgICAgICAgcHJpY2VJbnB1dC5iaW5kKCdjaGFuZ2Uga2V5dXAgaW5wdXQnLCBzZXJ2aWNlTWVkQ2FyZUNoYW5nZWQpO1xuICAgICAgICBxdWFudGl0eUlucHV0LmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCcsIHNlcnZpY2VNZWRDYXJlUXVhbnRpdHlDaGFuZ2VkKTtcblxuICAgICAgICByb3cuYXBwZW5kKGZpcnN0Q2VsbCk7XG4gICAgICAgIHJvdy5hcHBlbmQoJChzZWNvbmRDZWxsKS5hcHBlbmQoXCLQutC+0Lst0LLQviBcIikuYXBwZW5kKHF1YW50aXR5SW5wdXQpKTtcbiAgICAgICAgcm93LmFwcGVuZCgkKHRoaXJkQ2VsbCkuYXBwZW5kKHNlcnZpY2VJZElucHV0KS5hcHBlbmQob3JkZXJTZXJ2aWNlSWRJbnB1dCkuYXBwZW5kKFwi0YHQutC40LTQutCwOiBcIikuYXBwZW5kKGRpc2NvdW50SW5wdXQpLmFwcGVuZChcIiAlXCIpKTtcbiAgICAgICAgcm93LmFwcGVuZCgkKGZpZnRoQ2VsbCkuYXBwZW5kKFwi0YbQtdC90LA6IFwiKS5hcHBlbmQocHJpY2VJbnB1dCkuYXBwZW5kKFwi44CSXCIpKTtcbiAgICAgICAgcm93LmFwcGVuZCgkKHNpeHRoQ2VsbCkuYXBwZW5kKGxpbmspKTtcbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVNZWRDYXJlU2VydmljZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHJvd3NDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRfY2FyZF9zZXJ2aWNlc190YWJsZScpLnJvd3MubGVuZ3RoO1xuICAgICAgICB2YXIgY3VyUm93ID0gJChlLnRhcmdldCkuY2xvc2VzdCgndHInKTtcbiAgICAgICAgdmFyIHByaWNlID0gY3VyUm93LmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1wcmljZV0nKS52YWwoKTtcbiAgICAgICAgdmFyIGRpc2NvdW50ID0gY3VyUm93LmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1kaXNjb3VudF0nKS52YWwoKTtcbiAgICAgICAgY3VyUm93LnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChyb3dzQ291bnQgPT0gMSkge1xuICAgICAgICAgICAgJCgnI21lZF9jYXJkX3NlcnZpY2VzX3RhYmJlZF90YWJsZScpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNqcy1tZWQtY2FyZC1hZGQtc2VydmljZScpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5maWVsZC1tZWRjYXJkLXNlcnZpY2VzIC5zZWxlY3QyJykuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGNNZWRDYXJlU2VydmljZVRvdGFsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VydmljZU1lZENhcmVDaGFuZ2VkKGUpIHtcbiAgICAgICAgZS50YXJnZXQuZGVmYXVsdFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIGNhbGNNZWRDYXJlU2VydmljZVRvdGFsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VydmljZU1lZENhcmVEaXNjb3VudENoYW5nZWQoZSkge1xuICAgICAgICB2YXIgY3VyUm93ID0gJChlLnRhcmdldCkuY2xvc2VzdCgndHInKTtcblxuICAgICAgICB2YXIgcXVhbnRpdHkgPSBjdXJSb3cuZmluZCgnaW5wdXRbZGF0YS1hdHRyPVwicXVhbnRpdHlcIl0nKS52YWwoKTtcbiAgICAgICAgdmFyIHByaWNlID0gY3VyUm93LmRhdGEoJ3NlcnZpY2VfcHJpY2UnKTtcbiAgICAgICAgdmFyIGRpc2NvdW50ID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgdmFyIG5ld1ByaWNlID0gTnVtYmVyKHByaWNlICogcXVhbnRpdHkgKiAoMTAwIC0gZGlzY291bnQpIC8gMTAwKTtcblxuICAgICAgICBjdXJSb3cuZmluZCgnaW5wdXRbZGF0YS1hdHRyPVwicHJpY2VcIl0nKS52YWwobmV3UHJpY2UpLmNoYW5nZSgpO1xuXG4gICAgICAgIGNhbGNNZWRDYXJlU2VydmljZVRvdGFsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VydmljZU1lZENhcmVRdWFudGl0eUNoYW5nZWQoZSkge1xuICAgICAgICB2YXIgcXVhbnRpdHkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgdmFyIGN1clJvdyA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3RyJyk7XG4gICAgICAgIHZhciBwcmljZSA9IGN1clJvdy5kYXRhKCdzZXJ2aWNlX3ByaWNlJyk7XG4gICAgICAgIHZhciBkaXNjb3VudCA9IGN1clJvdy5maW5kKCdpbnB1dFtkYXRhLWF0dHI9XCJkaXNjb3VudFwiXScpLnZhbCgpO1xuXG4gICAgICAgIHZhciBuZXdQcmljZSA9IE51bWJlcihwcmljZSAqIHF1YW50aXR5ICogKDEwMCAtIGRpc2NvdW50KSAvIDEwMCk7XG5cbiAgICAgICAgZS50YXJnZXQuZGVmYXVsdFZhbHVlID0gcXVhbnRpdHk7XG5cbiAgICAgICAgY3VyUm93LmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1cInByaWNlXCJdJykudmFsKG5ld1ByaWNlKS5jaGFuZ2UoKTtcblxuICAgICAgICBjYWxjTWVkQ2FyZVNlcnZpY2VUb3RhbCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGNNZWRDYXJlU2VydmljZVRvdGFsKCkge1xuICAgICAgICB2YXIgc2VydmljZVByaWNlID0gMDtcbiAgICAgICAgJCgnI2pzLW1lZC1jYXJkLXRhYi1zZXJ2aWNlcycpLmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1cImRpc2NvdW50XCJdJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkaXNjb3VudCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICB2YXIgcm93ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpO1xuICAgICAgICAgICAgdmFyIHByaWNlID0gcm93LmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1cInByaWNlXCJdJykudmFsKCk7XG4gICAgICAgICAgICB2YXIgcXVhbnRpdHkgPSByb3cuZmluZCgnaW5wdXRbZGF0YS1hdHRyPVwicXVhbnRpdHlcIl0nKS52YWwoKTtcblxuICAgICAgICAgICAgc2VydmljZVByaWNlICs9IE51bWJlcihwcmljZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcjbWVkY2FyZC1wcmljZScpLnZhbChzZXJ2aWNlUHJpY2UpLmNoYW5nZSgpO1xuICAgIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmpzLXBheS1kZWJ0LWJ1dHRvbicpLm9uKCdjbGljaycsIHNob3dEZWJ0UGF5bWVudE1vZGFsKTtcbn0pO1xuXG53aW5kb3cudG9nZ2xlQmFsYW5jZUJ1dHRvbiA9IGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgYmFsYW5jZSA8IDAgPyAkKCcuanMtcGF5LWRlYnQtYnV0dG9uJykuc2hvdygpIDogJCgnLmpzLXBheS1kZWJ0LWJ1dHRvbicpLmhpZGUoKTtcbiAgICBiYWxhbmNlID4gMCA/ICQoJyNqcy1vcmRlci11c2UtZGVwb3NpdC1idXR0b24nKS5zaG93KCkgOiAkKCcjanMtb3JkZXItdXNlLWRlcG9zaXQtYnV0dG9uJykuaGlkZSgpO1xufTtcblxud2luZG93LnNob3dEZWJ0UGF5bWVudE1vZGFsID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgIHZhciBjb21wYW55X2N1c3RvbWVyX2lkID0gJCh0aGlzKS5kYXRhKCdjb21wYW55LWN1c3RvbWVyJyk7XG4gICAgdmFyIGNvbXBhbnlfY3VzdG9tZXJfZGVidCA9ICQodGhpcykuZGF0YSgnZGVidCcpO1xuICAgIHZhciByZWxvYWQgPSAkKHRoaXMpLmRhdGEoJ3JlbG9hZCcpO1xuXG4gICAgYm9vdGJveC5wcm9tcHQoe1xuICAgICAgICB0aXRsZTogXCLQn9C+0LPQsNGI0LXQvdC40LUg0LTQvtC70LPQsCAo0J7QsdGJ0LjQuSDQtNC+0LvQszogXCIgKyBjb21wYW55X2N1c3RvbWVyX2RlYnQgKyBcIilcIixcbiAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICQuZ2V0KHVybCwge1xuICAgICAgICAgICAgICAgICAgICBpZDogY29tcGFueV9jdXN0b21lcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiByZXN1bHRcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDdXN0b21lcihjb21wYW55X2N1c3RvbWVyX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkLmpHcm93bChcItCU0L7Qu9CzINC/0L7Qs9Cw0YjQtdC9XCIsIHsgZ3JvdXA6ICdmbGFzaF9ub3RpY2UnIH0pO1xuICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQuakdyb3dsKHJlc3BvbnNlLnJlc3BvbnNlSlNPTi5tZXNzYWdlLCB7IGdyb3VwOiAnZmxhc2hfYWxlcnQnIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmpHcm93bChcItCf0L7Qs9Cw0YjQtdC90LjRjyDQtNC+0LvQs9CwINC+0YLQvNC10L3QtdC90L5cIiwgeyBncm91cDogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciByZWNvZ25pemluZyA9IGZhbHNlO1xudmFyIGluaXRfdHJhbnNjcmlwdCA9ICcnO1xudmFyIHRhcmdldCA9IHZvaWQgMDtcbnZhciByZWNvZ25pdGlvbiA9IHZvaWQgMDtcblxuaWYgKCEoJ3dlYmtpdFNwZWVjaFJlY29nbml0aW9uJyBpbiB3aW5kb3cpKSB7XG4gICAgY29uc29sZS5sb2coJ25vdCB3b3JraW5nJyk7XG4gICAgJCgnLmpzLXZvaWNlLXJlY29nbml0aW9uJykuaGlkZSgpO1xufSBlbHNlIHtcbiAgICByZWNvZ25pdGlvbiA9IG5ldyB3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbigpO1xuICAgIHJlY29nbml0aW9uLmNvbnRpbnVvdXMgPSB0cnVlO1xuICAgIHJlY29nbml0aW9uLmludGVyaW1SZXN1bHRzID0gdHJ1ZTtcbiAgICByZWNvZ25pdGlvbi5sYW5nID0gJ3J1LVJVJztcblxuICAgIHJlY29nbml0aW9uLm9uZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmVjb2duaXppbmcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQktC90LjQvNC10L3QuNC1ISDQmNC00LXRgiDQv9C10YDQtdC30LDQs9GA0YPQt9C60LAg0LTQuNC60YLQvtCy0LrQuCEg0J/QvtC20LDQu9GD0LnRgdGC0LAsINC+0YHRgtCw0L3QvtCy0LjRgtC1INC00LjQutGC0L7QstCw0L3QuNC1INGC0LXQutGB0YLQsC4nKTtcbiAgICAgICAgICAgICQuakdyb3dsKFwi0JLQvdC40LzQtdC90LjQtSEg0JjQtNC10YIg0L/QtdGA0LXQt9Cw0LPRgNGD0LfQutCwINC00LjQutGC0L7QstC60LghINCf0L7QttCw0LvRg9C50YHRgtCwLCDQvtGB0YLQsNC90L7QstC40YLQtSDQtNC40LrRgtC+0LLQsNC90LjQtSDRgtC10LrRgdGC0LAuXCIsIHsgJ2dyb3VwJzogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgICAgIGluaXRfdHJhbnNjcmlwdCA9IHRhcmdldC52YWwoKTtcbiAgICAgICAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVjb2duaXRpb24ub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhldmVudC5lcnJvcik7XG4gICAgICAgIHJlY29nbml6aW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChldmVudC5lcnJvciA9PSAnbm8tc3BlZWNoJykge31cbiAgICAgICAgaWYgKGV2ZW50LmVycm9yID09ICdhdWRpby1jYXB0dXJlJykge31cbiAgICAgICAgaWYgKGV2ZW50LmVycm9yID09ICdub3QtYWxsb3dlZCcpIHt9XG4gICAgfTtcbn1cblxudmFyIHR3b19saW5lID0gL1xcblxcbi9nO1xudmFyIG9uZV9saW5lID0gL1xcbi9nO1xuXG5mdW5jdGlvbiBsaW5lYnJlYWsocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UodHdvX2xpbmUsICc8cD48L3A+JykucmVwbGFjZShvbmVfbGluZSwgJzxicj4nKTtcbn1cblxudmFyIGZpcnN0X2NoYXIgPSAvXFxTLztcblxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZShmaXJzdF9jaGFyLCBmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gbS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xufVxuXG4kKCcuanMtdm9pY2UtcmVjb2duaXRpb24nKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHJlY29nbml6aW5nKSB7XG4gICAgICAgICQoJy5qcy12b2ljZS1yZWNvZ25pdGlvbicpLnNob3coKTtcbiAgICAgICAgJCh0aGlzKS50ZXh0KCfQlNC40LrRgtC+0LLQsNGC0YwnKTtcbiAgICAgICAgcmVjb2duaXppbmcgPSBmYWxzZTtcbiAgICAgICAgc3RvcFJlY29nbml0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLmpzLXZvaWNlLXJlY29nbml0aW9uJykuaGlkZSgpO1xuICAgICAgICAkKHRoaXMpLnRleHQoJ9Ce0YHRgtCw0L3QvtCy0LjRgtGMINC00LjQutGC0L7QstCw0L3QuNC1Jyk7XG4gICAgICAgICQodGhpcykuc2hvdygpO1xuICAgICAgICB2YXIgZGF0YV90YXJnZXQgPSAkKHRoaXMpLmRhdGEoJ3RhcmdldCcpO1xuICAgICAgICB0YXJnZXQgPSAkKCcjJyArIGRhdGFfdGFyZ2V0KTtcbiAgICAgICAgc3RhcnRSZWNvZ25pdGlvbih0YXJnZXQpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBzdGFydFJlY29nbml0aW9uKHRhcmdldCkge1xuXG4gICAgaW5pdF90cmFuc2NyaXB0ID0gdGFyZ2V0LnZhbCgpO1xuXG4gICAgcmVjb2duaXRpb24ub25yZXN1bHQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRlbXBfdHJhbnNjcmlwdCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LnJlc3VsdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRlbXBfdHJhbnNjcmlwdCArPSBldmVudC5yZXN1bHRzW2ldWzBdLnRyYW5zY3JpcHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LnZhbChpbml0X3RyYW5zY3JpcHQgKyAnICcgKyB0ZW1wX3RyYW5zY3JpcHQpO1xuICAgIH07XG5cbiAgICByZWNvZ25pemluZyA9IHRydWU7XG4gICAgcmVjb2duaXRpb24uc3RhcnQoKTtcbn1cblxuZnVuY3Rpb24gc3RvcFJlY29nbml0aW9uKCkge1xuICAgICQuakdyb3dsKFwi0JTQuNC60YLQvtCy0LDQvdC40LUg0YLQtdC60YHRgtCwINC30LDQstC10YDRiNC10L3QvlwiLCB7ICdncm91cCc6ICdmbGFzaF9ub3RpY2UnIH0pO1xuICAgIHJlY29nbml6aW5nID0gZmFsc2U7XG4gICAgcmVjb2duaXRpb24uc3RvcCgpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmpzLWltYWdlLWZpZWxkJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtaW1hZ2UtZmllbGQtd3JhcHBlcicpO1xuICAgICAgICB3cmFwcGVyLmhpZGUoKTtcblxuICAgICAgICB2YXIgY2hvc2VuX3Bob3RvID0gd3JhcHBlci5zaWJsaW5ncygnLmNob3Nlbl9waG90bycpO1xuICAgICAgICBjaG9zZW5fcGhvdG8ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICBjaG9zZW5fcGhvdG8uZmluZCgnLnBob3RvX25hbWUnKS5odG1sKCcgJyArICQoZS50YXJnZXQpLnZhbCgpKTtcbiAgICB9KTtcbiAgICAkKCcuY2hvc2VuX3Bob3RvIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAkKCcuanMtaW1hZ2UtZmllbGQnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgIH0pO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG53aW5kb3cub3JkZXJEaXNjb3VudCA9IDA7XG52YXIgcGF5bWVudExpc3QgPSBudWxsO1xudmFyIHNlcnZpY2VQcm9kdWN0c1VybCA9ICcvZGl2aXNpb24vc2VydmljZS9mb3JtdWxhJztcbnZhciBjb21tZW50c1VybCA9IGFwaV9ob3N0ICsgJy92Mi9jb21tZW50L2RlZmF1bHQvaW5kZXgnO1xudmFyIGNvbXBsZXRlSW5wdXRzID0gW107XG52YXIgcHJvZHVjdENvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiByZWZyZXNoQ29tbWVudHMoZGlhZ25vc2lzX2lkLCB1c2VyX3Rva2VuKSB7XG4gICAgJC5lYWNoKGNvbXBsZXRlSW5wdXRzLCBmdW5jdGlvbiAoY2F0ZWdvcnlfaWQsIGNvbXBsZXRlSW5wdXQpIHtcbiAgICAgICAgaWYgKGNvbXBsZXRlSW5wdXRzW2NhdGVnb3J5X2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkLmdldEpTT04oY29tbWVudHNVcmwsIHtcbiAgICAgICAgICAgICAgICBcImFjY2Vzcy10b2tlblwiOiB1c2VyX3Rva2VuLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBjYXRlZ29yeV9pZCxcbiAgICAgICAgICAgICAgICBkaWFnbm9zaXNfaWQ6IGRpYWdub3Npc19pZFxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlSW5wdXRzW2NhdGVnb3J5X2lkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgY29tcGxldGVJbnB1dHNbY2F0ZWdvcnlfaWRdID0gZ2V0QXdlc29tZXBsZXRlKCcjanMtb3JkZXJfY29tbWVudF8nICsgY2F0ZWdvcnlfaWQsIGRhdGEubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZFByb2R1Y3RzKHNlcnZpY2VfaWQsIHByb2R1Y3RzKSB7XG4gICAgcHJvZHVjdHMgPSBwcm9kdWN0cyB8fCBudWxsO1xuICAgIGlmICghcHJvZHVjdHMpIHtcbiAgICAgICAgJC5nZXQoc2VydmljZVByb2R1Y3RzVXJsLCB7XG4gICAgICAgICAgICBpZDogc2VydmljZV9pZFxuICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAkLmVhY2gocmVzcG9uc2UucmVzdWx0cywgZnVuY3Rpb24gKGtleSwgcHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9kdWN0KHByb2R1Y3QpO1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXltZW50cyhwcm9kdWN0LnByaWNlICogcHJvZHVjdC5xdWFudGl0eSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2FsY1Byb2R1Y3RzVG90YWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbGVydE1lc3NhZ2UoXCLQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwXCIpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkLmVhY2gocHJvZHVjdHMsIGZ1bmN0aW9uIChrZXksIHByb2R1Y3QpIHtcbiAgICAgICAgICAgIHJlbmRlclByb2R1Y3QocHJvZHVjdCk7XG4gICAgICAgICAgICBhZGRQYXltZW50cyhwcm9kdWN0LnByaWNlICogcHJvZHVjdC5xdWFudGl0eSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxjUHJvZHVjdHNUb3RhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0dXBDb21wbGV0ZUlucHV0KGNhdGVnb3J5X2lkLCB1c2VyX3Rva2VuKSB7XG4gICAgJC5nZXRKU09OKGNvbW1lbnRzVXJsLCB7XG4gICAgICAgIFwiYWNjZXNzLXRva2VuXCI6IHVzZXJfdG9rZW4sXG4gICAgICAgIGNhdGVnb3J5X2lkOiBjYXRlZ29yeV9pZFxuICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGxpc3QgPSBkYXRhLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuY29tbWVudDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbXBsZXRlSW5wdXRzW2NhdGVnb3J5X2lkXSA9IGdldEF3ZXNvbWVwbGV0ZSgnI2pzLW9yZGVyX2NvbW1lbnRfJyArIGNhdGVnb3J5X2lkLCBsaXN0KTtcbiAgICAgICAgJCgnI2pzLW9yZGVyX2NvbW1lbnRfJyArIGNhdGVnb3J5X2lkKS5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUlucHV0c1tjYXRlZ29yeV9pZF0ubWluQ2hhcnMgPSAwO1xuICAgICAgICAgICAgY29tcGxldGVJbnB1dHNbY2F0ZWdvcnlfaWRdLmV2YWx1YXRlKCk7XG4gICAgICAgICAgICBjb21wbGV0ZUlucHV0c1tjYXRlZ29yeV9pZF0ub3BlbigpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QXdlc29tZXBsZXRlKHNlbGVjdG9yLCBsaXN0KSB7XG4gICAgcmV0dXJuIG5ldyBBd2Vzb21wbGV0ZShzZWxlY3Rvciwge1xuICAgICAgICBsaXN0OiBsaXN0LFxuICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcih0ZXh0LCBpbnB1dCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRlZXRoIGZyb20gaW5wdXRcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQubWF0Y2goL1teOiBdKiQvKVswXTtcbiAgICAgICAgICAgIHJldHVybiBBd2Vzb21wbGV0ZS5GSUxURVJfU1RBUlRTV0lUSCh0ZXh0LCBpbnB1dC5tYXRjaCgvW147XSokLylbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBpdGVtOiBmdW5jdGlvbiBpdGVtKHRleHQsIGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gQXdlc29tcGxldGUuSVRFTSh0ZXh0LCBpbnB1dC5tYXRjaCgvW147IF0qJC8pWzBdKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVwbGFjZTogZnVuY3Rpb24gcmVwbGFjZSh0ZXh0KSB7XG4gICAgICAgICAgICAvLyBnZXQgdGVldGhcbiAgICAgICAgICAgIHZhciB0ZWV0aCA9IHRoaXMuaW5wdXQudmFsdWUubWF0Y2goL14oLio/KTovKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0ZWV0aFxuICAgICAgICAgICAgdmFyIGJlZm9yZSA9IHRoaXMuaW5wdXQudmFsdWUubWF0Y2goL1teOl0qJC8pWzBdLnRyaW0oKTtcbiAgICAgICAgICAgIGJlZm9yZSA9IGJlZm9yZS5tYXRjaCgvXi4rO1xccyp8LylbMF07XG5cbiAgICAgICAgICAgIGlmICh0ZWV0aCkge1xuICAgICAgICAgICAgICAgIGJlZm9yZSA9IHRlZXRoWzBdICsgXCIgXCIgKyBiZWZvcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBiZWZvcmUgKyB0ZXh0ICsgXCI7IFwiO1xuICAgICAgICB9LFxuICAgICAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhLnRvVXBwZXJDYXNlKCkgPT0gYi50b1VwcGVyQ2FzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGEudG9VcHBlckNhc2UoKSA8IGIudG9VcHBlckNhc2UoKSA/IC0xIDogMTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZWxldGVFbXB0eVJvdyhjb250YWluZXIpIHtcbiAgICBjb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RhYmxlJylbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3Rib2R5JylbMF0uY2hpbGRyZW5bMF0ucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9kdWN0VGV4dENlbGwoY2xhc3NOYW1lLCB0ZXh0KSB7XG4gICAgdmFyIGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIGNlbGwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2VsbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgfVxuICAgIHJldHVybiBjZWxsO1xufVxuXG5mdW5jdGlvbiBtYWtlUHJvZHVjdENlbGwoY2xhc3NOYW1lLCB0eXBlLCB2YWx1ZSwgY2FsbGJhY2ssIG5hbWUpIHtcbiAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgY2VsbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgdmFyIGlucHV0ID0gbWFrZVByb2R1Y3RJbnB1dCh0eXBlLCB2YWx1ZSwgY2FsbGJhY2ssIG5hbWUpO1xuICAgIGNlbGwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIHJldHVybiBjZWxsO1xufVxuXG5mdW5jdGlvbiBtYWtlUHJvZHVjdElucHV0KHR5cGUsIHZhbHVlLCBjYWxsYmFjaywgbmFtZSkge1xuICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgaW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgfHwgJyc7XG4gICAgaW5wdXQuZGVmYXVsdFZhbHVlID0gdmFsdWUgfHwgJyc7XG4gICAgaW5wdXQubmFtZSA9IG5hbWUgfHwgJyc7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayhpbnB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlucHV0O1xufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvZHVjdEF1dG9jb21wbGV0ZShlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5hdXRvY29tcGxldGUoe1xuICAgICAgICBzb3VyY2U6IGZ1bmN0aW9uIHNvdXJjZShyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgICAgICAgICAgalF1ZXJ5LmdldCgnLi4vd2FyZWhvdXNlL3Byb2R1Y3Qvc2VhcmNoJywge1xuICAgICAgICAgICAgICAgIHNlYXJjaDogcmVxdWVzdC50ZXJtXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlKGRhdGEucmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWluTGVuZ3RoOiAxLFxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChldmVudCwgdWkpIHtcbiAgICAgICAgICAgICQoZWxlbWVudCkuYXV0b2NvbXBsZXRlKFwiZGlzYWJsZVwiKTtcbiAgICAgICAgICAgIHNlbGVjdFRpbWV0YWJsZVByb2R1Y3QoZXZlbnQsIHVpLml0ZW0pO1xuICAgICAgICB9XG4gICAgfSkuYXV0b2NvbXBsZXRlKFwiaW5zdGFuY2VcIikuX3JlbmRlckl0ZW0gPSBmdW5jdGlvbiAodWwsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICQoXCI8bGkgY2xhc3M9J3VpLW1lbnUtaXRlbSc+XCIpLmFwcGVuZChcIjxhPlwiICsgaXRlbS50ZXh0ICsgXCI8L2E+XCIpLmFwcGVuZFRvKHVsKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVQcm9kdWN0UHJpY2UoZXZlbnQpIHtcbiAgICB2YXIgcXVhbnRpdHkgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgnLnByb2R1Y3QtcXVhbnRpdHkgPiBpbnB1dCcpLnZhbCgpO1xuICAgIHJlZHVjZVBheW1lbnRzKHRoaXMuZGVmYXVsdFZhbHVlICogcXVhbnRpdHkpO1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICBhZGRQYXltZW50cyh0aGlzLnZhbHVlICogcXVhbnRpdHkpO1xuICAgIGNhbGNQcm9kdWN0c1RvdGFsKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3RRdWFudGl0eShldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gJChldmVudC50YXJnZXQpO1xuICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50LmNsb3Nlc3QoJy5kYXRhX3RhYmxlJyk7XG4gICAgdmFyIGluZGV4ID0gY29udGFpbmVyLmF0dHIoJ2RhdGEtaW5kZXgnKTtcbiAgICB2YXIgcm93ID0gZWxlbWVudC5jbG9zZXN0KCd0cicpO1xuICAgIHZhciByb3dJbmRleCA9IHJvdy5pbmRleCgpO1xuICAgIHZhciBzdG9ja19sZXZlbCA9IHJvdy5maW5kKCcucHJvZHVjdC1zdG9jay1sZXZlbCcpLnRleHQoKTtcbiAgICB2YXIgcHJpY2UgPSByb3cuZmluZCgnLnByb2R1Y3QtcHJpY2UgPiBpbnB1dCcpLnZhbCgpO1xuXG4gICAgcmVkdWNlUGF5bWVudHModGhpcy5kZWZhdWx0VmFsdWUgKiBwcmljZSk7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIGFkZFBheW1lbnRzKHRoaXMudmFsdWUgKiBwcmljZSk7XG5cbiAgICBpZiAoJC5pc051bWVyaWMoc3RvY2tfbGV2ZWwpICYmIHRoaXMudmFsdWUgPiBOdW1iZXIoc3RvY2tfbGV2ZWwpKSB7XG4gICAgICAgIGVsZW1lbnQucG9wb3Zlcih7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdsZWZ0JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfQndC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YLQvtCy0LDRgNCwINC90LAg0YHQutC70LDQtNC1JyxcbiAgICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnXG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LnBvcG92ZXIoJ3Nob3cnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnBvcG92ZXIoJ2Rlc3Ryb3knKTtcbiAgICB9XG5cbiAgICBjYWxjUHJvZHVjdHNUb3RhbCgpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RUaW1ldGFibGVQcm9kdWN0KGV2ZW50LCBvYmplY3QpIHtcbiAgICB2YXIgcm93ID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ3RyJyk7XG5cbiAgICByb3cuZmluZCgnLnVpLWF1dG9jb21wbGV0ZS1pbnB1dCcpLnJlbW92ZSgpO1xuICAgIHJvdy5maW5kKCcucHJvZHVjdF9pZC1pbnB1dCcpLnZhbChvYmplY3QuaWQpO1xuICAgIHJvdy5maW5kKCcucHJvZHVjdC1uYW1lJykuYXBwZW5kKG9iamVjdC50ZXh0KTtcbiAgICByb3cuZmluZCgnLnByb2R1Y3QtdW5pdCcpLnRleHQob2JqZWN0LnVuaXQpO1xuICAgIHJvdy5maW5kKCcucHJvZHVjdC1wcmljZSBpbnB1dCcpLnZhbChvYmplY3QucHJpY2UpLmNoYW5nZSgpO1xuICAgIHJvdy5maW5kKCcucHJvZHVjdC1zdG9jay1sZXZlbCcpLnRleHQob2JqZWN0LnN0b2NrX2xldmVsKTtcbn1cblxuJCgnLnRhYnM+LnRhYnMtdGFiJykuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciBlbGVtZW50ID0gJChldmVudC50YXJnZXQpO1xuICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCd0YWJzLXRhYicpKSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LmNsb3Nlc3QoJy50YWJzLXRhYicpO1xuICAgIH1cblxuICAgICQoJy50YWJzPi50YWJzLXRhYicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgIHZhciB0YXJnZXQgPSBlbGVtZW50LmF0dHIoJ2RhdGEtdGFyZ2V0Jyk7XG4gICAgJCgnI3NlcnZpY2VzLCAjcHJvZHVjdHMsICNwYXltZW50cycpLmhpZGUoKTtcbiAgICAkKCcjJyArIHRhcmdldCkuc2hvdygpO1xufSk7XG5cbiQoXCIjb3JkZXItcHJvZHVjdHNwcmljZVwiKS5vbihcImNoYW5nZSBwYXN0ZSBrZXl1cFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgY2FsY1RvdGFsKCk7XG4gICAgJCgnLm9yZGVyX3BheW1lbnRfaXRlbScpLmNoYW5nZSgpO1xufSk7XG5cbmZ1bmN0aW9uIHNlcnZpY2VEaXNjb3VudENoYW5nZWQoZSkge1xuICAgIHZhciBkaXNjb3VudCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHZhciBvbGREaXNjb3VudCA9IGUudGFyZ2V0LmRlZmF1bHRWYWx1ZTtcbiAgICB2YXIgcHJpY2UgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RkJykubmV4dCgndGQnKS5maW5kKCdpbnB1dFtkYXRhLWF0dHI9XCJwcmljZVwiXScpLnZhbCgpO1xuXG4gICAgdmFyIG9sZFByaWNlID0gTnVtYmVyKHByaWNlICogKDEwMCAtIG9sZERpc2NvdW50KSAvIDEwMCk7XG4gICAgdmFyIG5ld1ByaWNlID0gTnVtYmVyKHByaWNlICogKDEwMCAtIGRpc2NvdW50KSAvIDEwMCk7XG5cbiAgICByZWR1Y2VQYXltZW50cyhvbGRQcmljZSk7XG4gICAgYWRkUGF5bWVudHMobmV3UHJpY2UpO1xuXG4gICAgZS50YXJnZXQuZGVmYXVsdFZhbHVlID0gZGlzY291bnQ7XG5cbiAgICBjYWxjU2VydmljZVRvdGFsKCk7XG59XG5cbmZ1bmN0aW9uIHNlcnZpY2VQcmljZUNoYW5nZWQoZSkge1xuICAgIHZhciBwcmljZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHZhciBvbGRQcmljZSA9IGUudGFyZ2V0LmRlZmF1bHRWYWx1ZTtcbiAgICB2YXIgZGlzY291bnQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RkJykucHJldigndGQnKS5maW5kKCdpbnB1dFtkYXRhLWF0dHI9XCJkaXNjb3VudFwiXScpLnZhbCgpO1xuXG4gICAgdmFyIG9sZFNhbGVQcmljZSA9IE51bWJlcihvbGRQcmljZSAqICgxMDAgLSBkaXNjb3VudCkgLyAxMDApO1xuICAgIHZhciBuZXdTYWxlUHJpY2UgPSBOdW1iZXIocHJpY2UgKiAoMTAwIC0gZGlzY291bnQpIC8gMTAwKTtcblxuICAgIHJlZHVjZVBheW1lbnRzKG9sZFNhbGVQcmljZSk7XG4gICAgYWRkUGF5bWVudHMobmV3U2FsZVByaWNlKTtcblxuICAgIGUudGFyZ2V0LmRlZmF1bHRWYWx1ZSA9IHByaWNlO1xuXG4gICAgY2FsY1NlcnZpY2VUb3RhbCgpO1xufVxuXG5mdW5jdGlvbiBzZXJ2aWNlUXVhbnRpdHlDaGFuZ2VkKGUpIHtcbiAgICB2YXIgcXVhbnRpdHkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB2YXIgY3VyUm93ID0gJChlLnRhcmdldCkuY2xvc2VzdCgndHInKTtcbiAgICB2YXIgcHJpY2UgPSBjdXJSb3cuZGF0YSgnc2VydmljZV9wcmljZScpO1xuICAgIHZhciBkaXNjb3VudCA9IGN1clJvdy5maW5kKCdpbnB1dFtkYXRhLWF0dHI9XCJkaXNjb3VudFwiXScpLnZhbCgpO1xuXG4gICAgdmFyIG5ld1ByaWNlID0gTnVtYmVyKHByaWNlICogcXVhbnRpdHkpO1xuXG4gICAgZS50YXJnZXQuZGVmYXVsdFZhbHVlID0gcXVhbnRpdHk7XG5cbiAgICBjdXJSb3cuZmluZCgnaW5wdXRbZGF0YS1hdHRyPVwicHJpY2VcIl0nKS52YWwobmV3UHJpY2UpLmNoYW5nZSgpO1xuXG4gICAgY2FsY1NlcnZpY2VUb3RhbCgpO1xufVxuXG5mdW5jdGlvbiBjYWxjU2VydmljZVRvdGFsKCkge1xuICAgIHZhciBzZXJ2aWNlUHJpY2UgPSAwO1xuICAgICQoJ2lucHV0W2RhdGEtYXR0cj1cImRpc2NvdW50XCJdJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpc2NvdW50ID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgdmFyIHJvdyA9ICQodGhpcykuY2xvc2VzdCgndHInKTtcbiAgICAgICAgdmFyIHByaWNlID0gcm93LmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1cInByaWNlXCJdJykudmFsKCk7XG5cbiAgICAgICAgc2VydmljZVByaWNlICs9IE51bWJlcihwcmljZSAqICgxMDAgLSBkaXNjb3VudCkgLyAxMDApO1xuICAgIH0pO1xuICAgICQoJyNvcmRlci1wcmljZScpLnZhbChzZXJ2aWNlUHJpY2UpLmNoYW5nZSgpO1xufVxuXG5mdW5jdGlvbiByZWR1Y2VQYXltZW50cyhwcmljZSkge1xuICAgICQoJy5vcmRlcl9wYXltZW50X2l0ZW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1QcmljZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIGlmIChpdGVtUHJpY2UgPCBwcmljZSkge1xuICAgICAgICAgICAgJCh0aGlzKS52YWwoTWF0aC5tYXgoMCwgaXRlbVByaWNlIC0gcHJpY2UpKTtcbiAgICAgICAgICAgIHByaWNlIC09IGl0ZW1QcmljZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQodGhpcykudmFsKGl0ZW1QcmljZSAtIHByaWNlKTtcbiAgICAgICAgICAgIHByaWNlID0gMDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICQoJy5vcmRlcl9wYXltZW50X2l0ZW0nKS5jaGFuZ2UoKTtcbn1cblxuZnVuY3Rpb24gYWRkUGF5bWVudHMocHJpY2UpIHtcbiAgICB2YXIgcGF5bWVudCA9ICQoJy5vcmRlcl9wYXltZW50X2l0ZW06Zmlyc3QnKTtcbiAgICBwYXltZW50LnZhbChwcmljZSArIHBhcnNlSW50KHBheW1lbnQudmFsKCkpKTtcbiAgICBwYXltZW50LmNoYW5nZSgpO1xufVxuXG5mdW5jdGlvbiBjYWxjUHJvZHVjdHNUb3RhbCgpIHtcbiAgICB2YXIgdG90YWwgPSAwO1xuICAgICQuZWFjaCgkKCcjcHJvZHVjdHMnKS5maW5kKCcucHJvZHVjdHMtdGFibGUnKS5maW5kKCcucHJvZHVjdC1yb3cnKSwgZnVuY3Rpb24gKGtleSwgZWwpIHtcbiAgICAgICAgdmFyIHByaWNlID0gJChlbCkuZmluZCgnLnByb2R1Y3QtcHJpY2UgPiBpbnB1dCcpLnZhbCgpO1xuICAgICAgICB2YXIgcXVhbnRpdHkgPSAkKGVsKS5maW5kKCcucHJvZHVjdC1xdWFudGl0eSA+IGlucHV0JykudmFsKCk7XG4gICAgICAgIHRvdGFsICs9IE51bWJlcihwcmljZSAqIHF1YW50aXR5KTtcbiAgICB9KTtcbiAgICAkKCcjb3JkZXItcHJvZHVjdHNwcmljZScpLnZhbCh0b3RhbCkuY2hhbmdlKCk7XG59XG5cbmZ1bmN0aW9uIGNhbGNUb3RhbCgpIHtcbiAgICB2YXIgc2VydmljZXNQcmljZSA9ICQoJyNvcmRlci1wcmljZScpLnZhbCgpO1xuICAgIHZhciBwcm9kdWN0c1ByaWNlID0gJCgnI29yZGVyLXByb2R1Y3RzcHJpY2UnKS52YWwoKTtcbiAgICB2YXIgdG90YWwgPSBOdW1iZXIoc2VydmljZXNQcmljZSkgKyBOdW1iZXIocHJvZHVjdHNQcmljZSk7XG4gICAgJChcIiNvcmRlci10b3RhbC1wcmljZVwiKS52YWwoTWF0aC5yb3VuZCh0b3RhbCkpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTZXJ2aWNlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHJvd3NDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXJ2aWNlc1RhYmxlJykucm93cy5sZW5ndGg7XG4gICAgdmFyIGN1clJvdyA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3RyJyk7XG4gICAgdmFyIGN1clJvd0luZGV4ID0gY3VyUm93LmluZGV4KCk7XG4gICAgdmFyIHByaWNlID0gY3VyUm93LmZpbmQoJ2lucHV0W2RhdGEtYXR0cj1wcmljZV0nKS52YWwoKTtcbiAgICB2YXIgZGlzY291bnQgPSBjdXJSb3cuZmluZCgnaW5wdXRbZGF0YS1hdHRyPWRpc2NvdW50XScpLnZhbCgpO1xuICAgIGN1clJvdy5yZW1vdmUoKTtcblxuICAgIGNhbGNTZXJ2aWNlVG90YWwoKTtcbiAgICBpZiAocm93c0NvdW50ID09IDEpIHtcbiAgICAgICAgJCgnI3RhYmJlZFRhYmxlJykuaGlkZSgpO1xuICAgICAgICAkKCcjanMtYWRkLXNlcnZpY2UnKS5oaWRlKCk7XG4gICAgICAgICQoJyNvcmRlci1kaXZpc2lvbl9zZXJ2aWNlX2lkJykudmFsKCcnKS5jaGFuZ2UoKTtcbiAgICAgICAgJCgnLmZpZWxkLW9yZGVyLWRpdmlzaW9uX3NlcnZpY2VfaWQgLnNlbGVjdDInKS5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlU2VydmljZUluZGV4ZXMoY3VyUm93SW5kZXgpO1xuICAgIH1cblxuICAgIHJlZHVjZVBheW1lbnRzKE51bWJlcihwcmljZSAqICgxMDAgLSBkaXNjb3VudCkgLyAxMDApKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2VydmljZShrZXksIHNlcnZpY2UpIHtcbiAgICB2YXIgZGlzY291bnQgPSBzZXJ2aWNlLmRpc2NvdW50ID09PSB1bmRlZmluZWQgPyBvcmRlckRpc2NvdW50IDogc2VydmljZS5kaXNjb3VudDtcbiAgICB2YXIgcm93ID0gJCgnPHRyPjwvdHI+Jyk7XG4gICAgcm93LmRhdGEoJ3NlcnZpY2VfcHJpY2UnLCBzZXJ2aWNlLnNlcnZpY2VfcHJpY2UpO1xuICAgIHZhciBmaXJzdENlbGwgPSAnPHRkIGNsYXNzPVwib3JkZXItc2VydmljZS1jb2x1bW5fbmFtZVwiPicgKyBzZXJ2aWNlLnNlcnZpY2VfbmFtZSArICc8L3RkPic7XG4gICAgdmFyIHNlY29uZENlbGwgPSAnPHRkPjwvdGQ+JztcbiAgICB2YXIgcXVhbnRpdHlJbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cIk9yZGVyW3NlcnZpY2VzXVsnICsga2V5ICsgJ11bcXVhbnRpdHldXCIgdmFsdWU9XCInICsgc2VydmljZS5xdWFudGl0eSArICdcIiBjbGFzcz1cIm9yZGVyLXNlcnZpY2UtaW5wdXQgZm9ybS1jb250cm9sXCIgZGF0YS1rZXk9XCInICsga2V5ICsgJ1wiIGRhdGEtYXR0cj1cInF1YW50aXR5XCI+Jyk7XG4gICAgdmFyIHRoaXJkQ2VsbCA9ICc8dGQ+PC90ZD4nO1xuICAgIHZhciBkdXJhdGlvbklucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiT3JkZXJbc2VydmljZXNdWycgKyBrZXkgKyAnXVtkdXJhdGlvbl1cIiB2YWx1ZT1cIicgKyBzZXJ2aWNlLmR1cmF0aW9uICsgJ1wiIGNsYXNzPVwib3JkZXItc2VydmljZS1pbnB1dCBmb3JtLWNvbnRyb2xcIiBkYXRhLWtleT1cIicgKyBrZXkgKyAnXCIgZGF0YS1hdHRyPVwiZHVyYXRpb25cIj4nKTtcbiAgICB2YXIgZm91cnRoQ2VsbCA9ICc8dGQ+PC90ZD4nO1xuICAgIHZhciBzZXJ2aWNlSWRJbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIk9yZGVyW3NlcnZpY2VzXVsnICsga2V5ICsgJ11bZGl2aXNpb25fc2VydmljZV9pZF1cIiBjbGFzcz1cIm9yZGVyLXNlcnZpY2UtaW5wdXRcIicgKyAnIHZhbHVlPVwiJyArIHNlcnZpY2UuaWQgKyAnXCIgZGF0YS1rZXk9XCInICsga2V5ICsgJ1wiIGRhdGEtYXR0cj1cImRpdmlzaW9uX3NlcnZpY2VfaWRcIj4nKTtcbiAgICB2YXIgb3JkZXJTZXJ2aWNlSWRJbnB1dCA9ICQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIk9yZGVyW3NlcnZpY2VzXVsnICsga2V5ICsgJ11bb3JkZXJfc2VydmljZV9pZF1cIiBjbGFzcz1cIm9yZGVyLXNlcnZpY2UtaW5wdXRcIicgKyAnIHZhbHVlPVwiJyArIHNlcnZpY2Uub3JkZXJfc2VydmljZV9pZCArICdcIiBkYXRhLWtleT1cIicgKyBrZXkgKyAnXCIgZGF0YS1hdHRyPVwib3JkZXJfc2VydmljZV9pZFwiPicpO1xuICAgIHZhciBkaXNjb3VudElucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiT3JkZXJbc2VydmljZXNdWycgKyBrZXkgKyAnXVtkaXNjb3VudF1cIiB2YWx1ZT1cIicgKyBkaXNjb3VudCArICdcIiBjbGFzcz1cIm9yZGVyLXNlcnZpY2UtaW5wdXQgZm9ybS1jb250cm9sXCIgZGF0YS1rZXk9XCInICsga2V5ICsgJ1wiIGRhdGEtYXR0cj1cImRpc2NvdW50XCI+Jyk7XG4gICAgdmFyIGZpZnRoQ2VsbCA9ICc8dGQ+PC90ZD4nO1xuICAgIHZhciBwcmljZUlucHV0ID0gJCgnPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiT3JkZXJbc2VydmljZXNdWycgKyBrZXkgKyAnXVtwcmljZV1cIiB2YWx1ZT1cIicgKyBzZXJ2aWNlLnByaWNlICsgJ1wiIGNsYXNzPVwib3JkZXItc2VydmljZS1pbnB1dCBvcmRlci1zZXJ2aWNlLWlucHV0X3ByaWNlIGZvcm0tY29udHJvbFwiIGRhdGEta2V5PVwiJyArIGtleSArICdcIiBkYXRhLWF0dHI9XCJwcmljZVwiPicpO1xuICAgIHZhciBzaXh0aENlbGwgPSAnPHRkPjwvdGQ+JztcbiAgICB2YXIgbGluayA9ICQoJzxhIGNsYXNzPVxcXCJqcy1yZW1vdmUtc2VydmljZSBjc3MtcmVtb3ZlLXNlcnZpY2VcXFwiIGhyZWY9XFxcIiNcXFwiPjxpIGNsYXNzPVxcXCJpY29uIHNwcml0ZS1kZWxldGVcXFwiPjwvaT48L2E+Jyk7XG5cbiAgICBsaW5rLmNsaWNrKHJlbW92ZVNlcnZpY2UpO1xuICAgIGRpc2NvdW50SW5wdXQuYmluZCgnY2hhbmdlIGtleXVwIHBhc3RlJywgc2VydmljZURpc2NvdW50Q2hhbmdlZCk7XG4gICAgcHJpY2VJbnB1dC5iaW5kKCdjaGFuZ2Uga2V5dXAgcGFzdGUnLCBzZXJ2aWNlUHJpY2VDaGFuZ2VkKTtcbiAgICBxdWFudGl0eUlucHV0LmJpbmQoJ2NoYW5nZSBrZXl1cCBwYXN0ZScsIHNlcnZpY2VRdWFudGl0eUNoYW5nZWQpO1xuXG4gICAgYWRkUGF5bWVudHMoc2VydmljZS5wcmljZSAqICgxMDAgLSBkaXNjb3VudCkgLyAxMDApO1xuXG4gICAgcm93LmFwcGVuZChmaXJzdENlbGwpO1xuICAgIHJvdy5hcHBlbmQoJChzZWNvbmRDZWxsKS5hcHBlbmQoXCLQutC+0Lst0LLQviBcIikuYXBwZW5kKHF1YW50aXR5SW5wdXQpKTtcbiAgICByb3cuYXBwZW5kKCQodGhpcmRDZWxsKS5hcHBlbmQoXCLQvNC40L0gXCIpLmFwcGVuZChkdXJhdGlvbklucHV0KSk7XG4gICAgcm93LmFwcGVuZCgkKGZvdXJ0aENlbGwpLmFwcGVuZChzZXJ2aWNlSWRJbnB1dCkuYXBwZW5kKG9yZGVyU2VydmljZUlkSW5wdXQpLmFwcGVuZChcItGB0LrQuNC00LrQsDogXCIpLmFwcGVuZChkaXNjb3VudElucHV0KS5hcHBlbmQoXCIgJVwiKSk7XG4gICAgcm93LmFwcGVuZCgkKGZpZnRoQ2VsbCkuYXBwZW5kKFwi0YbQtdC90LA6IFwiKS5hcHBlbmQocHJpY2VJbnB1dCkuYXBwZW5kKFwi44CSXCIpKTtcbiAgICByb3cuYXBwZW5kKCQoc2l4dGhDZWxsKS5hcHBlbmQobGluaykpO1xuICAgIHJldHVybiByb3c7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNlcnZpY2VzKHNlcnZpY2VzKSB7XG4gICAgaWYgKHNlcnZpY2VzICYmIHNlcnZpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHNlcnZpY2VzVGFibGUgPSAkKCcjc2VydmljZXNUYWJsZScpO1xuICAgICAgICBzZXJ2aWNlc1RhYmxlLmVtcHR5KCk7XG4gICAgICAgIHZhciB0YWJiZWRUYWJsZSA9ICQoJyN0YWJiZWRUYWJsZScpO1xuICAgICAgICAkLmVhY2goc2VydmljZXMsIGZ1bmN0aW9uIChrZXksIHNlcnZpY2UpIHtcbiAgICAgICAgICAgIHZhciByb3cgPSByZW5kZXJTZXJ2aWNlKGtleSwgc2VydmljZSk7XG4gICAgICAgICAgICBzZXJ2aWNlc1RhYmxlLmFwcGVuZChyb3cpO1xuICAgICAgICAgICAgLy8gbWFrZVVzYWdlVGFiKHNlcnZpY2UubmFtZSwga2V5LCBzZXJ2aWNlLmlkLCBzZXJ2aWNlLnByb2R1Y3RzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRhYmJlZFRhYmxlLnNob3coKTtcbiAgICAgICAgJCgnLmZpZWxkLW9yZGVyLWRpdmlzaW9uX3NlcnZpY2VfaWQgLnNlbGVjdDInKS5oaWRlKCk7XG4gICAgICAgICQoJyNqcy1hZGQtc2VydmljZScpLnNob3coKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNvbnRhY3RzKGNvbnRhY3RDdXN0b21lcnMpIHtcbiAgICBpZiAoY29udGFjdEN1c3RvbWVycyAmJiBjb250YWN0Q3VzdG9tZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGNvbnRhY3RzX2VsZW1lbnQgPSAkKCcjb3JkZXItY29udGFjdHMnKTtcbiAgICAgICAgJC5lYWNoKGNvbnRhY3RDdXN0b21lcnMsIGZ1bmN0aW9uIChrZXksIGNvbnRhY3RDdXN0b21lcikge1xuICAgICAgICAgICAgYWRkQ29udGFjdChrZXksIGNvbnRhY3RDdXN0b21lciwgY29udGFjdHNfZWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkQ29udGFjdChrZXksIGNvbnRhY3RDdXN0b21lciwgY29udGFjdHNfZWxlbWVudCkge1xuICAgIHZhciBjb250YWN0ID0gJzxkaXYgY2xhc3M9XCJyb3dcIj4nICsgJyAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGlkPVwib3JkZXJfY29udGFjdF9pZF8nICsga2V5ICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICsgJyAgICAgICAgICAgbmFtZT1cIk9yZGVyW2NvbnRhY3RzXVsnICsga2V5ICsgJ11baWRdXCIgdmFsdWU9XCInICsgY29udGFjdEN1c3RvbWVyLmlkICsgJ1wiPicgKyAnICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPicgKyAnICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm9yZGVyX2NvbnRhY3RfbmFtZV8nICsga2V5ICsgJ1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCInICsgJyAgICAgICAgICAgICAgIG5hbWU9XCJPcmRlcltjb250YWN0c11bJyArIGtleSArICddW25hbWVdXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgdmFsdWU9XCInICsgY29udGFjdEN1c3RvbWVyLm5hbWUgKyAnXCI+JyArICcgICAgICAgIDxwIGNsYXNzPVwiaGVscC1ibG9jayBoZWxwLWJsb2NrLWVycm9yXCI+PC9wPicgKyAnICAgIDwvZGl2PicgKyAnICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNVwiPicgKyAnICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm9yZGVyX2NvbnRhY3RfcGhvbmVfJyArIGtleSArICdcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiJyArICcgICAgICAgICAgICAgICBuYW1lPVwiT3JkZXJbY29udGFjdHNdWycgKyBrZXkgKyAnXVtwaG9uZV1cIiBhdXRvY29tcGxldGU9XCJvZmZcIiAgdmFsdWU9XCInICsgY29udGFjdEN1c3RvbWVyLnBob25lICsgJ1wiPicgKyAnICAgICAgICA8cCBjbGFzcz1cImhlbHAtYmxvY2sgaGVscC1ibG9jay1lcnJvclwiPjwvcD4nICsgJyAgICA8L2Rpdj4nICsgJyAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTFcIj4nICsgJyAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlciBwdWxsLXJpZ2h0IGpzLWRlbGV0ZS1jb250YWN0XCI+Jm5kYXNoOzwvYnV0dG9uPicgKyAnICAgIDwvZGl2Pic7XG4gICAgJzwvZGl2Pic7XG4gICAgY29udGFjdHNfZWxlbWVudC5hcHBlbmQoY29udGFjdCk7XG4gICAgaW5pdGlhbGl6ZUNvbnRhY3RzQXV0b2NvbXBsZXRlKCcjb3JkZXJfY29udGFjdF9uYW1lXycgKyBrZXksIGtleSwgc2VsZWN0Q3VzdG9tZXJDb250YWN0KTtcbiAgICBpbml0aWFsaXplQ29udGFjdHNBdXRvY29tcGxldGUoJyNvcmRlcl9jb250YWN0X3Bob25lXycgKyBrZXksIGtleSwgc2VsZWN0Q3VzdG9tZXJDb250YWN0KTtcbiAgICAkKFwiI29yZGVyX2NvbnRhY3RfcGhvbmVfXCIgKyBrZXkpLmlucHV0bWFzayh7IFwibWFza1wiOiBcIis3IDk5OSA5OTkgOTkgOTlcIiB9KTtcbiAgICAkKCcuanMtZGVsZXRlLWNvbnRhY3QnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLnJvdycpLnJlbW92ZSgpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RDdXN0b21lckNvbnRhY3QodWksIGtleSkge1xuICAgICQoJyNvcmRlcl9jb250YWN0X2lkXycgKyBrZXkpLnZhbCh1aS5pdGVtLmlkKTtcbiAgICAkKCcjb3JkZXJfY29udGFjdF9uYW1lXycgKyBrZXkpLnZhbCh1aS5pdGVtLm5hbWUpO1xuICAgICQoJyNvcmRlcl9jb250YWN0X3Bob25lXycgKyBrZXkpLnZhbCh1aS5pdGVtLnBob25lKTtcbn1cblxudmFyIHNlYXJjaFVybCA9ICcvdGltZXRhYmxlL3NlYXJjaCc7XG5mdW5jdGlvbiBpbml0aWFsaXplQ29udGFjdHNBdXRvY29tcGxldGUoc2VsZWN0b3IsIGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZWxlbWVudCA9ICQoJycgKyBzZWxlY3Rvcik7XG4gICAgaWYgKGVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnQuYXV0b2NvbXBsZXRlKHtcbiAgICAgICAgICAgIHNvdXJjZTogc2VhcmNoVXJsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAxLFxuICAgICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodWksIGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5hdXRvY29tcGxldGUoJ2luc3RhbmNlJykuX3JlbmRlckl0ZW0gPSBmdW5jdGlvbiAodWwsIGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAkKCc8bGk+JykuYXBwZW5kKCc8cCBzdHlsZT1cXCdwYWRkaW5nOiA2cHggMTJweFxcJz4nICsgaXRlbS5uYW1lICsgJyAnICsgaXRlbS5sYXN0bmFtZSArICcgJyArIGl0ZW0ucGhvbmUgKyAnICcgLyogKyBpdGVtLmN1c3RvbWVyX2VtYWlsICovICsgJzwvcD4nKS5hcHBlbmRUbyh1bCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG4kKCcjanMtYWRkLWNvbnRhY3QnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRhY3RzX2NvbnRhaW5lciA9ICQoJyNvcmRlci1jb250YWN0cycpO1xuICAgIHZhciBjb250YWN0cyA9IGNvbnRhY3RzX2NvbnRhaW5lci5maW5kKCcucm93JykubGVuZ3RoO1xuICAgIGFkZENvbnRhY3QoY29udGFjdHMgKyAxLCB7IGlkOiAnJywgbmFtZTogJycsIHBob25lOiAnJyB9LCBjb250YWN0c19jb250YWluZXIpO1xufSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNlcnZpY2VJbmRleGVzKGluZGV4KSB7XG4gICAgJCgnLm9yZGVyLXNlcnZpY2UtaW5wdXQnKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbG9jYWxJbmRleCA9ICQodGhpcykuYXR0cignZGF0YS1rZXknKTtcbiAgICAgICAgaWYgKGxvY2FsSW5kZXggPiBpbmRleCkge1xuICAgICAgICAgICAgdmFyIG5ld0luZGV4ID0gbG9jYWxJbmRleCAtIDE7XG4gICAgICAgICAgICB2YXIgbmV3TmFtZSA9IFwiT3JkZXJbc2VydmljZXNdW1wiICsgbmV3SW5kZXggKyBcIl1bXCIgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtYXR0cicpICsgXCJdXCI7XG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ25hbWUnLCBuZXdOYW1lKTtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1rZXknLCBuZXdJbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59XG5cbiQoJyNqcy1hZGQtc2VydmljZScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgJChlLnRhcmdldCkuaGlkZSgpO1xuICAgICQoJy5maWVsZC1vcmRlci1kaXZpc2lvbl9zZXJ2aWNlX2lkIC5zZWxlY3QyJykuc2hvdygpO1xuICAgICQoJyNvcmRlci1kaXZpc2lvbl9zZXJ2aWNlX2lkJykuc2VsZWN0Mignb3BlbicpO1xufSk7XG5cbmZ1bmN0aW9uIFBheW1lbnRMaXN0KGV2ZW50LCBwYXltZW50cykge1xuICAgIHRoaXMucGF5bWVudHMgPSBwYXltZW50cztcbiAgICB0aGlzLnRvdGFsID0gMDtcbiAgICB0aGlzLmV2ZW50U3RhdHVzID0gZXZlbnQuc3RhdHVzO1xufVxuXG52YXIgUEFZTUVOVF9UWVBFX0NBU0hCQUNLID0gMztcblxuUGF5bWVudExpc3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29udGVudCA9IFwiPHRhYmxlPjx0Ym9keT5cIjtcblxuICAgICQuZWFjaCh0aGlzLnBheW1lbnRzLCBmdW5jdGlvbiAoa2V5LCBwYXltZW50KSB7XG5cbiAgICAgICAgdmFyIGFtb3VudCA9IHBheW1lbnQuYW1vdW50IHx8IDA7XG4gICAgICAgIHZhciBpc0Nhc2hiYWNrID0gcGF5bWVudC50eXBlID09IFBBWU1FTlRfVFlQRV9DQVNIQkFDSztcbiAgICAgICAgdmFyIGNvbHNwYW4gPSAyO1xuICAgICAgICBpZiAoaXNDYXNoYmFjaykge1xuICAgICAgICAgICAgY29sc3BhbiA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50ICs9ICc8dHI+JztcblxuICAgICAgICBjb250ZW50ICs9ICc8dGQ+PGxhYmVsIGZvcj1cIm9yZGVyX3BheW1lbnRfJyArIHBheW1lbnQuaWQgKyAnXCI+JyArIHBheW1lbnQubmFtZSArICc8L2xhYmVsPjwvdGQ+JztcbiAgICAgICAgY29udGVudCArPSAnPHRkIGNvbHNwYW49XCInICsgY29sc3BhbiArICdcIiA+JztcblxuICAgICAgICBpZiAoaXNDYXNoYmFjaykge1xuICAgICAgICAgICAgY29udGVudCArPSAnPHNwYW4gY2xhc3M9XCJwYXltZW50LWNhc2hiYWNrXCI+JyArIGFtb3VudCArICc8L3NwYW4+PGRpdiBjbGFzcz1cInBheW1lbnRfY2FzaGJhY2tfaW5wdXRcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudCArPSAnPGlucHV0IG5hbWU9XCJPcmRlcltwYXltZW50c11bJyArIHBheW1lbnQuaWQgKyAnXVtwYXltZW50X2lkXVwiIHR5cGU9XCJoaWRkZW5cIiB2YWx1ZT1cIicgKyBwYXltZW50LmlkICsgJ1wiPic7XG4gICAgICAgIGNvbnRlbnQgKz0gJzxpbnB1dCBuYW1lPVwiT3JkZXJbcGF5bWVudHNdWycgKyBwYXltZW50LmlkICsgJ11bYW1vdW50XVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgYW1vdW50ICsgJ1wiIGlkPVwib3JkZXJfcGF5bWVudF8nICsgcGF5bWVudC5pZCArICdcIiBcXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJvcmRlcl9wYXltZW50X2l0ZW1cIj4nO1xuXG4gICAgICAgIGlmIChpc0Nhc2hiYWNrKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IFwiPGRpdj5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRlbnQgKz0gJzwvdGQ+JztcblxuICAgICAgICBpZiAoaXNDYXNoYmFjaykge1xuICAgICAgICAgICAgY29udGVudCArPSAnPHRkPjxhIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgaWQ9XCJqcy1vcmRlci11c2UtY2FzaGJhY2stYnV0dG9uXCIgc3R5bGU9XCInICsgKGFtb3VudCA8PSAwID8gJ2Rpc3BsYXk6bm9uZScgOiAnJykgKyAnXCI+XFx1MDQxOFxcdTA0NDFcXHUwNDNGXFx1MDQzRVxcdTA0M0JcXHUwNDRDXFx1MDQzN1xcdTA0M0VcXHUwNDMyXFx1MDQzMFxcdTA0NDJcXHUwNDRDIFxcdTA0M0FcXHUwNDREXFx1MDQ0OFxcdTA0MzFcXHUwNDREXFx1MDQzQTwvYT48L3RkPic7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50ICs9ICc8L3RyPic7XG4gICAgfSk7XG5cbiAgICB2YXIgZGVwaXNpdEJ1dHRvbiA9ICc8YSBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIGlkPVwianMtb3JkZXItdXNlLWRlcG9zaXQtYnV0dG9uXCI+0JjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC00LXQv9C+0LfQuNGCPC9hPic7XG4gICAgY29udGVudCArPSAnPHRyPjx0ZD48bGFiZWw+JyArIFwi0JTQtdC/0L7Qt9C40YJcIiArICc8L2xhYmVsPjwvdGQ+PHRkIGNsYXNzPVwicGF5bWVudC1kZXBvc2l0XCI+PC90ZD48dGQ+JyArIGRlcGlzaXRCdXR0b24gKyAnPC90ZD48L3RyPic7XG4gICAgdmFyIGRlYnRCdXR0b24gPSAnPGEgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQganMtcGF5LWRlYnQtYnV0dG9uXCIgaWQ9XCJqcy1vcmRlci1wYXktZGVidC1idXR0b25cIiBocmVmPVwiL2N1c3RvbWVyL2N1c3RvbWVyL3BheS1kZWJ0XCIgZGF0YS1jb21wYW55LWN1c3RvbWVyPVwiMFwiPtCe0L/Qu9Cw0YLQuNGC0Ywg0LTQvtC70LM8L2E+JztcbiAgICBjb250ZW50ICs9ICc8dHI+PHRkPjxsYWJlbD4nICsgXCLQlNC+0LvQs1wiICsgJzwvbGFiZWw+PC90ZD48dGQgY2xhc3M9XCJwYXltZW50LWRlYnRcIj48L3RkPjx0ZD4nICsgZGVidEJ1dHRvbiArICc8L3RkPjwvdHI+JztcbiAgICBjb250ZW50ICs9ICc8L3Rib2R5PjwvdGFibGU+JztcblxuICAgIHJldHVybiBjb250ZW50O1xufTtcblxuUGF5bWVudExpc3QucHJvdG90eXBlLmFkZEFtb3VudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgJCgnLm9yZGVyX3BheW1lbnRfaXRlbScpLm9uKCdjaGFuZ2UgcGFzdGUga2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcGF5bWVudF9pZCA9ICQodGhpcykuY2xvc2VzdCgndHInKS5maW5kKFwiaW5wdXRbdHlwZT1oaWRkZW5dXCIpLnZhbCgpO1xuICAgICAgICB2YXIgcGF5bWVudCA9IF90aGlzLmdldFBheW1lbnQocGF5bWVudF9pZCk7XG4gICAgICAgIHBheW1lbnQuYW1vdW50ID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgX3RoaXMuY2FsY3VsYXRlVG90YWwoKTtcbiAgICB9KTtcbn07XG5cblBheW1lbnRMaXN0LnByb3RvdHlwZS5nZXRQYXltZW50ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIHBheW1lbnQgPSB0aGlzLnBheW1lbnRzLmZpbHRlcihmdW5jdGlvbiAocGF5bWVudCkge1xuICAgICAgICByZXR1cm4gcGF5bWVudC5pZCA9PSBpZDtcbiAgICB9KTtcbiAgICByZXR1cm4gcGF5bWVudCA/IHBheW1lbnRbMF0gOiBudWxsO1xufTtcblxuUGF5bWVudExpc3QucHJvdG90eXBlLmNhbGN1bGF0ZVRvdGFsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0b3RhbCA9IDA7XG5cbiAgICAkLmVhY2godGhpcy5wYXltZW50cywgZnVuY3Rpb24gKGtleSwgcGF5bWVudCkge1xuICAgICAgICB2YXIgYW1vdW50ID0gcGF5bWVudC5hbW91bnQgfHwgMDtcbiAgICAgICAgdG90YWwgKz0gTnVtYmVyKGFtb3VudCk7XG4gICAgfSk7XG4gICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuXG4gICAgJCgnI29yZGVyLXBhaWQnKS52YWwodGhpcy50b3RhbCk7XG4gICAgdmFyIGN1c3RvbWVyQmFsYW5jZSA9ICQoJyNwYXltZW50cycpLmRhdGEoJ2JhbGFuY2UnKTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJhbGFuY2UoY3VzdG9tZXJCYWxhbmNlKTtcbn07XG5cblBheW1lbnRMaXN0LnByb3RvdHlwZS5jYWxjdWxhdGVCYWxhbmNlID0gZnVuY3Rpb24gKGN1c3RvbWVyQmFsYW5jZSkge1xuICAgIHZhciBkZXBvc2l0ID0gMDtcbiAgICB2YXIgZGVidCA9IDA7XG4gICAgdmFyIG9yZGVyVG90YWwgPSAkKCcjb3JkZXItdG90YWwtcHJpY2UnKS52YWwoKTtcblxuICAgIGlmIChjdXN0b21lckJhbGFuY2UgPCAwKSB7XG4gICAgICAgIGRlYnQgPSBNYXRoLmFicyhjdXN0b21lckJhbGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcG9zaXQgPSBNYXRoLmFicyhjdXN0b21lckJhbGFuY2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmV2ZW50U3RhdHVzID09IDAgfHwgdGhpcy5ldmVudFN0YXR1cyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHRoaXMudG90YWwgPiBvcmRlclRvdGFsKSB7XG4gICAgICAgICAgICBkZXBvc2l0ICs9IHRoaXMudG90YWwgLSBvcmRlclRvdGFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudG90YWwgPCBvcmRlclRvdGFsKSB7XG4gICAgICAgICAgICBkZWJ0ICs9IG9yZGVyVG90YWwgLSB0aGlzLnRvdGFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJChcIi5wYXltZW50LWRlcG9zaXRcIikudGV4dChkZXBvc2l0KTtcbiAgICAkKFwiLnBheW1lbnQtZGVidFwiKS50ZXh0KGRlYnQpO1xufTtcblxuZnVuY3Rpb24gcmVuZGVyUGF5bWVudHMoZXZlbnQpIHtcbiAgICB2YXIgZGl2aXNpb25faWQgPSBldmVudC5kaXZpc2lvbl9pZCB8fCAkKFwiI3RpbWV0YWJsZS1kaXZpc2lvbl9pZFwiKS52YWwoKTtcbiAgICB2YXIgcGF5bWVudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KCQoXCIjdGltZXRhYmxlLWRpdmlzaW9uX2lkIG9wdGlvblt2YWx1ZT1cIiArIGRpdmlzaW9uX2lkICsgXCJdXCIpLmRhdGEoXCJwYXltZW50c1wiKSkpO1xuXG4gICAgcGF5bWVudExpc3QgPSBuZXcgUGF5bWVudExpc3QoZXZlbnQsIHBheW1lbnRzKTtcblxuICAgICQuZWFjaChldmVudC5wYXltZW50cywgZnVuY3Rpb24gKGtleSwgb3JkZXJfcGF5bWVudCkge1xuICAgICAgICB2YXIgcGF5bWVudCA9IHBheW1lbnRMaXN0LmdldFBheW1lbnQob3JkZXJfcGF5bWVudC5wYXltZW50X2lkKTtcbiAgICAgICAgaWYgKHBheW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF5bWVudC5hbW91bnQgPSBvcmRlcl9wYXltZW50LmFtb3VudDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI3BheW1lbnRzJykuYXBwZW5kKHBheW1lbnRMaXN0LnJlbmRlcigpKTtcbiAgICBwYXltZW50TGlzdC5hZGRBbW91bnRMaXN0ZW5lcigpO1xuICAgIHBheW1lbnRMaXN0LmNhbGN1bGF0ZVRvdGFsKCk7XG5cbiAgICAkKCcjanMtb3JkZXItcGF5LWRlYnQtYnV0dG9uJykub24oJ2NsaWNrJywgc2hvd0RlYnRQYXltZW50TW9kYWwpO1xuICAgICQoJyNqcy1vcmRlci11c2UtZGVwb3NpdC1idXR0b24nKS5vbignY2xpY2snLCB1c2VEZXBvc2l0SW5Ub3RhbFByaWNlKTtcbn1cblxuJCgnI3BheW1lbnRzJykub24oJ2NsaWNrJywgJyNqcy1vcmRlci11c2UtY2FzaGJhY2stYnV0dG9uJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgY2FzaGJhY2sgPSAkKFwiI3BheW1lbnRzXCIpLmZpbmQoXCIucGF5bWVudC1jYXNoYmFja1wiKS50ZXh0KCk7XG4gICAgJChcIi5wYXltZW50X2Nhc2hiYWNrX2lucHV0IC5vcmRlcl9wYXltZW50X2l0ZW1cIikudmFsKGNhc2hiYWNrKTtcblxuICAgICQoJy5vcmRlcl9wYXltZW50X2l0ZW0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBheW1lbnQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IE1hdGgubWluKGNhc2hiYWNrLCBwYXltZW50KTtcblxuICAgICAgICBjYXNoYmFjayAtPSBkaWZmZXJlbmNlO1xuICAgICAgICBwYXltZW50IC09IGRpZmZlcmVuY2U7XG4gICAgICAgICQodGhpcykudmFsKHBheW1lbnQpO1xuICAgIH0pO1xuXG4gICAgJChcIiNwYXltZW50c1wiKS5maW5kKFwiLnBheW1lbnQtY2FzaGJhY2tcIikuaGlkZSgpO1xuICAgICQodGhpcykuaGlkZSgpO1xuICAgICQoXCIucGF5bWVudF9jYXNoYmFja19pbnB1dFwiKS5zaG93KCk7XG59KTtcblxuZnVuY3Rpb24gdXNlRGVwb3NpdEluVG90YWxQcmljZSgpIHtcbiAgICB2YXIgZGVwb3NpdCA9ICQoXCIucGF5bWVudC1kZXBvc2l0XCIpLnRleHQoKTtcbiAgICAkKCcub3JkZXJfcGF5bWVudF9pdGVtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXltZW50ID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBNYXRoLm1pbihkZXBvc2l0LCBwYXltZW50KTtcbiAgICAgICAgZGVwb3NpdCAtPSBkaWZmZXJlbmNlO1xuICAgICAgICBwYXltZW50IC09IGRpZmZlcmVuY2U7XG4gICAgICAgICQodGhpcykudmFsKHBheW1lbnQpO1xuICAgIH0pO1xuICAgIHZhciBkZWJ0ID0gJChcIi5wYXltZW50LWRlYnRcIikudGV4dCgpO1xuICAgIHZhciBkaWZmZXJlbmNlID0gTWF0aC5taW4oZGVwb3NpdCwgZGVidCk7XG4gICAgZGVwb3NpdCAtPSBkaWZmZXJlbmNlO1xuICAgIGRlYnQgLT0gZGlmZmVyZW5jZTtcbiAgICAkKFwiLnBheW1lbnQtZGVidFwiKS50ZXh0KGRlYnQpO1xuICAgICQoXCIucGF5bWVudC1kZXBvc2l0XCIpLnRleHQoZGVwb3NpdCk7XG4gICAgJCh0aGlzKS50ZXh0KCfQlNC10L/QvtC30LjRgiDQuNGB0L/QvtC70YzQt9C+0LLQsNC9Jyk7XG59XG5cbiQoJy5qcy1uZXctcmVmZXJyZXInKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgIGJvb3Rib3gucHJvbXB0KFwi0JTQvtCx0LDQstC40YLRjCDQvdCw0L/RgNCw0LLQu9C10L3QuNC1XCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgJC5wb3N0KGhyZWYsIHsgXCJuYW1lXCI6IHJlc3VsdCB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGFkZE9wdGlvbignb3JkZXItcmVmZXJyZXJfaWQnLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgJCgnI29yZGVyLXJlZmVycmVyX2lkJykudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuJCgnI3Byb2R1Y3RzJykuZmluZCgnLmpzLWFkZC1wcm9kdWN0JykuY2xpY2soYWRkUHJvZHVjdCk7XG5cbiQoJyNwcm9kdWN0cycpLm9uKCdjaGFuZ2UnLCAnLnByb2R1Y3QtcHJpY2UgPiBpbnB1dCcsIHVwZGF0ZVByb2R1Y3RQcmljZSk7XG5cbiQoJyNwcm9kdWN0cycpLm9uKCdjaGFuZ2UnLCAnLnByb2R1Y3QtcXVhbnRpdHkgPiBpbnB1dCcsIHVwZGF0ZVByb2R1Y3RRdWFudGl0eSk7XG5cbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3RzKHByb2R1Y3RzKSB7XG4gICAgaWYgKHByb2R1Y3RzICYmIHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJC5lYWNoKHByb2R1Y3RzLCBmdW5jdGlvbiAoa2V5LCBwcm9kdWN0KSB7XG4gICAgICAgICAgICByZW5kZXJQcm9kdWN0KHByb2R1Y3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FsY1Byb2R1Y3RzVG90YWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclByb2R1Y3QocHJvZHVjdCkge1xuICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHJvdy5jbGFzc05hbWUgPSAncHJvZHVjdC1yb3cnO1xuXG4gICAgdmFyIHByb2R1Y3RfaWQgPSBwcm9kdWN0ID8gcHJvZHVjdC5wcm9kdWN0X2lkIDogbnVsbDtcbiAgICB2YXIgcXVhbnRpdHkgPSBwcm9kdWN0ID8gcHJvZHVjdC5xdWFudGl0eSA6IDE7XG4gICAgdmFyIHB1cmNoYXNlX3ByaWNlID0gcHJvZHVjdCA/IHByb2R1Y3QucHVyY2hhc2VfcHJpY2UgOiAwO1xuICAgIHZhciBwcmljZSA9IHByb2R1Y3QgPyBwcm9kdWN0LnByaWNlICsgJycgOiAwO1xuICAgIHZhciB1bml0ID0gcHJvZHVjdCA/IHByb2R1Y3QudW5pdCA6IFwiXCI7XG4gICAgdmFyIHN0b2NrX2xldmVsID0gcHJvZHVjdCA/IHByb2R1Y3Quc3RvY2tfbGV2ZWwgOiBcIlwiO1xuXG4gICAgdmFyIGNlbGwgPSBudWxsO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgIGNlbGwgPSBtYWtlUHJvZHVjdFRleHRDZWxsKFwiYXV0b2NvbXBsZXRlLWlucHV0LWNlbGwgcHJvZHVjdC1uYW1lXCIsIHByb2R1Y3QubmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbCA9IG1ha2VQcm9kdWN0Q2VsbChcImF1dG9jb21wbGV0ZS1pbnB1dC1jZWxsIHByb2R1Y3QtbmFtZVwiLCAndGV4dCcsICcnLCBpbml0aWFsaXplUHJvZHVjdEF1dG9jb21wbGV0ZSk7XG4gICAgfVxuICAgIHZhciBwcm9kdWN0SWRJbnB1dCA9IG1ha2VQcm9kdWN0SW5wdXQoJ2hpZGRlbicsIHByb2R1Y3RfaWQsIG51bGwsICdPcmRlcltwcm9kdWN0c11bJyArIHByb2R1Y3RDb3VudGVyICsgJ11bcHJvZHVjdF9pZF0nKTtcbiAgICBwcm9kdWN0SWRJbnB1dC5jbGFzc05hbWUgPSAncHJvZHVjdF9pZC1pbnB1dCc7XG4gICAgY2VsbC5hcHBlbmRDaGlsZChwcm9kdWN0SWRJbnB1dCk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgY2VsbCA9IG1ha2VQcm9kdWN0VGV4dENlbGwoXCJwcm9kdWN0LXVuaXRcIiwgdW5pdCk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgY2VsbCA9IG1ha2VQcm9kdWN0Q2VsbChcInByb2R1Y3QtcHJpY2VcIiwgJ251bWJlcicsIHByaWNlLCBudWxsLCAnT3JkZXJbcHJvZHVjdHNdWycgKyBwcm9kdWN0Q291bnRlciArICddW3ByaWNlXScpO1xuICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcblxuICAgIGNlbGwgPSBtYWtlUHJvZHVjdENlbGwoXCJwcm9kdWN0LXF1YW50aXR5IGVycm9yLXBvcG92ZXJcIiwgJ251bWJlcicsIHF1YW50aXR5LCBudWxsLCAnT3JkZXJbcHJvZHVjdHNdWycgKyBwcm9kdWN0Q291bnRlciArICddW3F1YW50aXR5XScpO1xuICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcblxuICAgIGNlbGwgPSBtYWtlUHJvZHVjdFRleHRDZWxsKFwicHJvZHVjdC1zdG9jay1sZXZlbFwiLCBzdG9ja19sZXZlbCk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgY2VsbCA9IG1ha2VQcm9kdWN0VGV4dENlbGwoXCJkZWxldGUtaXRlbS1jZWxsXCIpO1xuICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVQcm9kdWN0KTtcbiAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICBpY29uLmNsYXNzTmFtZSA9ICdpY29uIHNwcml0ZS1kZWxldGUnO1xuICAgIGxpbmsuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgY2VsbC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG5cbiAgICAkKCcucHJvZHVjdHMtdGFibGUnKS5maW5kKCd0YWJsZScpLmFwcGVuZChyb3cpO1xuICAgIHByb2R1Y3RDb3VudGVyKys7XG59XG5cbmZ1bmN0aW9uIGFkZFByb2R1Y3QoZXZlbnQpIHtcbiAgICByZW5kZXJQcm9kdWN0KCk7XG4gICAgY2FsY1Byb2R1Y3RzVG90YWwoKTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlUHJvZHVjdChldmVudCkge1xuICAgIHZhciByb3cgPSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgndHInKTtcbiAgICB2YXIgcXVhbnRpdHkgPSByb3cuZmluZCgnLnByb2R1Y3QtcXVhbnRpdHkgPiBpbnB1dCcpLnZhbCgpO1xuICAgIHZhciBwcmljZSA9IHJvdy5maW5kKCcucHJvZHVjdC1wcmljZSA+IGlucHV0JykudmFsKCk7XG4gICAgcmVkdWNlUGF5bWVudHMocXVhbnRpdHkgKiBwcmljZSk7XG4gICAgcm93LnJlbW92ZSgpO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHByb2R1Y3RzID0gW107XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb2RhbEZvcm0gPSB7XG4gICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgZGlhbG9nQnV0dG9uczoge1xuICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAn0KHQvtGF0YDQsNC90LjRgtGMJyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4tcHJpbWFyeSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYW5nZXI6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ9Ce0YLQvNC10L3QsCcsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLWRlZmF1bHQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHZhciBmb3JtID0gJCgnIycgKyBtb2RhbEZvcm0uY2xhc3NOYW1lICsgJy1mb3JtJyk7XG4gICAgICAgICAgICB2YXIgdXJsID0gZm9ybS5hdHRyKCdhY3Rpb24nKTtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICQucG9zdCh1cmwsIGZvcm0uc2VyaWFsaXplKCkpLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsRm9ybS5zZXRFcnJvcnMocmVzcG9uc2UuZXJyb3JzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5pZCwgcmVzcG9uc2UuZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0TWVzc2FnZSgn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEVycm9yczogZnVuY3Rpb24gc2V0RXJyb3JzKGVycm9ycykge1xuICAgICAgICAgICAgJC5lYWNoKGVycm9ycywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9ICQoJy5maWVsZC0nICsgbW9kYWxGb3JtLmNsYXNzTmFtZSArICctJyArIGtleSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5maW5kKCcuaGVscC1ibG9jaycpLnRleHQodmFsdWVbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0RGlhbG9nQ2FsbGJhY2sobW9kZWxOYW1lKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZvaWQgMDtcbiAgICAgICAgaWYgKG1vZGVsTmFtZSA9PSAnY3VzdG9tZXInKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbiBoaWRlTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvb3Rib3guaGlkZUFsbCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbW9kYWxGb3JtLnN1Ym1pdChoaWRlTW9kYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZWxOYW1lID09ICdjb21wYW55Y29udHJhY3RvcicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uIGhpZGVNb2RhbChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvb3Rib3guaGlkZUFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRPcHRpb24oJ2RlbGl2ZXJ5LWNvbnRyYWN0b3JfaWQnLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2RlbGl2ZXJ5LWNvbnRyYWN0b3JfaWQnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1vZGFsRm9ybS5zdWJtaXQoaGlkZU1vZGFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGlkZU1vZGFsID0gZnVuY3Rpb24gaGlkZU1vZGFsKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9vdGJveC5oaWRlQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZE9wdGlvbigncHJvZHVjdC0nICsgbW9kYWxGb3JtLmNsYXNzTmFtZSArICdfaWQnLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1vZGFsRm9ybS5zdWJtaXQoaGlkZU1vZGFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG1vZGFsRm9ybS5kaWFsb2dCdXR0b25zLnN1Y2Nlc3MuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAkKCcuc3RvY2tfbmV3X2VudGl0eV9saW5rJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgdXJsID0gJChlLnRhcmdldCkuYXR0cignaHJlZicpO1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gJChlLnRhcmdldCkuZGF0YSgnbW9kZWwnKTtcbiAgICAgICAgdmFyIHRpdGxlID0gJChlLnRhcmdldCkuZGF0YSgndGl0bGUnKTtcbiAgICAgICAgbG9hZE1vZGFsKGNsYXNzTmFtZSwgdXJsLCB0aXRsZSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBsb2FkTW9kYWwoY2xhc3NOYW1lLCB1cmwsIHRpdGxlKSB7XG4gICAgICAgICQuZ2V0KHVybCkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIG1vZGFsRm9ybS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICBzZXREaWFsb2dDYWxsYmFjayhjbGFzc05hbWUpO1xuICAgICAgICAgICAgZGlhbG9nTWVzc2FnZShyZXNwb25zZSwgbW9kYWxGb3JtLmRpYWxvZ0J1dHRvbnMsIHRpdGxlKTtcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbGVydE1lc3NhZ2UoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkT3B0aW9uKHNlbGVjdElkLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gJCgnIycgKyBzZWxlY3RJZCk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKCQoJzxvcHRpb24+PC9vcHRpb24+JykuYXR0cigndmFsdWUnLCBrZXkpLnRleHQodmFsdWUpKTtcbiAgICAgICAgZWxlbWVudC52YWwoa2V5KTtcbiAgICB9XG5cbiAgICAkKCcucHJvZHVjdC1xdWFudGl0eScpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgICBoYW5kbGVQcm9kdWN0QXR0ckNoYW5nZShlLCAncXVhbnRpdHknKTtcblxuICAgICAgICB2YXIgZWxlbWVudCA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICAgICAgdmFyIHN0b2NrX2xldmVsID0gZWxlbWVudC5jbG9zZXN0KCd0cicpLmZpbmQoJy5wcm9kdWN0LXN0b2NrLWxldmVsJykudGV4dCgpO1xuICAgICAgICBpZiAoJC5pc051bWVyaWMoc3RvY2tfbGV2ZWwpICYmIGVsZW1lbnQudmFsKCkgPiBOdW1iZXIoc3RvY2tfbGV2ZWwpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnBvcG92ZXIoe1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2xlZnQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfQndC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YLQvtCy0LDRgNCwINC90LAg0YHQutC70LDQtNC1JyxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbGVtZW50LnBvcG92ZXIoJ3Nob3cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucG9wb3ZlcignZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcucHJvZHVjdC1wcmljZScpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgICBoYW5kbGVQcm9kdWN0QXR0ckNoYW5nZShlLCAncHJpY2UnKTtcbiAgICB9KTtcblxuICAgICQoJy5wcm9kdWN0LWRpc2NvdW50JykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGhhbmRsZVByb2R1Y3RBdHRyQ2hhbmdlKGUsICdkaXNjb3VudCcpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlUHJvZHVjdEF0dHJDaGFuZ2UoZSwgYXR0ck5hbWUpIHtcbiAgICAgICAgdmFyIGlkID0gJChlLnRhcmdldCkuY2xvc2VzdCgndHInKS5maW5kKCdzZWxlY3QnKS5hdHRyKCdpZCcpO1xuICAgICAgICB2YXIga2V5ID0gZ2V0UHJvZHVjdEtleShpZCk7XG4gICAgICAgIHByb2R1Y3RzW2tleV0uZGF0YVthdHRyTmFtZV0gPSAkKGUudGFyZ2V0KS52YWwoKTtcbiAgICAgICAgdmFyIHByb2R1Y3RDb3N0ID0gZ2V0UHJvZHVjdENvc3QocHJvZHVjdHNba2V5XS5kYXRhLnByaWNlLCBwcm9kdWN0c1trZXldLmRhdGEucXVhbnRpdHksIHByb2R1Y3RzW2tleV0uZGF0YS5kaXNjb3VudCk7XG4gICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3RyJykuZmluZCgnLnByb2R1Y3QtY29zdCcpLnRleHQocHJvZHVjdENvc3QpO1xuICAgICAgICBjYWxjV2FyZWhvdXNlVG90YWwoKTtcbiAgICB9XG5cbiAgICAkKCcuZHluYW1pY2Zvcm1fd3JhcHBlcl9wcm9kdWN0cycpLm9uKCdhZnRlckluc2VydCcsIGZ1bmN0aW9uIChlLCBpdGVtKSB7XG4gICAgICAgICQoaXRlbSkuZmluZCgnLnByb2R1Y3QtcXVhbnRpdHknKS52YWwoMSk7XG4gICAgICAgICQoaXRlbSkuZmluZCgnLnByb2R1Y3QtZGlzY291bnQnKS52YWwoMCk7XG4gICAgICAgICQoaXRlbSkuZmluZCgnLnByb2R1Y3QtcXVhbnRpdHknKS5jaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGhhbmRsZVByb2R1Y3RBdHRyQ2hhbmdlKGUsICdxdWFudGl0eScpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChpdGVtKS5maW5kKCcucHJvZHVjdC1wcmljZScpLmNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaGFuZGxlUHJvZHVjdEF0dHJDaGFuZ2UoZSwgJ3ByaWNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGl0ZW0pLmZpbmQoJy5wcm9kdWN0LWRpc2NvdW50JykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBoYW5kbGVQcm9kdWN0QXR0ckNoYW5nZShlLCAnZGlzY291bnQnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKCcuZHluYW1pY2Zvcm1fd3JhcHBlcl9wcm9kdWN0cycpLm9uKCdiZWZvcmVEZWxldGUnLCBmdW5jdGlvbiAoZSwgaXRlbSkge1xuICAgICAgICB2YXIgaWQgPSAkKGl0ZW0pLmZpbmQoJ3NlbGVjdCcpLmF0dHIoJ2lkJyk7XG4gICAgICAgIHZhciBrZXkgPSBnZXRQcm9kdWN0S2V5KGlkKTtcbiAgICAgICAgcHJvZHVjdHMuc3BsaWNlKGtleSwgMSk7XG4gICAgfSk7XG5cbiAgICAkKCcuZHluYW1pY2Zvcm1fd3JhcHBlcl9wcm9kdWN0cycpLm9uKCdhZnRlckRlbGV0ZScsIGZ1bmN0aW9uIChlLCBpdGVtKSB7XG4gICAgICAgIGNhbGNXYXJlaG91c2VUb3RhbCgpO1xuICAgIH0pO1xuXG4gICAgc2FsZUluaXQoKTtcblxuICAgIGZ1bmN0aW9uIHNhbGVJbml0KCkge1xuICAgICAgICB2YXIgc2FsZUl0ZW1zID0gJCgnI21vZGVsLXByb2R1Y3RzJykuZGF0YSgncHJvZHVjdHMnKTtcbiAgICAgICAgJC5lYWNoKHNhbGVJdGVtcywgZnVuY3Rpb24gKGtleSwgZGF0YSkge1xuICAgICAgICAgICAgcHJvZHVjdHNba2V5XSA9IG5ldyBQcm9kdWN0KGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gUHJvZHVjdChkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbn1cblxuZnVuY3Rpb24gaW5pdFNlbGVjdDJMb2FkaW5nKGEsIGIpIHtcbiAgICBpbml0UzJMb2FkaW5nKGEsIGIpO1xuICAgICQoJ3NwYW4uc2VsZWN0Mi5zZWxlY3QyLWNvbnRhaW5lcicpLmFkZENsYXNzKCdpbnB1dC1zbScpO1xuICAgIGluaXRTMlNlbGVjdEhhbmRsZXIoYSk7XG59XG5cbmZ1bmN0aW9uIGluaXRTZWxlY3QyRHJvcFN0eWxlKGlkLCBrdkNsb3NlLCBldikge1xuICAgIGluaXRTMk9wZW4oaWQsIGt2Q2xvc2UsIGV2KTtcbn1cblxuZnVuY3Rpb24gaW5pdFMyU2VsZWN0SGFuZGxlcihpZCkge1xuICAgICQoJyMnICsgaWQpLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHNlbGVjdFdhcmVob3VzZVByb2R1Y3QoZSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdFdhcmVob3VzZVByb2R1Y3QoZXZ0KSB7XG4gICAgdmFyIGFyZ3MgPSBldnQucGFyYW1zLmRhdGE7XG4gICAgdmFyIHJvdyA9ICQoZXZ0LnRhcmdldCkuY2xvc2VzdCgndHInKTtcbiAgICB2YXIgcXVhbnRpdHkgPSByb3cuZmluZCgnLnByb2R1Y3QtcXVhbnRpdHknKS52YWwoKTtcbiAgICB2YXIgZGlzY291bnQgPSByb3cuZmluZCgnLnByb2R1Y3QtZGlzY291bnQnKS52YWwoKTtcblxuICAgIGlmIChxdWFudGl0eSA9PT0gJycpIHtcbiAgICAgICAgcXVhbnRpdHkgPSAwO1xuICAgIH1cbiAgICBpZiAoZGlzY291bnQgPT09ICcnKSB7XG4gICAgICAgIGRpc2NvdW50ID0gMDtcbiAgICB9XG5cbiAgICBhcmdzLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgYXJncy5kaXNjb3VudCA9IGRpc2NvdW50O1xuXG4gICAgdmFyIGlkID0gJChldnQudGFyZ2V0KS5hdHRyKCdpZCcpO1xuICAgIHZhciBrZXkgPSBnZXRQcm9kdWN0S2V5KGlkKTtcbiAgICBwcm9kdWN0c1trZXldID0gbmV3IFByb2R1Y3QoYXJncyk7XG5cbiAgICBmaWxsQ2VsbHMocm93LCBhcmdzKTtcblxuICAgIGNhbGNXYXJlaG91c2VUb3RhbCgpO1xufVxuXG5mdW5jdGlvbiBmaWxsQ2VsbHMocm93LCBhcmdzKSB7XG4gICAgcm93LmZpbmQoJy5wcm9kdWN0LXVuaXQnKS50ZXh0KGFyZ3MudW5pdCk7XG4gICAgcm93LmZpbmQoJy5wcm9kdWN0LXByaWNlJykudmFsKGFyZ3MucHJpY2UpLmNoYW5nZSgpO1xuICAgIHJvdy5maW5kKCcucHJvZHVjdC1kaXNjb3VudCcpLnZhbChhcmdzLmRpc2NvdW50KS5jaGFuZ2UoKTtcbiAgICByb3cuZmluZCgnLnByb2R1Y3QtY29zdCcpLnRleHQoZ2V0UHJvZHVjdENvc3QoYXJncy5wcmljZSwgYXJncy5xdWFudGl0eSwgYXJncy5kaXNjb3VudCkpO1xuICAgIHJvdy5maW5kKCcucHJvZHVjdC1zdG9jay1sZXZlbCcpLnRleHQoYXJncy5zdG9ja19sZXZlbCk7XG59XG5cbmZ1bmN0aW9uIGNhbGNXYXJlaG91c2VUb3RhbCgpIHtcbiAgICB2YXIgdG90YWxTdW0gPSAwO1xuICAgIHZhciBzdWJ0b3RhbCA9IDA7XG4gICAgdmFyIHRvdGFsVGF4ID0gMDtcblxuICAgICQuZWFjaChwcm9kdWN0cywgZnVuY3Rpb24gKGtleSwgcHJvZHVjdF9kYXRhKSB7XG4gICAgICAgIHZhciB0YXggPSAwO1xuICAgICAgICB2YXIgcHJvZHVjdCA9IHByb2R1Y3RfZGF0YS5kYXRhICE9PSB1bmRlZmluZWQgPyBwcm9kdWN0X2RhdGEuZGF0YSA6IHByb2R1Y3RfZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gZ2V0UHJvZHVjdENvc3QocHJvZHVjdC5wcmljZSwgcHJvZHVjdC5xdWFudGl0eSwgcHJvZHVjdC5kaXNjb3VudCk7XG4gICAgICAgIGlmICgkLmlzTnVtZXJpYyhwcm9kdWN0LnZhdCkgJiYgcHJvZHVjdC52YXQgIT09IDApIHtcbiAgICAgICAgICAgIHRheCA9ICsodG90YWwgLyBwcm9kdWN0LnZhdCkudG9GaXhlZCgyKTtcbiAgICAgICAgfVxuICAgICAgICB0b3RhbFN1bSArPSB0b3RhbDtcbiAgICAgICAgdG90YWxUYXggKz0gdGF4O1xuICAgICAgICBzdWJ0b3RhbCArPSB0b3RhbCAtIHRheDtcbiAgICB9KTtcblxuICAgICQoJy5wcm9kdWN0cy10b3RhbCcpLnRleHQodG90YWxTdW0pO1xuICAgICQoJy5zYWxlLXN1YnRvdGFsJykudGV4dChzdWJ0b3RhbCk7XG4gICAgJCgnLnNhbGUtdGF4JykudGV4dCh0b3RhbFRheCk7XG5cbiAgICAkKCcjc2FsZS1wYWlkJykudmFsKHRvdGFsU3VtKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvZHVjdEtleShpZCkge1xuICAgIHZhciBpbmRleCA9IGlkLmluZGV4T2YoJy0nKTtcbiAgICByZXR1cm4gaWQuc3Vic3RyKGluZGV4ICsgMSkucmVwbGFjZSgnLXByb2R1Y3RfaWQnLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldFByb2R1Y3RDb3N0KHByaWNlLCBxdWFudGl0eSwgZGlzY291bnQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoZGlzY291bnQgPyAoMTAwIC0gZGlzY291bnQpIC8gMTAwIDogMSkgKiArcXVhbnRpdHkgKiArcHJpY2UpO1xufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIG1vdmVTb3VyY2VzVXJsID0gJy9jdXN0b21lci9zb3VyY2UvbW92ZSc7XG5cbiQoJy5qcy1jb3Vyc2UtbW92ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc291cmNlID0gJCh0aGlzKS5kYXRhKCdzb3VyY2UnKTtcbiAgICBib290Ym94LnByb21wdCh7XG4gICAgICAgIHRpdGxlOiAn0J/QtdGA0LXQvdC10YHRgtC4INC60LvQuNC10L3RgtC+0LIg0LInLFxuICAgICAgICBpbnB1dFR5cGU6ICdzZWxlY3QnLFxuICAgICAgICBpbnB1dE9wdGlvbnM6IHNvdXJjZXNMaXN0LFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2socmVzdWx0KSB7XG4gICAgICAgICAgICAkLmdldChtb3ZlU291cmNlc1VybCwge1xuICAgICAgICAgICAgICAgICdzb3VyY2UnOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAgJ2Rlc3RpbmF0aW9uJzogcmVzdWx0XG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJC5qR3Jvd2woZGF0YS51cGRhdGVkICsgJyDQutC70LjQtdC90YIo0LAv0L7Qsikg0L/QtdGA0LXQvdC10YHQtdC90L4nLCB7IGdyb3VwOiAnZmxhc2hfbm90aWNlJyB9KTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQuakdyb3dsKCfQntGI0LjQsdC60LAg0L/QtdGA0LXQvdC+0YHQsCDQutC70LjQtdC90YLQvtCyJywgeyBncm91cDogJ2ZsYXNoX2FsZXJ0JyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWN0aW9uV2lkZ2V0ID0gJCgnLnByb2R1Y3QtaW5kZXgnKTtcblxuICAgIHZhciBhbGwgPSBmYWxzZTtcblxuICAgIC8vIFdpZGdldCBhY3Rpb25zXG4gICAge1xuICAgICAgICB2YXIgdG9nZ2xlQnV0dG9ucyA9IGZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbnMoaXNFbmFibGVkKSB7XG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9ICQoJy5qcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJChhY3Rpb25XaWRnZXQpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbdHlwZT1jaGVja2JveF0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gJCgnI3Byb2R1Y3RzJykueWlpR3JpZFZpZXcoJ2dldFNlbGVjdGVkUm93cycpO1xuICAgICAgICAgICAgdG9nZ2xlQnV0dG9ucyhrZXlzLmxlbmd0aCA+IDApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvZHVjdHMgPSB2b2lkIDA7XG4gICAgYWN0aW9uV2lkZ2V0Lm9uKCdjbGljaycsICcuanMtc2VsZWN0ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFsbCA9IGZhbHNlO1xuICAgICAgICBwcm9kdWN0cyA9ICQoJyNwcm9kdWN0cycpLnlpaUdyaWRWaWV3KCdnZXRTZWxlY3RlZFJvd3MnKTtcbiAgICB9KTtcblxuICAgIHtcbiAgICAgICAgdmFyIGRlbGV0ZVByb2R1Y3RzID0gZnVuY3Rpb24gZGVsZXRlUHJvZHVjdHMocHJvZHVjdHMpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0geyBwcm9kdWN0czogcHJvZHVjdHMgfTtcbiAgICAgICAgICAgICQucG9zdChkZWxldGVVUkwsIGRhdGEsIGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICAkKCcjcHJvZHVjdHMtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1vZGFsc1xuICAgICAgICBhY3Rpb25XaWRnZXQub24oJ2NsaWNrJywgJy5qcy1idXR0b24tZGVsZXRlOm5vdCguZGlzYWJsZWQpJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0oXCLQktGLINGD0LLQtdGA0LXQvdGLINGH0YLQviDRhdC+0YLQuNGC0LUg0YPQtNCw0LvQuNGC0Ywg0LTQsNC90L3Ri9C1INGC0L7QstCw0YDRiz9cIikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUHJvZHVjdHMocHJvZHVjdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGRlbGV0ZVVSTCA9ICdiYXRjaC1kZWxldGUnO1xuICAgIH1cbn0pOyJdfQ==
